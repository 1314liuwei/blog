# Linux 常用命令

## 1. 修改用户名和密码

```bash
# 修改用户名
usermod -l new old

# 修改密码
passwd 
```

## 2. 查找文件

```bash
find <指定目录> <指定条件> <指定动作>
```

## 3. 统计文件夹下文件数量

Linux下有三个命令：`ls`、`grep`、`wc`。通过这三个命令的组合可以统计目录下文件及文件夹的个数。

- 统计当前目录下文件的个数（不包括目录）

```bash
$ ls -l | grep "^-" | wc -l
```

- 统计当前目录下文件的个数（包括子目录）

```bash
$ ls -lR| grep "^-" | wc -l
```

- 查看某目录下文件夹(目录)的个数（包括子目录）

```bash
$ ls -lR | grep "^d" | wc -l
```

**命令解析：**

- `ls -l`

长列表输出该目录下文件信息(注意这里的文件是指目录、链接、设备文件等)，每一行对应一个文件或目录，`ls -lR`是列出所有文件，包括子目录。

- `grep "^-"`
  过滤`ls`的输出信息，只保留一般文件，只保留目录是`grep "^d"`。
- `wc -l`
  统计输出信息的行数，统计结果就是输出信息的行数，一行信息对应一个文件，所以就是文件的个数。

## 4. HTTP 压测

编译安装 wrk：

```bash
# 克隆到本地
git clone https://github.com/wg/wrk
# 进入wrk
cd wrk
# 编译
make
```

对 百度 进行压测：

```bash
-- 表示采用了10个线程,连接数300,持续时间20s
./wrk -t10 -c300 -d20s --latency http://www.baidu.com
```

