<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><follow_challenge><feedId>77250260013802496</feedId><userId>42117541714060288</userId></follow_challenge><title>Linux on Wlynxg's Blog</title><link>https://wlynxg.github.io/blog/categories/linux/</link><description>Recent content in Linux on Wlynxg's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Thu, 07 Nov 2024 19:16:21 +0800</lastBuildDate><atom:link href="https://wlynxg.github.io/blog/categories/linux/index.xml" rel="self" type="application/rss+xml"/><item><title>dockerä¸­apt-get updateå‡ºé”™hash sum mismatch</title><link>https://wlynxg.github.io/blog/p/docker%E4%B8%ADapt-get-update%E5%87%BA%E9%94%99hash-sum-mismatch/</link><pubDate>Thu, 10 Oct 2024 19:12:46 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/docker%E4%B8%ADapt-get-update%E5%87%BA%E9%94%99hash-sum-mismatch/</guid><description>&lt;p>åœ¨åœ¨ &lt;code>Dockerfile&lt;/code> ä¸­æ‰§è¡Œå‘½ä»¤&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-dockerfile" data-lang="dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="k">RUN&lt;/span> apt-get update &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> apt-get upgrade -y &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> apt-get autoremove -y&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ—¶å‡ºç° &lt;code>Hash Sum mismatch&lt;/code> é—®é¢˜ã€‚&lt;/p>
&lt;p>æ­¤æ—¶éœ€è¦è¿›è¡Œæ¢æºï¼Œå½“å‰æˆ‘æ¢ä¸ºä¸­ç§‘å¤§æºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-dockerfile" data-lang="dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="k">RUN&lt;/span> sed -i s@/archive.ubuntu.com/@/mirrors.ustc.edu.cn/@g /etc/apt/sources.list &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> apt-get update&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¢æºä¹‹åé—®é¢˜è§£å†³ã€‚&lt;/p></description></item><item><title>è§£å†³ make warning Clock skew detected. Your build may be incomplete. é—®é¢˜</title><link>https://wlynxg.github.io/blog/p/%E8%A7%A3%E5%86%B3-make-warning-clock-skew-detected.-your-build-may-be-incomplete.-%E9%97%AE%E9%A2%98/</link><pubDate>Tue, 25 Jun 2024 18:36:13 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/%E8%A7%A3%E5%86%B3-make-warning-clock-skew-detected.-your-build-may-be-incomplete.-%E9%97%AE%E9%A2%98/</guid><description>&lt;h1 id="è§£å†³-make-warning-clock-skew-detected-your-build-may-be-incomplete-é—®é¢˜">è§£å†³ &amp;ldquo;make: warning: Clock skew detected. Your build may be incomplete.&amp;rdquo; é—®é¢˜
&lt;/h1>&lt;p>æ‰§è¡Œ &lt;code>make&lt;/code> å‘½ä»¤æ—¶å‡ºç°&lt;code>make: warning: Clock skew detected. Your build may be incomplete.&lt;/code>ã€‚&lt;/p>
&lt;p>è¿™æ˜¯ç”±äºä¸åŒè®¾å¤‡ç³»ç»Ÿä¹‹é—´çš„æ—¶é—´ä¸Šå­˜åœ¨å·®è·ï¼Œ&lt;code>make&lt;/code> å‘½ä»¤æ£€æµ‹åˆ°æ—¶é’Ÿåå·®ã€‚&lt;/p>
&lt;p>è§£å†³æ–¹æ¡ˆï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">find ./ -type f &lt;span class="p">|&lt;/span>xargs touch
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å°†æ‰€æœ‰æ–‡ä»¶éƒ½é‡æ–°touchä¸€éï¼Œæ›´æ–°åˆ°æœ¬åœ°ç³»ç»Ÿçš„æ—¶é—´ï¼Œå†makeå°±æ²¡é—®é¢˜äº†ã€‚&lt;/p></description></item><item><title>è‡ªåŠ¨ç¦ç”¨ç™»å½•å¤±è´¥çš„ ssh IP</title><link>https://wlynxg.github.io/blog/p/%E8%87%AA%E5%8A%A8%E7%A6%81%E7%94%A8%E7%99%BB%E5%BD%95%E5%A4%B1%E8%B4%A5%E7%9A%84-ssh-ip/</link><pubDate>Thu, 11 Jan 2024 10:08:23 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/%E8%87%AA%E5%8A%A8%E7%A6%81%E7%94%A8%E7%99%BB%E5%BD%95%E5%A4%B1%E8%B4%A5%E7%9A%84-ssh-ip/</guid><description>&lt;h1 id="è‡ªåŠ¨ç¦ç”¨ç™»å½•å¤±è´¥çš„-ssh-ip">è‡ªåŠ¨ç¦ç”¨ç™»å½•å¤±è´¥çš„ ssh IP
&lt;/h1>&lt;p>è‡ªåŠ¨ç¦ç”¨ç™»å½•å¤±è´¥çš„ IP è„šæœ¬ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">journalctl -u sshd.service &lt;span class="p">|&lt;/span> awk &lt;span class="s1">&amp;#39;/Failed/{print $(NF-3)}&amp;#39;&lt;/span>&lt;span class="p">|&lt;/span>sort&lt;span class="p">|&lt;/span>uniq -c&lt;span class="p">|&lt;/span>awk &lt;span class="s1">&amp;#39;{print $2&amp;#34;=&amp;#34;$1;}&amp;#39;&lt;/span> &amp;gt; /root/black.list
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">while&lt;/span> &lt;span class="nv">IFS&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="nb">read&lt;/span> -r line
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">IP&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$line&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> awk -F&lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;{print $1}&amp;#39;&lt;/span>&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">NUM&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">$(&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$line&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> awk -F&lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;{print $2}&amp;#39;&lt;/span>&lt;span class="k">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># å¤±è´¥æ¬¡æ•°å¤§äº 3 åˆ™ç¦ç”¨ IP&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$NUM&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> -ge &lt;span class="m">3&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> grep &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$IP&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> /etc/hosts.deny &amp;gt; /dev/null
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="nv">$?&lt;/span> -gt &lt;span class="m">0&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;sshd:&lt;/span>&lt;span class="nv">$IP&lt;/span>&lt;span class="s2">:deny&amp;#34;&lt;/span> &amp;gt;&amp;gt; /etc/hosts.deny
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">done&lt;/span> &amp;lt; /root/black.list
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å°†è„šæœ¬åŠ å…¥å®šæ—¶ä»»åŠ¡ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">crontab -e
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡è„šæœ¬&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">*/1 * * * * sh /root/ssh_deny.sh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>å¸¸è§è™šæ‹Ÿç½‘å¡</title><link>https://wlynxg.github.io/blog/p/%E5%B8%B8%E8%A7%81%E8%99%9A%E6%8B%9F%E7%BD%91%E5%8D%A1/</link><pubDate>Tue, 25 Jul 2023 09:09:13 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/%E5%B8%B8%E8%A7%81%E8%99%9A%E6%8B%9F%E7%BD%91%E5%8D%A1/</guid><description>&lt;h1 id="å¸¸è§è™šæ‹Ÿç½‘å¡">å¸¸è§è™šæ‹Ÿç½‘å¡
&lt;/h1>&lt;h2 id="lo">lo
&lt;/h2>&lt;p>lo ç½‘å¡æ˜¯ Linux ä¸­é»˜è®¤å°±ä¼šå­˜åœ¨çš„ä¸€å¼ è™šæ‹Ÿç½‘å¡ã€‚å®ƒçš„é»˜è®¤ IP ä¸º 127.0.0.1ã€‚&lt;/p>
&lt;p>lo ç½‘å¡ç”¨äºæœ¬åœ°ç½‘ç»œè®¿é—®ï¼Œæ•°æ®åŒ…æ— éœ€ç¦»å¼€æœ¬æœºç½‘ç»œã€‚lo ç½‘å¡çš„é»˜è®¤ MTU ä¸º 65535ï¼Œä½¿ç”¨ lo ç½‘å¡è¿›è¡Œä¼ è¾“æ•°æ®é€Ÿåº¦ä¼šæ¯”ç”¨ç‰©ç†ç½‘å¡ä¼ è¾“å¿«çš„å¤šã€‚ä¸åŒè¿›ç¨‹é—´å¯é€šè¿‡ lo ç½‘å¡è¿›è¡Œè·¨è¿›ç¨‹é€šä¿¡ã€‚&lt;/p>
&lt;h2 id="taptun">tap/tun
&lt;/h2>&lt;p>tap/tun æ˜¯ Linux å†…æ ¸ 2.4.x ç‰ˆæœ¬ä¹‹åå®ç°çš„è™šæ‹Ÿç½‘ç»œè®¾å¤‡ã€‚&lt;/p>
&lt;p>ç”¨æˆ·æ€è¿›ç¨‹å¯é€šè¿‡è¯»å†™ tap/tun å­—ç¬¦è®¾å¤‡æ–‡ä»¶æ¥è¯»å–ç³»ç»Ÿç½‘ç»œæ ˆå‘å¾€ tap/tun ç½‘å¡çš„æ•°æ®åŒ…å’Œå†™å…¥æ•°æ®åŒ…åˆ°ç³»ç»Ÿç½‘ç»œæ ˆã€‚&lt;/p>
&lt;p>tap å’Œ tun ç½‘å¡å…·æœ‰ä»¥ä¸‹åŒºåˆ«ï¼š&lt;/p>
&lt;ul>
&lt;li>tun ç½‘å¡å¯¹åº”çš„å­—ç¬¦è®¾å¤‡æ–‡ä»¶ä¸ºï¼š&lt;code>/dev/net/tun&lt;/code>ï¼Œtun ç½‘å¡æä¾›äº†å¯¹ IP å±‚çš„è§£åŒ…å°åŒ…èƒ½åŠ›ï¼›&lt;/li>
&lt;li>tap ç½‘å¡å¯¹åº”çš„å­—ç¬¦è®¾å¤‡æ–‡ä»¶ä¸ºï¼š&lt;code>/dev/tap0&lt;/code>ï¼Œæä¾›äº†å¯¹æ•°æ®é“¾è·¯å±‚çš„è§£åŒ…å°åŒ…èƒ½åŠ›ï¼Œå¯ä»¥å°† tap è®¾å¤‡çœ‹ä½œå»é™¤äº†ç‰©ç†å±‚çš„ä»¥å¤ªç½‘ç½‘å¡ã€‚&lt;/li>
&lt;/ul>
&lt;p>tap/tun ç½‘å¡ç”±äºå…¶å·¥ä½œæœºåˆ¶ï¼Œå¸¸è¢«ç”¨æ¥ä½œä¸º VPN ç­‰éš§é“é€šä¿¡ã€‚&lt;/p>
&lt;h2 id="veth-pair">veth-pair
&lt;/h2>&lt;p>veth-pair å°±æ˜¯ä¸€å¯¹çš„è™šæ‹Ÿè®¾å¤‡æ¥å£ï¼Œå’Œ tap/tun è®¾å¤‡ä¸åŒçš„æ˜¯ï¼Œå®ƒéƒ½æ˜¯æˆå¯¹å‡ºç°çš„ã€‚ä¸€ç«¯è¿ç€åè®®æ ˆï¼Œä¸€ç«¯å½¼æ­¤ç›¸è¿ç€ã€‚&lt;/p>
&lt;p>å‘å¾€ veth0 çš„æ•°æ®åŒ…ä¼šè¢«ç›´æ¥æ‹·è´åˆ° veth1 ç½‘å¡ã€‚å› ä¸ºå…¶ç‚¹å¯¹ç‚¹ç‰¹æ€§ï¼Œå› æ­¤ veth ç½‘å¡å¸¸ç”¨äºè™šæ‹ŸåŒ–ç½‘ç»œé—´çš„é€šä¿¡ï¼Œå¦‚å®¹å™¨å’Œè™šæ‹Ÿæœºç­‰ã€‚&lt;/p>
&lt;h2 id="bridge">bridge
&lt;/h2>&lt;p>åŒ tap/tunã€veth-pair ä¸€æ ·ï¼ŒBridge ä¹Ÿæ˜¯ä¸€ç§è™šæ‹Ÿç½‘ç»œè®¾å¤‡ï¼Œæ‰€ä»¥å…·å¤‡è™šæ‹Ÿç½‘ç»œè®¾å¤‡çš„æ‰€æœ‰ç‰¹æ€§ï¼Œæ¯”å¦‚å¯ä»¥é…ç½® IPã€MAC ç­‰ã€‚&lt;/p>
&lt;p>é™¤æ­¤ä¹‹å¤–ï¼Œå¯¹äºæ™®é€šçš„ç½‘ç»œè®¾å¤‡ï¼Œåªæœ‰ä¸¤ç«¯ï¼Œæ•°æ®ä»ä¸€ç«¯è¿›ï¼Œä»å¦ä¸€ç«¯å‡ºã€‚ä½†æ˜¯ Bridge è®¾å¤‡å…·æœ‰å¤šä¸ªç«¯å£ï¼Œæ•°æ®å¯ä»¥ä»å¤šä¸ªç«¯å£è¿›ï¼Œä»å¤šä¸ªç«¯å£å‡ºã€‚å› æ­¤ Bridge è¿˜æ˜¯ä¸€ä¸ªäº¤æ¢æœºï¼Œå…·æœ‰äº¤æ¢æœºæ‰€æœ‰çš„åŠŸèƒ½ã€‚&lt;/p>
&lt;p>å¯ä»¥å°†å¤šä¸ªç½‘å¡è¿æ¥åˆ° bridge ç½‘å¡ï¼Œä»è€Œå®ç°äº¤æ¢æœºçš„èƒ½åŠ›ã€‚ç»™ bridge ç½‘å¡é…ç½®ä¸Š NAT è§„åˆ™ï¼Œè¿˜å¯ä»¥è®© bridge ç”±äº¤æ¢æœºè½¬å˜ä¸ºè·¯ç”±å™¨ã€‚&lt;/p>
&lt;h2 id="bond">bond
&lt;/h2>&lt;p>bond åŒæ ·ä¹Ÿæ˜¯ä¸€ä¸ªè™šæ‹Ÿç½‘å¡ï¼Œbond ç½‘å¡èƒ½å¤Ÿå°†å¤šä¸ªç‰©ç†ç½‘å¡ç»„åˆä¸ºé€»è¾‘ä¸Šçš„ä¸€ä¸ªè™šæ‹Ÿç½‘å¡ï¼Œæ‹¥æœ‰å•ä¸ª IP å’Œ MACã€‚&lt;/p>
&lt;p>bond ç½‘å¡å…·æœ‰ä¸ƒç§æ¨¡å¼ï¼Œå¸¸ç”¨çš„æ¨¡å¼ä¸ºå¹³è¡¡è´Ÿè½½æ¨¡å¼å’Œå†—ä½™æ¨¡å¼ï¼š&lt;/p>
&lt;ul>
&lt;li>å¹³è¡¡è´Ÿè½½æ¨¡å¼èƒ½å¤Ÿä»å¤šå¼ ç½‘å¡æ¥æ”¶æ•°æ®å’Œï¼Œå’Œå°†æ•°æ®åŒ…æ ¹æ®è´Ÿè½½å‡è¡¡ç­–ç•¥å‘å¾€å¤šä¸ªç‰©ç†ç½‘å¡ï¼›&lt;/li>
&lt;li>å†—ä½™æ¨¡å¼èƒ½å¤Ÿåœ¨åœ¨å•å¼ ç½‘å¡å‡ºç°æ•…éšœæ—¶è‡ªåŠ¨åˆ‡æ¢åˆ°å¦å¤–ä¸€å¼ ç½‘å¡å»ã€‚&lt;/li>
&lt;/ul></description></item><item><title>Kali æ— æ³•è¿æ¥åˆ°ç½‘ç»œ</title><link>https://wlynxg.github.io/blog/p/kali-%E6%97%A0%E6%B3%95%E8%BF%9E%E6%8E%A5%E5%88%B0%E7%BD%91%E7%BB%9C/</link><pubDate>Tue, 06 Jun 2023 22:55:31 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/kali-%E6%97%A0%E6%B3%95%E8%BF%9E%E6%8E%A5%E5%88%B0%E7%BD%91%E7%BB%9C/</guid><description>&lt;h1 id="kali-æ— æ³•è¿æ¥åˆ°ç½‘ç»œ">Kali æ— æ³•è¿æ¥åˆ°ç½‘ç»œ
&lt;/h1>&lt;h2 id="é—®é¢˜æè¿°">é—®é¢˜æè¿°
&lt;/h2>&lt;p>æ‰“å¼€ Kaliï¼Œæ— æ³•è¿æ¥åˆ°ç½‘ç»œï¼Œè™šæ‹Ÿæœºé…ç½®æ­£å¸¸çš„ã€‚&lt;/p>
&lt;p>å°è¯• ping ç™¾åº¦ï¼Œå‡ºé”™ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ping: www.baidu.com: Temporary failure in name resolution
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="è§£å†³åŠæ³•">è§£å†³åŠæ³•
&lt;/h2>&lt;h3 id="1-é¦–å…ˆæŸ¥çœ‹æœ¬æœº-ip">1. é¦–å…ˆæŸ¥çœ‹æœ¬æœº IP
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">â”Œâ”€â”€&lt;span class="o">(&lt;/span>bloggerã‰¿kali&lt;span class="o">)&lt;/span>-&lt;span class="o">[&lt;/span>~/Desktop&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€$ ifconfig
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lo: &lt;span class="nv">flags&lt;/span>&lt;span class="o">=&lt;/span>73&amp;lt;UP,LOOPBACK,RUNNING&amp;gt; mtu &lt;span class="m">65536&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> inet 127.0.0.1 netmask 255.0.0.0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> inet6 ::1 prefixlen &lt;span class="m">128&lt;/span> scopeid 0x10&amp;lt;host&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> loop txqueuelen &lt;span class="m">1000&lt;/span> &lt;span class="o">(&lt;/span>Local Loopback&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> RX packets &lt;span class="m">12&lt;/span> bytes &lt;span class="m">640&lt;/span> &lt;span class="o">(&lt;/span>640.0 B&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> RX errors &lt;span class="m">0&lt;/span> dropped &lt;span class="m">0&lt;/span> overruns &lt;span class="m">0&lt;/span> frame &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> TX packets &lt;span class="m">12&lt;/span> bytes &lt;span class="m">640&lt;/span> &lt;span class="o">(&lt;/span>640.0 B&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> TX errors &lt;span class="m">0&lt;/span> dropped &lt;span class="m">0&lt;/span> overruns &lt;span class="m">0&lt;/span> carrier &lt;span class="m">0&lt;/span> collisions &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœªå‘ç°è™šæ‹Ÿæœºç½‘å¡ï¼Œåº”è¯¥æ˜¯è™šæ‹Ÿæœºç½‘å¡å‡ºé—®é¢˜äº†ã€‚&lt;/p>
&lt;h3 id="2-æŸ¥çœ‹æ‰€æœ‰ç½‘å¡">2. æŸ¥çœ‹æ‰€æœ‰ç½‘å¡
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">â”Œâ”€â”€&lt;span class="o">(&lt;/span>bloggerã‰¿kali&lt;span class="o">)&lt;/span>-&lt;span class="o">[&lt;/span>~/Desktop&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€$ ip addr
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">1: lo: &amp;lt;LOOPBACK,UP,LOWER_UP&amp;gt; mtu &lt;span class="m">65536&lt;/span> qdisc noqueue state UNKNOWN group default qlen &lt;span class="m">1000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> inet 127.0.0.1/8 scope host lo
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> valid_lft forever preferred_lft forever
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> inet6 ::1/128 scope host
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> valid_lft forever preferred_lft forever
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2: eth0: &amp;lt;BROADCAST,MULTICAST&amp;gt; mtu &lt;span class="m">1500&lt;/span> qdisc noop state DOWN group default qlen &lt;span class="m">1000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> link/ether 00:0c:29:d5:a4:ae brd ff:ff:ff:ff:ff:ff
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‘ç°ç½‘å¡ï¼Œé‚£ä¹ˆåº”è¯¥æ˜¯ç½‘å¡æ²¡æœ‰å¯åŠ¨èµ·æ¥ï¼Œå°†ç½‘å¡å¯åŠ¨ï¼Œé…ç½®å¥½åº”è¯¥å°±èƒ½è§£å†³é—®é¢˜ã€‚&lt;/p>
&lt;h3 id="3-å¯åŠ¨ç½‘å¡å¹¶å†™å…¥é…ç½®æ–‡ä»¶">3. å¯åŠ¨ç½‘å¡å¹¶å†™å…¥é…ç½®æ–‡ä»¶
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">â”Œâ”€â”€&lt;span class="o">(&lt;/span>rootğŸ’€kali&lt;span class="o">)&lt;/span>-&lt;span class="o">[&lt;/span>/home/blogger/Desktop&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€# ip link &lt;span class="nb">set&lt;/span> dev eth0 up &lt;span class="c1"># å¯åŠ¨ç½‘å¡ &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”Œâ”€â”€&lt;span class="o">(&lt;/span>rootğŸ’€kali&lt;span class="o">)&lt;/span>-&lt;span class="o">[&lt;/span>/home/blogger/Desktop&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€# ifconfig eth0 192.168.1.201 netmask 255.255.255.0 &lt;span class="c1"># é…ç½®IPå’Œç½‘å…³&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”Œâ”€â”€&lt;span class="o">(&lt;/span>rootğŸ’€kali&lt;span class="o">)&lt;/span>-&lt;span class="o">[&lt;/span>/home/blogger/Desktop&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€# route add default gw 192.168.1.1 &lt;span class="c1"># é…ç½®è·¯ç”±&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”Œâ”€â”€&lt;span class="o">(&lt;/span>rootğŸ’€kali&lt;span class="o">)&lt;/span>-&lt;span class="o">[&lt;/span>/home/blogger/Desktop&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€# &lt;span class="nb">echo&lt;/span> &lt;span class="s1">&amp;#39;nameserver 114.114.114.114&amp;#39;&lt;/span> &amp;gt;&amp;gt; /etc/resolv.conf &lt;span class="c1"># ä¿®æ”¹DNS&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”Œâ”€â”€&lt;span class="o">(&lt;/span>rootğŸ’€kali&lt;span class="o">)&lt;/span>-&lt;span class="o">[&lt;/span>/home/blogger/Desktop&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€# ping www.baidu.com &lt;span class="c1"># å†æ¬¡å°è¯• pingï¼ŒæˆåŠŸ&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>DERP ä¸­ç»§æ­å»º</title><link>https://wlynxg.github.io/blog/p/derp-%E4%B8%AD%E7%BB%A7%E6%90%AD%E5%BB%BA/</link><pubDate>Fri, 07 Apr 2023 11:26:52 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/derp-%E4%B8%AD%E7%BB%A7%E6%90%AD%E5%BB%BA/</guid><description>&lt;h1 id="derp-ä¸­ç»§æ­å»º">DERP ä¸­ç»§æ­å»º
&lt;/h1>&lt;h2 id="æœ‰åŸŸå">æœ‰åŸŸå
&lt;/h2>&lt;blockquote>
&lt;p>ç¯å¢ƒå‡†å¤‡:&lt;/p>
&lt;ol>
&lt;li>Go 1.20+&lt;/li>
&lt;li>åŸŸåå’Œ https è¯ä¹¦&lt;/li>
&lt;/ol>
&lt;/blockquote>
&lt;h3 id="å‘½ä»¤è¡Œæ‰§è¡Œ">å‘½ä»¤è¡Œæ‰§è¡Œ
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. å®‰è£…ï¼Œè·¯å¾„åœ¨ $GOROOT/bin $GOBIN $GOPATH/bin ä¸­çš„ä¸€ä¸ªï¼Œä¸€èˆ¬åœ¨ $GOPATH/bin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">go install tailscale.com/cmd/derper@main
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. æ‰§è¡Œå‘½ä»¤&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">derper --hostname&lt;span class="o">=&lt;/span>example.com --a&lt;span class="o">=&lt;/span>:12345 --certdir&lt;span class="o">=&lt;/span>/root/derp --certmode&lt;span class="o">=&lt;/span>manual --http-port&lt;span class="o">=&lt;/span>-1 --stun&lt;span class="o">=&lt;/span>&lt;span class="nb">false&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="docker">Docker
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-dockerfile" data-lang="dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span>&lt;span class="s"> golang:latest AS builder&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /app&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># https://tailscale.com/kb/1118/custom-derp-servers/&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> go install tailscale.com/cmd/derper@main&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="s"> ubuntu&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">WORKDIR&lt;/span>&lt;span class="s"> /app&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">ARG&lt;/span> &lt;span class="nv">DEBIAN_FRONTEND&lt;/span>&lt;span class="o">=&lt;/span>noninteractive
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">RUN&lt;/span> apt-get update &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> apt-get install -y --no-install-recommends apt-utils &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> apt-get install -y ca-certificates &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> mkdir /app/certs&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">ENV&lt;/span> DERP_DOMAIN your-hostname.com&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">ENV&lt;/span> DERP_CERT_MODE letsencrypt&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">ENV&lt;/span> DERP_CERT_DIR /app/certs&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">ENV&lt;/span> DERP_ADDR :443&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">ENV&lt;/span> DERP_STUN true&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">ENV&lt;/span> DERP_HTTP_PORT &lt;span class="m">80&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">ENV&lt;/span> DERP_VERIFY_CLIENTS false&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">COPY&lt;/span> --from&lt;span class="o">=&lt;/span>builder /go/bin/derper .&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="c"># docker run -d --name derp --restart=always -p 3478:3478/udp -p 9443:9443 -v /root/certs:/app/certs -e DERP_DOMAIN=example.com -e DERP_ADDR=:9443 -e DERP_CERT_MODE=manual derper&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">CMD&lt;/span> /app/derper --hostname&lt;span class="o">=&lt;/span>&lt;span class="nv">$DERP_DOMAIN&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --certmode&lt;span class="o">=&lt;/span>&lt;span class="nv">$DERP_CERT_MODE&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --certdir&lt;span class="o">=&lt;/span>&lt;span class="nv">$DERP_CERT_DIR&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --a&lt;span class="o">=&lt;/span>&lt;span class="nv">$DERP_ADDR&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --stun&lt;span class="o">=&lt;/span>&lt;span class="nv">$DERP_STUN&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --http-port&lt;span class="o">=&lt;/span>&lt;span class="nv">$DERP_HTTP_PORT&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --verify-clients&lt;span class="o">=&lt;/span>&lt;span class="nv">$DERP_VERIFY_CLIENTS&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;pre tabindex="0">&lt;code>docker run -d --name derp --restart=always -p 3478:3478/udp -p 9443:9443 -v /root/certs:/app/certs -e DERP_DOMAIN=example.com -e DERP_ADDR=:9443 -e DERP_CERT_MODE=manual derper
&lt;/code>&lt;/pre>&lt;h3 id="systemd">Systemd
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>Unit&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">Description&lt;/span>&lt;span class="o">=&lt;/span>derper
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">After&lt;/span>&lt;span class="o">=&lt;/span>syslog.target
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">After&lt;/span>&lt;span class="o">=&lt;/span>network.target
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>Service&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">Type&lt;/span>&lt;span class="o">=&lt;/span>simple
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">ExecStart&lt;/span>&lt;span class="o">=&lt;/span>/root/go-work/bin/derper --hostname&lt;span class="o">=&lt;/span>derp.try-hard.cn --a&lt;span class="o">=&lt;/span>:12345 --certdir&lt;span class="o">=&lt;/span>/root/derp --certmode&lt;span class="o">=&lt;/span>manual --http-port&lt;span class="o">=&lt;/span>-1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">Restart&lt;/span>&lt;span class="o">=&lt;/span>always
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">RestartSec&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">5&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>Install&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">WantedBy&lt;/span>&lt;span class="o">=&lt;/span>multi-user.target
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Linux ä¸‹è·å–å½“å‰è¿æ¥ WiFi</title><link>https://wlynxg.github.io/blog/p/linux-%E4%B8%8B%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E8%BF%9E%E6%8E%A5-wifi/</link><pubDate>Fri, 10 Mar 2023 17:04:47 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/linux-%E4%B8%8B%E8%8E%B7%E5%8F%96%E5%BD%93%E5%89%8D%E8%BF%9E%E6%8E%A5-wifi/</guid><description>&lt;h1 id="linux-ä¸‹ç¼–ç è·å–å½“å‰è¿æ¥-wifi">Linux ä¸‹ç¼–ç è·å–å½“å‰è¿æ¥ WiFi
&lt;/h1>&lt;h2 id="python-ç‰ˆ">Python ç‰ˆ
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># !/usr/bin/env python3&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">array&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">socket&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">struct&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">fcntl&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">ioctl&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">IFNAMESIZE&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">20&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ESSODMAXSIZE&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">32&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">SIOCGIWESSID&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mh">0x8B1B&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">NET_PATH&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;/sys/class/net&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Point&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">object&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34; Class to hold iw_point data. &amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="fm">__init__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">None&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">flags&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="ow">is&lt;/span> &lt;span class="kc">None&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">raise&lt;/span> &lt;span class="ne">ValueError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;data must be passed to Iwpoint&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># P pointer to data, H length, H flags&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fmt&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;PHH&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">flags&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">flags&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">buff&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">array&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;b&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">encode&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">caddr_t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">length&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">buff&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">buffer_info&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">packed_data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">struct&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">pack&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fmt&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">caddr_t&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">length&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">flags&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">update&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">packed_data&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34; Updates the object attributes. &amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">packed_data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">packed_data&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">caddr_t&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">length&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">flags&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">struct&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">unpack&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fmt&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">packed_data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">_fcntl&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">sockfd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">socket&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">socket&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">socket&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">AF_INET&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">socket&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">SOCK_DGRAM&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">ioctl&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sockfd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fileno&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">args&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">iw_get_ext&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ifname&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">None&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;&amp;#34;&amp;#34; Read information from ifname. &amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">buff&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">IFNAMESIZE&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ifname&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ifreq&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">array&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;b&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ifname&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">encode&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="se">\0&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">buff&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">encode&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># put some additional data behind the interface name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="ow">is&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="kc">None&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ifreq&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">frombytes&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># extend to 32 bytes for ioctl payload&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">ifreq&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">extend&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="se">\0&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">16&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">_fcntl&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ifreq&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">result&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ifreq&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">IFNAMESIZE&lt;/span>&lt;span class="p">:]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">get_essid&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ifname&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">point&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Point&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="se">\x00&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">ESSODMAXSIZE&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">iw_get_ext&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ifname&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">SIOCGIWESSID&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">point&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">packed_data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">raw_essid&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">point&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">buff&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tobytes&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">raw_essid&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">strip&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="se">\x00&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">encode&lt;/span>&lt;span class="p">())&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">decode&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="vm">__name__&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;__main__&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">get_essid&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;wlo1&amp;#34;&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="go-ç‰ˆ">Go ç‰ˆ
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;bytes&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;unsafe&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s">&amp;#34;golang.org/x/sys/unix&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Ioctl æ–¹æ³•ï¼šhttps://man7.org/linux/man-pages/man2/ioctl.2.html
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">func&lt;/span> &lt;span class="nf">Ioctl&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">fd&lt;/span> &lt;span class="kt">uintptr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">request&lt;/span> &lt;span class="kt">uintptr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">argp&lt;/span> &lt;span class="kt">uintptr&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">error&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">unix&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Syscall&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">unix&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">SYS_IOCTL&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">request&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">argp&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">os&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">NewSyscallError&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Ioctl: &amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">GetConnectedWiFi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">dev&lt;/span> &lt;span class="kt">string&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kt">string&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kt">error&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">const&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">SIOCGIWESSID&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mh">0x8B1B&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ESSODMAXSIZE&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">32&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ifr&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nb">make&lt;/span>&lt;span class="p">([]&lt;/span>&lt;span class="kt">byte&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">40&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fd&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">unix&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Socket&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">unix&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">AF_INET&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">unix&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">SOCK_DGRAM&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">defer&lt;/span> &lt;span class="nx">unix&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Close&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">fd&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">copy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ifr&lt;/span>&lt;span class="p">[:],&lt;/span> &lt;span class="nx">dev&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">buff&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nb">make&lt;/span>&lt;span class="p">([]&lt;/span>&lt;span class="kt">byte&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ESSODMAXSIZE&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">*&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="kt">uintptr&lt;/span>&lt;span class="p">)(&lt;/span>&lt;span class="nx">unsafe&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Pointer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">ifr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">unix&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">IFNAMSIZ&lt;/span>&lt;span class="p">]))&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nb">uintptr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">unsafe&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Pointer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">buff&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">]))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">*&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="kt">uint16&lt;/span>&lt;span class="p">)(&lt;/span>&lt;span class="nx">unsafe&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Pointer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">ifr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">unix&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">IFNAMSIZ&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">unsafe&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">buff&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">])]))&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">ESSODMAXSIZE&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">err&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nf">Ioctl&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">uintptr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">fd&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="nx">SIOCGIWESSID&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">uintptr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">unsafe&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Pointer&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">&amp;amp;&lt;/span>&lt;span class="nx">ifr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">])))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nb">string&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">bytes&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Trim&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">buff&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;\x00&amp;#34;&lt;/span>&lt;span class="p">)),&lt;/span> &lt;span class="kc">nil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">ssid&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nf">GetConnectedWiFi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;wlo1&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">panic&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">ssid&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Centos7 å¸¸ç”¨è½¯ä»¶å®‰è£…</title><link>https://wlynxg.github.io/blog/p/centos7-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/centos7-%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/</guid><description>&lt;h1 id="centos-å¸¸ç”¨è½¯ä»¶å®‰è£…">Centos å¸¸ç”¨è½¯ä»¶å®‰è£…
&lt;/h1>&lt;h2 id="ä¸€development-tools">ä¸€ã€Development tools
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">yum grouplist &lt;span class="p">|&lt;/span> more &lt;span class="c1"># æŸ¥çœ‹æœ‰é‚£äº›ç»„å®‰è£…åŒ…å¯ç”¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yum grouplist &lt;span class="p">|&lt;/span> grep Development &lt;span class="c1"># æœç´¢å’Œ Development ç›¸å…³çš„&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yum groupinstall -y &lt;span class="s2">&amp;#34;Development Tools&amp;#34;&lt;/span> &lt;span class="c1"># å®‰è£… Development Tools å·¥å…·åŒ…&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="äºŒyum-utils">äºŒã€yum-utils
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">yum -y install yum-utils
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ä¸‰docker">ä¸‰ã€Docker
&lt;/h2>&lt;h3 id="å®‰è£…">å®‰è£…
&lt;/h3>&lt;h4 id="ä½¿ç”¨å®˜æ–¹è„šæœ¬å®‰è£…">ä½¿ç”¨å®˜æ–¹è„šæœ¬å®‰è£…
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">curl -fsSL https://get.docker.com &lt;span class="p">|&lt;/span> bash -s docker --mirror Aliyun
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ¢æº">æ¢æº
&lt;/h3>&lt;p>ç¼–è¾‘ &lt;code>/etc/docker/daemon.json&lt;/code>æ–‡ä»¶ï¼Œå†™å…¥å›½å†…æºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;registry-mirrors&amp;#34;&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;http://ovfftd6p.mirror.aliyuncs.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;http://registry.docker-cn.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;http://docker.mirrors.ustc.edu.cn&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;http://hub-mirror.c.163.com&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;insecure-registries&amp;#34;&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;registry.docker-cn.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;docker.mirrors.ustc.edu.cn&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;debug&amp;#34;&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;experimental&amp;#34;&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é‡å¯ dockerï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">service docker restart
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æŸ¥çœ‹æ¢æºæ˜¯å¦æˆåŠŸï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker info
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">output:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Registry Mirrors:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> http://ovfftd6p.mirror.aliyuncs.com/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> http://registry.docker-cn.com/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> http://docker.mirrors.ustc.edu.cn/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> http://hub-mirror.c.163.com/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="é…ç½®-httphttps-ç½‘ç»œä»£ç†">é…ç½® HTTP/HTTPS ç½‘ç»œä»£ç†
&lt;/h3>&lt;p>ä½¿ç”¨Dockerçš„è¿‡ç¨‹ä¸­ï¼Œå› ä¸ºç½‘ç»œåŸå› ï¼Œé€šå¸¸éœ€è¦ä½¿ç”¨ HTTP/HTTPS ä»£ç†æ¥åŠ é€Ÿé•œåƒæ‹‰å–ã€æ„å»ºå’Œä½¿ç”¨ã€‚ä¸‹é¢æ˜¯å¸¸è§çš„ä¸‰ç§åœºæ™¯ã€‚&lt;/p>
&lt;h4 id="ä¸º-dockerd-è®¾ç½®ç½‘ç»œä»£ç†">ä¸º dockerd è®¾ç½®ç½‘ç»œä»£ç†
&lt;/h4>&lt;p>&amp;ldquo;docker pull&amp;rdquo; å‘½ä»¤æ˜¯ç”± dockerd å®ˆæŠ¤è¿›ç¨‹æ‰§è¡Œã€‚è€Œ dockerd å®ˆæŠ¤è¿›ç¨‹æ˜¯ç”± systemd ç®¡ç†ã€‚å› æ­¤ï¼Œå¦‚æœéœ€è¦åœ¨æ‰§è¡Œ &amp;ldquo;docker pull&amp;rdquo; å‘½ä»¤æ—¶ä½¿ç”¨ HTTP/HTTPS ä»£ç†ï¼Œéœ€è¦é€šè¿‡ systemd é…ç½®ã€‚&lt;/p>
&lt;p>ä¸º dockerd åˆ›å»ºé…ç½®æ–‡ä»¶å¤¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo mkdir -p /etc/systemd/system/docker.service.d
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸º dockerd åˆ›å»º HTTP/HTTPS ç½‘ç»œä»£ç†çš„é…ç½®æ–‡ä»¶ï¼Œæ–‡ä»¶è·¯å¾„æ˜¯ &lt;code>/etc/systemd/system/docker.service.d/http-proxy.conf &lt;/code>ï¼Œå¹¶åœ¨è¯¥æ–‡ä»¶ä¸­æ·»åŠ ç›¸å…³ç¯å¢ƒå˜é‡ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>Service&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">Environment&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;HTTP_PROXY=http://proxy.example.com:8080/&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">Environment&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;HTTPS_PROXY=http://proxy.example.com:8080/&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">Environment&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;NO_PROXY=localhost,127.0.0.1,.example.com&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åˆ·æ–°é…ç½®å¹¶é‡å¯ docker æœåŠ¡ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo systemctl daemon-reload
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl restart docker
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ä¸º-docker-å®¹å™¨è®¾ç½®ç½‘ç»œä»£ç†">ä¸º docker å®¹å™¨è®¾ç½®ç½‘ç»œä»£ç†
&lt;/h4>&lt;p>åœ¨å®¹å™¨è¿è¡Œé˜¶æ®µï¼Œå¦‚æœéœ€è¦ä½¿ç”¨ HTTP/HTTPS ä»£ç†ï¼Œå¯ä»¥é€šè¿‡æ›´æ”¹ docker å®¢æˆ·ç«¯é…ç½®ï¼Œæˆ–è€…æŒ‡å®šç¯å¢ƒå˜é‡çš„æ–¹å¼ã€‚&lt;/p>
&lt;p>æ›´æ”¹ docker å®¢æˆ·ç«¯é…ç½®ï¼šåˆ›å»ºæˆ–æ›´æ”¹ &lt;code>~/.docker/config.json&lt;/code>ï¼Œå¹¶åœ¨è¯¥æ–‡ä»¶ä¸­æ·»åŠ ä¸‹é¢é…ç½®ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;proxies&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;default&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;httpProxy&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;http://proxy.example.com:8080/&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;httpsProxy&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;http://proxy.example.com:8080/&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;noProxy&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;localhost,127.0.0.1,.example.com&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æŒ‡å®šç¯å¢ƒå˜é‡ï¼šè¿è¡Œ &amp;ldquo;docker run&amp;rdquo; å‘½ä»¤æ—¶ï¼ŒæŒ‡å®šç›¸å…³ç¯å¢ƒå˜é‡ã€‚&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">ç¯å¢ƒå˜é‡&lt;/th>
&lt;th style="text-align: center">docker run ç¤ºä¾‹&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">HTTP_PROXY&lt;/td>
&lt;td style="text-align: center">&amp;ndash;env HTTP_PROXY=&amp;ldquo;&lt;a class="link" href="http://proxy.example.com:8080/%22" target="_blank" rel="noopener"
>http://proxy.example.com:8080/"&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">HTTPS_PROXY&lt;/td>
&lt;td style="text-align: center">&amp;ndash;env HTTPS_PROXY=&amp;ldquo;&lt;a class="link" href="http://proxy.example.com:8080/%22" target="_blank" rel="noopener"
>http://proxy.example.com:8080/"&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">NO_PROXY&lt;/td>
&lt;td style="text-align: center">&amp;ndash;env NO_PROXY=&amp;ldquo;localhost,127.0.0.1,.example.com&amp;rdquo;&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="ä¸º-docker-build-è¿‡ç¨‹è®¾ç½®ç½‘ç»œä»£ç†">ä¸º docker build è¿‡ç¨‹è®¾ç½®ç½‘ç»œä»£ç†
&lt;/h4>&lt;p>åœ¨å®¹å™¨æ„å»ºé˜¶æ®µï¼Œå¦‚æœéœ€è¦ä½¿ç”¨ HTTP/HTTPS ä»£ç†ï¼Œå¯ä»¥é€šè¿‡æŒ‡å®š &amp;ldquo;docker build&amp;rdquo; çš„ç¯å¢ƒå˜é‡ï¼Œæˆ–è€…åœ¨ Dockerfile ä¸­æŒ‡å®šç¯å¢ƒå˜é‡çš„æ–¹å¼ã€‚&lt;/p>
&lt;p>ä½¿ç”¨ &amp;ldquo;&amp;ndash;build-arg&amp;rdquo; æŒ‡å®š &amp;ldquo;docker build&amp;rdquo; çš„ç›¸å…³ç¯å¢ƒå˜é‡:&lt;/p>
&lt;pre tabindex="0">&lt;code>docker build \
--build-arg &amp;#34;HTTP_PROXY=http://proxy.example.com:8080/&amp;#34; \
--build-arg &amp;#34;HTTPS_PROXY=http://proxy.example.com:8080/&amp;#34; \
--build-arg &amp;#34;NO_PROXY=localhost,127.0.0.1,.example.com&amp;#34; .
&lt;/code>&lt;/pre>&lt;p>åœ¨ Dockerfile ä¸­æŒ‡å®šç›¸å…³ç¯å¢ƒå˜é‡:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">ç¯å¢ƒå˜é‡&lt;/th>
&lt;th style="text-align: left">Dockerfile ç¤ºä¾‹&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">HTTP_PROXY&lt;/td>
&lt;td style="text-align: left">ENV HTTP_PROXY=&amp;ldquo;&lt;a class="link" href="http://proxy.example.com:8080/%22" target="_blank" rel="noopener"
>http://proxy.example.com:8080/"&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">HTTPS_PROXY&lt;/td>
&lt;td style="text-align: left">ENV HTTPS_PROXY=&amp;ldquo;&lt;a class="link" href="http://proxy.example.com:8080/%22" target="_blank" rel="noopener"
>http://proxy.example.com:8080/"&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">NO_PROXY&lt;/td>
&lt;td style="text-align: left">ENV NO_PROXY=&amp;ldquo;localhost,127.0.0.1,.example.com&amp;rdquo;&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="è®¾ç½®å¼€æœºè‡ªå¯åŠ¨">è®¾ç½®å¼€æœºè‡ªå¯åŠ¨
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> docker.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æµ‹è¯•è¿è¡Œ &lt;code>hello-world&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker run hello-world
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Output:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Hello from Docker!
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">This message shows that your installation appears to be working correctly.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">To generate this message, Docker took the following steps:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 1. The Docker client contacted the Docker daemon.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 2. The Docker daemon pulled the &lt;span class="s2">&amp;#34;hello-world&amp;#34;&lt;/span> image from the Docker Hub.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">(&lt;/span>amd64&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 3. The Docker daemon created a new container from that image which runs the
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> executable that produces the output you are currently reading.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 4. The Docker daemon streamed that output to the Docker client, which sent it
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> to your terminal.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">To try something more ambitious, you can run an Ubuntu container with:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> $ docker run -it ubuntu bash
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Share images, automate workflows, and more with a free Docker ID:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> https://hub.docker.com/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">For more examples and ideas, visit:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> https://docs.docker.com/get-started/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å››postgresql-13">å››ã€PostgreSQL 13
&lt;/h2>&lt;h3 id="å®‰è£…-1">å®‰è£…
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. é…ç½®yumæº&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yum install -y https://download.postgresql.org/pub/repos/yum/reporpms/EL-7-x86_64/pgdg-redhat-repo-latest.noarch.rpm
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. å®‰è£… PostgreSQL&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yum install -y postgresql13-server
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3. åˆå§‹åŒ–æ•°æ®åº“&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/usr/pgsql-13/bin/postgresql-13-setup initdb
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 4. è‡ªå¯åŠ¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> postgresql-13
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl start postgresql-13
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="åˆå§‹åŒ–">åˆå§‹åŒ–
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. åˆ‡æ¢åˆ° postgres ç”¨æˆ·&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">su - postgres
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. å¯åŠ¨SQL Shell&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">psql
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3. ä¿®æ”¹å¯†ç &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ALTER USER postgres WITH PASSWORD &lt;span class="s1">&amp;#39;NewPassword&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="é…ç½®è¿œç¨‹è®¿é—®">é…ç½®è¿œç¨‹è®¿é—®
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. å¼€æ”¾é˜²ç«å¢™ç«¯å£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">firewall-cmd --add-port&lt;span class="o">=&lt;/span>5432/tcp --permanent
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">firewall-cmd --reload
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. ä¿®æ”¹IPç»‘å®š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#ä¿®æ”¹é…ç½®æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vi /var/lib/pgsql/13/data/postgresql.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#å°†ç›‘å¬åœ°å€ä¿®æ”¹ä¸º *&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">listen_addresses&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;*&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3. å…è®¸æ‰€æœ‰IPè®¿é—®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#ä¿®æ”¹é…ç½®æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vi /var/lib/pgsql/13/data/pg_hba.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åœ¨æ–‡ä»¶åº•éƒ¨å†™å…¥ï¼š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">host all all 0.0.0.0/0 md5
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 4. é‡å¯PostgreSQLæœåŠ¡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl restart postgresql-13
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ Navicat æµ‹è¯•è¿æ¥ï¼Œè¿æ¥æˆåŠŸï¼&lt;/p>
&lt;h2 id="äº”redis">äº”ã€Redis
&lt;/h2>&lt;h3 id="å®‰è£…-2">å®‰è£…
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. ä¸‹è½½ fedora çš„ epel ä»“åº“&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yum install epel-release
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. å®‰è£… Redis&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yum install redis
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3. å¼€æœºè‡ªå¯åŠ¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chkconfig redis on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 4. å…¶ä»–å‘½ä»¤&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¯åŠ¨redis&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">service redis start
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åœæ­¢redis&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">service redis stop
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹redisè¿è¡ŒçŠ¶æ€&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">service redis status
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹redisè¿›ç¨‹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ps -ef &lt;span class="p">|&lt;/span> grep redis
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="é…ç½®è¿œç¨‹è®¿é—®-1">é…ç½®è¿œç¨‹è®¿é—®
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. å¼€æ”¾6379ç«¯å£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">firewall-cmd --zone&lt;span class="o">=&lt;/span>public --add-port&lt;span class="o">=&lt;/span>6379/tcp --permanent
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">firewall-cmd --reload
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. ä¿®æ”¹é…ç½®æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vi /etc/redis.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥æ‰¾ port ä¿®æ”¹ç«¯å£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">port &lt;span class="m">6379&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥æ‰¾ requirepass ä¿®æ”¹å¯†ç &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">requirepass NewPassword
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é…ç½®è¿œç¨‹è®¿é—®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ‰¾åˆ° bind 127.0.0.1 å°†å…¶æ³¨é‡Š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ‰¾åˆ° protected-mode yes å°†å…¶æ”¹ä¸º&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">protected-mode no
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3. åœæ­¢å¹¶é‡å¯redisæœåŠ¡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åœæ­¢&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">service redis stop
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä»¥é…ç½®æ–‡ä»¶é‡å¯&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">redis-server /etc/redis.conf &lt;span class="p">&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä½¿ç”¨">ä½¿ç”¨
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å‘½ä»¤è¡Œäº¤äº’&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">redis-cli
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼š&lt;a class="link" href="https://github.com/qishibo/AnotherRedisDesktopManager" target="_blank" rel="noopener"
>Another Redis Desktop Manager&lt;/a> åœ¨ Windows ç®¡ç† Redis è¿æ¥&lt;/p>
&lt;h2 id="å…­python">å…­ã€Python
&lt;/h2>&lt;h3 id="python-2">Python 2
&lt;/h3>&lt;p>Centos è‡ªå¸¦äº† Python 2.7ï¼Œå¯ç›´æ¥è¿›è¡Œä½¿ç”¨&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">python2 -V
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Python 2.7.5&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="python-3">Python 3
&lt;/h3>&lt;h4 id="yum-å®‰è£…">yum å®‰è£…
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å®‰è£… python å’Œ python3-devel&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yum install -y python3 python3-devel
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä½¿ç”¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">python3 -V
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Python 3.6.8&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>pip3 å‡çº§ä¸æ¢æº&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ¢é˜¿é‡Œæº&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pip3 config &lt;span class="nb">set&lt;/span> global.index-url http://mirrors.aliyun.com/pypi/simple/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pip3 config &lt;span class="nb">set&lt;/span> install.trusted-host mirrors.aliyun.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># pip å‡çº§&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pip3 install --upgrade pip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="æ‰‹åŠ¨å®‰è£…æœ€æ–°ç‰ˆ">æ‰‹åŠ¨å®‰è£…æœ€æ–°ç‰ˆ
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. ä¸‹è½½å®‰è£…åŒ…&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://www.python.org/ftp/python/3.9.7/Python-3.9.7.tgz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. è§£å‹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tar -zxvf Python-3.9.7.tgz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3. ä¸‹è½½ç¼–è¯‘ä¾èµ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gcc make
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 4. ç¼–è¯‘å®‰è£…&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> Python-3.9.7
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">./configure --prefix&lt;span class="o">=&lt;/span>/usr/local/python39 &lt;span class="c1"># --prefixæ˜¯Pythonçš„å®‰è£…ç›®å½•ï¼ŒåŒæ—¶å®‰è£…äº†setuptoolså’Œpipå·¥å…·&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">make &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> make install
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 5. å»ºç«‹è½¯è¿æ¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ln -s /usr/local/python39 /usr/local/bin/python3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 6. å»ºç«‹ç¯å¢ƒå˜é‡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç¼–è¾‘ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶ $HOME/.bashrcï¼Œåœ¨æ–‡ä»¶æœ«å°¾è¿½åŠ ï¼š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">PATH&lt;/span>&lt;span class="o">=&lt;/span>/usr/local/python27/bin:/usr/local/python39/bin:&lt;span class="nv">$PATH&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä½¿æ›´æ”¹ç”Ÿæ•ˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">source&lt;/span> &lt;span class="nv">$HOME&lt;/span>/.bashrc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 7. æŸ¥çœ‹ç‰ˆæœ¬&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">python3 -V
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Python 3.9.7&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>Hello Worldï¼&lt;/strong>&lt;/p>
&lt;p>æ–°å»º &lt;code>hello.py&lt;/code>æ–‡ä»¶ï¼Œå†™å…¥ä»¥ä¸‹ä»£ç ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Hello World!&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿è¡Œè¯¥æ–‡ä»¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">python3 hello.py
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># Hello World!&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ä¸ƒgo">ä¸ƒã€Go
&lt;/h2>&lt;h3 id="yum-å®‰è£…-1">yum å®‰è£…
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å®‰è£…&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yum install golang
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä½¿ç”¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">go version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># go version go1.15.14 linux/amd64&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="äºŒè¿›åˆ¶å‘è¡Œç‰ˆå®‰è£…">äºŒè¿›åˆ¶å‘è¡Œç‰ˆå®‰è£…
&lt;/h3>&lt;h4 id="å®‰è£…-3">å®‰è£…
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. å»å®˜ç½‘ä¸‹è½½æœ€æ–°ç‰ˆäºŒè¿›åˆ¶åŒ…&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://studygolang.com/dl/golang/go1.20.linux-amd64.tar.gz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. æå–å‹ç¼©åŒ…å†…å®¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo tar -xzf go1.20.linux-amd64.tar.gz -C /usr/local
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3. ç®€å†è½¯é“¾æ¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo ln -s /usr/local/go/bin/* /usr/bin/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 4. éªŒè¯æ˜¯å¦æˆåŠŸ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">go version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># go version go1.18 linux/amd64&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="é…ç½®ç¯å¢ƒå˜é‡">é…ç½®ç¯å¢ƒå˜é‡
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç¼–è¾‘ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶ $HOME/.bashrcï¼Œåœ¨æ–‡ä»¶æœ«å°¾è¿½åŠ ï¼š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">GOROOT&lt;/span>&lt;span class="o">=&lt;/span>/usr/local/go &lt;span class="c1">#è®¾ç½®ä¸ºgoå®‰è£…çš„è·¯å¾„ï¼Œæœ‰äº›å®‰è£…åŒ…ä¼šè‡ªåŠ¨è®¾ç½®é»˜è®¤çš„goroot&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">GOPATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$HOME&lt;/span>/go-work &lt;span class="c1">#é»˜è®¤çš„Golangé¡¹ç›®çš„å·¥ä½œç©ºé—´&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">GOBIN&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$GOPATH&lt;/span>/bin &lt;span class="c1"># go installå‘½ä»¤ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">PATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$PATH&lt;/span>:&lt;span class="nv">$GOROOT&lt;/span>/bin:&lt;span class="nv">$GOBIN&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä¿å­˜ï¼Œä½¿é…ç½®æ–‡ä»¶ç”Ÿæ•ˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">source&lt;/span> &lt;span class="nv">$HOME&lt;/span>/.bashrc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹ç¯å¢ƒå˜é‡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">go env
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>Go Modules é…ç½®&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ¢æº&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">go env -w &lt;span class="nv">GO111MODULE&lt;/span>&lt;span class="o">=&lt;/span>on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">go env -w &lt;span class="nv">GOPROXY&lt;/span>&lt;span class="o">=&lt;/span>https://goproxy.cn,direct
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">go env -w &lt;span class="nv">GOSUMDB&lt;/span>&lt;span class="o">=&lt;/span>sum.golang.google.cn
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>Hello Worldï¼&lt;/strong>&lt;/p>
&lt;p>æ–°å»º &lt;code>hello.go&lt;/code>æ–‡ä»¶ï¼Œå†™å…¥ä»¥ä¸‹ä»£ç ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="s">&amp;#34;fmt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Hello World!&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿è¡Œè¯¥æ–‡ä»¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl"> go run hello.go
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># Hello World!&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å…«nodejs">å…«ã€NodeJS
&lt;/h2>&lt;h3 id="yum-å®‰è£…-2">yum å®‰è£…
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å®‰è£…&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">yum install nodejs
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä½¿ç”¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">node -v
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># v6.17.1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm -v
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3.10.10&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="äºŒè¿›åˆ¶å‘è¡Œç‰ˆå®‰è£…-1">äºŒè¿›åˆ¶å‘è¡Œç‰ˆå®‰è£…
&lt;/h3>&lt;h4 id="å®‰è£…-4">å®‰è£…
&lt;/h4>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. å®˜ç½‘ä¸‹è½½äºŒè¿›åˆ¶å‘è¡Œç‰ˆçš„å‹ç¼©åŒ…&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://nodejs.org/dist/v20.15.1/node-v20.15.1-linux-x64.tar.xz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. è§£å‹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tar -xf node-v20.15.1-linux-x64.tar.xz -C /usr/local/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3. åˆ›å»ºè½¯è¿æ¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ln -s /usr/local/node-v20.15.1-linux-x64/bin/* /usr/bin/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 4. æ·»åŠ ç¯å¢ƒå˜é‡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç¼–è¾‘ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶ $HOME/.bashrcï¼Œåœ¨æ–‡ä»¶æœ«å°¾è¿½åŠ ï¼š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">NODE_HOME&lt;/span>&lt;span class="o">=&lt;/span>/usr/local/node-v20.15.1-linux-x64
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">PATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nv">$NODE_HOME&lt;/span>/bin:&lt;span class="nv">$PATH&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä½¿æ›´æ”¹ç”Ÿæ•ˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">source&lt;/span> &lt;span class="nv">$HOME&lt;/span>/.bashrc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="hello-world">Hello Worldï¼
&lt;/h4>&lt;p>æ–°å»º &lt;code>hello.go&lt;/code>æ–‡ä»¶ï¼Œå†™å…¥ä»¥ä¸‹ä»£ç ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">hello&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;Hello World!&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">hello&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿è¡Œè¯¥æ–‡ä»¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">node hello.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Hello World!&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ä¹docker-compose-å®‰è£…">ä¹ã€Docker-compose å®‰è£…
&lt;/h2>&lt;p>æœ€æ–°å‘è¡Œçš„ç‰ˆæœ¬åœ°å€ï¼šhttps://github.com/docker/compose/releases&lt;/p>
&lt;p>ä¸‹è½½é€‚åˆè‡ªå·±çš„ç‰ˆæœ¬ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo curl -L &lt;span class="s2">&amp;#34;https://github.com/docker/compose/releases/download/v2.16.0/docker-compose-linux-x86_64&amp;#34;&lt;/span> -o /usr/local/bin/docker-compose
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>èµ‹äºˆäºŒè¿›åˆ¶æ–‡ä»¶å¯æ‰§è¡Œæƒé™ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo chmod +x /usr/local/bin/docker-compose
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æµ‹è¯•å®‰è£…ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker-compose --version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker-compose version 1.29.2, build 5becea4c
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Centos7 ä¸‹ä½¿ç”¨ Apache é…ç½® Flask</title><link>https://wlynxg.github.io/blog/p/centos7-%E4%B8%8B%E4%BD%BF%E7%94%A8-apache-%E9%85%8D%E7%BD%AE-flask/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/centos7-%E4%B8%8B%E4%BD%BF%E7%94%A8-apache-%E9%85%8D%E7%BD%AE-flask/</guid><description>&lt;h1 id="centos-7-ä¸‹ä½¿ç”¨-apache-é…ç½®-flask">Centos 7 ä¸‹ä½¿ç”¨ Apache é…ç½® Flask
&lt;/h1>&lt;h1 id="ä¸€å·¥å…·ä»‹ç»">ä¸€ã€å·¥å…·ä»‹ç»
&lt;/h1>&lt;h2 id="1-apache">1. Apache
&lt;/h2>&lt;p>Apacheæ˜¯ä¸–ç•Œä½¿ç”¨æ’åç¬¬ä¸€çš„WebæœåŠ¡å™¨è½¯ä»¶ã€‚å®ƒå¯ä»¥è¿è¡Œåœ¨å‡ ä¹æ‰€æœ‰å¹¿æ³›ä½¿ç”¨çš„è®¡ç®—æœºå¹³å°ä¸Šï¼Œç”±äºå…¶è·¨å¹³å°å’Œå®‰å…¨æ€§è¢«å¹¿æ³›ä½¿ç”¨ï¼Œæ˜¯æœ€æµè¡Œçš„WebæœåŠ¡å™¨ç«¯è½¯ä»¶ä¹‹ä¸€ã€‚å®ƒå¿«é€Ÿã€å¯é å¹¶ä¸”å¯é€šè¿‡ç®€å•çš„APIæ‰©å……ï¼Œå°†Perl/Pythonç­‰è§£é‡Šå™¨ç¼–è¯‘åˆ°æœåŠ¡å™¨ä¸­ã€‚&lt;/p>
&lt;h2 id="2-flask">2. Flask
&lt;/h2>&lt;p>Flaskæ˜¯ä¸€ä¸ªä½¿ç”¨ Python ç¼–å†™çš„è½»é‡çº§ Web åº”ç”¨æ¡†æ¶ã€‚å…¶ WSGI å·¥å…·ç®±é‡‡ç”¨ Werkzeug ï¼Œæ¨¡æ¿å¼•æ“åˆ™ä½¿ç”¨ Jinja2 ã€‚è¾ƒå…¶ä»–åŒç±»å‹æ¡†æ¶æ›´ä¸ºçµæ´»ã€è½»ä¾¿ã€å®‰å…¨ä¸”å®¹æ˜“ä¸Šæ‰‹,å°å‹å›¢é˜Ÿåœ¨çŸ­æ—¶é—´å†…å°±å¯ä»¥å®ŒæˆåŠŸèƒ½ä¸°å¯Œçš„ä¸­å°å‹ç½‘ç«™æˆ–WebæœåŠ¡çš„å®ç°ã€‚&lt;/p>
&lt;h2 id="3-ä¸ºä»€ä¹ˆä½¿ç”¨-apache-æ˜¯é…ç½®-flask">3. ä¸ºä»€ä¹ˆä½¿ç”¨ apache æ˜¯é…ç½® flaskï¼Ÿ
&lt;/h2>&lt;p>Flaskæœ¬èº«æ”¯æŒä½¿ç”¨ &lt;code>app.run(threaded=True, host='0.0.0.0',)&lt;/code>å®ç°å¤šçº¿ç¨‹è¿è¡Œï¼Œä½†ä¾ç„¶æ— æ³•å®ç°è¾ƒé«˜çš„æ€§èƒ½è¡¨ç°ã€‚è¿™ç§æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥å°†Flaskåº”ç”¨éƒ¨ç½²åˆ°ä¸“ä¸šçš„åç«¯æœåŠ¡å™¨ã€‚å¯ä»¥ä½¿ç”¨MOD_WSGI æ‹“å±•å°†åº”ç”¨éƒ¨ç½²è‡³Apache HTTP Serverä¸‹ã€‚&lt;/p>
&lt;h1 id="äºŒæ‰€ä½¿ç”¨çš„å·¥å…·ç‰ˆæœ¬">äºŒã€æ‰€ä½¿ç”¨çš„å·¥å…·ç‰ˆæœ¬
&lt;/h1>&lt;ul>
&lt;li>Linux ç³»ç»Ÿï¼šCentos7.6&lt;/li>
&lt;li>Python ç‰ˆæœ¬ï¼šPython3.7.5 ä¸ 2.7.5&lt;/li>
&lt;li>Apache ç‰ˆæœ¬ï¼š2.4.6&lt;/li>
&lt;li>Flask ç‰ˆæœ¬ï¼š1.1.1&lt;/li>
&lt;/ul>
&lt;h1 id="äºŒé…ç½®">äºŒã€é…ç½®
&lt;/h1>&lt;h2 id="1-å®‰è£…-apache">1. å®‰è£… Apache
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">yum install -y httpd httpd-devel
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Apache å¸¸ç”¨å‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">systemctl start httpd.service &lt;span class="c1"># å¯åŠ¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl stop httpd.service &lt;span class="c1"># å…³é—­&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl restart httpd.service &lt;span class="c1"># é‡å¯&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> httpd.service &lt;span class="c1"># å¼€æœºè‡ªå¯&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœé˜²ç«å¢™æ²¡æœ‰å¼€å¯80ç«¯å£ï¼Œåˆ™å¯ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å¼€å¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">firewall-cmd --zone&lt;span class="o">=&lt;/span>public --add-port&lt;span class="o">=&lt;/span>80/tcp --permanent
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">firewall-cmd --reload
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ­¤æ—¶å¤–ç½‘å·²ç»å¯ä»¥é€šè¿‡ipè®¿é—®Apacheçš„é»˜è®¤é¡µé¢ã€‚&lt;/p>
&lt;h2 id="2-å®‰è£…-python-åŠä¾èµ–">2. å®‰è£… Python åŠä¾èµ–
&lt;/h2>&lt;pre tabindex="0">&lt;code>yum install -y python37-devel.x86_64 # å®‰è£…ç¯å¢ƒä¾èµ–
yum install -y python36 # å®‰è£… Python37
yum install -y python36-setuptools # å®‰è£… pip
easy_install-3.6 pip
pip3 install virtualenv # å®‰è£…virtualenv
&lt;/code>&lt;/pre>&lt;h2 id="3-åˆ›å»º-flask-é¡¹ç›®">3. åˆ›å»º flask é¡¹ç›®
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">mkdir /var/www/flaskTest
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /var/www/flaskTest
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">virtualenv py3env &lt;span class="c1"># åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">source&lt;/span> py3env/bin/activate &lt;span class="c1"># è¿›å…¥è™šæ‹Ÿç¯å¢ƒ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">(&lt;/span>py3env&lt;span class="o">)&lt;/span> pip3 install flask &lt;span class="c1"># å®‰è£… flask&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">(&lt;/span>py3env&lt;span class="o">)&lt;/span> pip install mod_wsgi &lt;span class="c1"># å®‰è£… mod_wsgi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim app.py &lt;span class="c1"># åˆ›å»º flask é¡¹ç›®&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ app.py ä¸­ç¼–å†™ä¸€ä¸ªç®€å•çš„ flask é¡¹ç›®ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">flask&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">Flask&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">request&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">app&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Flask&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="vm">__name__&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@app.route&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">hello_world&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s1">&amp;#39;Hello World&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="vm">__name__&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;__main__&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">app&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="4-é…ç½®mod_wsgi">4. é…ç½®mod_wsgi
&lt;/h2>&lt;p>åˆ›å»ºä¸€ä¸ª wsgi æ–‡ä»¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">vim app.wsgi
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å°†ä¸‹é¢çš„ç¨‹åºå†™å…¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">activate_this&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;/var/www/flaskTest/py3env/bin/activate_this.py&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">with&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">activate_this&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">file_&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">exec&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">file_&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">read&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="nb">dict&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="vm">__file__&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">activate_this&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">sys&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">sys&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">insert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;/var/www/flaskTest&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">app&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">app&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">application&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">mod_wsgi-express install-module &lt;span class="c1"># æ‰§è¡Œè¯¥å‘½ä»¤å¾—åˆ°è¾“å‡º&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¾“å‡º&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># LoadModule wsgi_module &amp;#34;/usr/lib64/httpd/modules/mod_wsgi-py27.so&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># WSGIPythonHome &amp;#34;/usr&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="5-é…ç½®-apache">5. é…ç½® Apache
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">vi /etc/httpd/conf/httpd.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å°†ä¿¡æ¯è¿½åŠ åˆ°é…ç½®æ–‡ä»¶æœ«å°¾ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">LoadModule wsgi_module &lt;span class="s2">&amp;#34;/usr/lib64/httpd/modules/mod_wsgi-py27.so&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;VirtualHost *:80&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ServerName example.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> WSGIScriptAlias / /var/www/flaskTest/app.wsgi
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;Directory /var/www/flaskTest&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Require all granted
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/Directory&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;/VirtualHost&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="6-é‡å¯-apache-æœåŠ¡">6. é‡å¯ Apache æœåŠ¡
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">systemctl restart httpd.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åˆ°æ­¤ä¸ºæ­¢é…ç½®è¿‡ç¨‹å°±å·²ç»“æŸï¼Œä»å¤–ç½‘è®¿é—®æœ¬æœº IP å°±å¯ä»¥çœ‹åˆ° &lt;strong>&amp;ldquo;Hello World!&amp;rdquo;&lt;/strong> ç•Œé¢äº†ã€‚&lt;/p></description></item><item><title>Centos7ä¸‹éƒ¨ç½²Flaskåº”ç”¨</title><link>https://wlynxg.github.io/blog/p/centos7%E4%B8%8B%E9%83%A8%E7%BD%B2flask%E5%BA%94%E7%94%A8/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/centos7%E4%B8%8B%E9%83%A8%E7%BD%B2flask%E5%BA%94%E7%94%A8/</guid><description>&lt;h1 id="centos7ä¸‹éƒ¨ç½²flaskåº”ç”¨">Centos7ä¸‹éƒ¨ç½²Flaskåº”ç”¨
&lt;/h1>&lt;h2 id="ä¸€å®‰è£…-python3">ä¸€ã€å®‰è£… Python3
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">yum install python3 -y
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># éªŒè¯Pythonå®‰è£…æ˜¯å¦å®Œæˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">python3 -V
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pip3 -V
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ›´æ–°pip&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pip3 install --upgrade pip
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="äºŒå®‰è£…uwsgi">äºŒã€å®‰è£…uWSGI
&lt;/h2>&lt;p>å®‰è£…ä¾èµ–ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">yum install python3-devel
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœå‡ºç°ä¸‹é¢çš„é”™è¯¯ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>Transaction check error:
file /etc/rpm/macros.python from install of python-rpm-macros-3-34.el7.noarch conflicts with file from package python-devel-2.7.5-80.el7_6.x86_64
Error Summary
&lt;/code>&lt;/pre>&lt;p>åˆ™æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤åå†æ¬¡è¿›è¡Œå®‰è£…ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>yum update python-devel
&lt;/code>&lt;/pre>&lt;p>å®‰è£…uWSGIï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">pip3 install uwsgi
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># éªŒè¯å®‰è£…uwsgiæ˜¯å¦å®Œæˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">uwsgi --version
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ä¸‰å®‰è£…nginx">ä¸‰ã€å®‰è£…nginx
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">yum install nginx -y
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯åŠ¨ nginxï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">systemctl start nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€šè¿‡ IP ç›´æ¥è®¿é—®æœåŠ¡å™¨ï¼Œè®¿é—®æˆåŠŸè¯´æ˜ nginx å¼€å¯æˆåŠŸï¼š&lt;/p>
&lt;p>&lt;img src="https://pic.try-hard.cn/blog/2022/12/13/20221213-141628.png"
loading="lazy"
alt="image-20210706142809083"
>&lt;/p>
&lt;p>å¸¸ç”¨å‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è®¾ç½®nginxå¼€æœºè‡ªå¯åŠ¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¼€å¯nginx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl start nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹nginxè¿è¡ŒçŠ¶æ€&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl status nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å…³é—­nginx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl stop nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é‡å¯nginx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl restart nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é‡è½½é…ç½®æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl reload nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å››åˆ›å»ºflaskåº”ç”¨">å››ã€åˆ›å»ºflaskåº”ç”¨
&lt;/h2>&lt;p>é¦–å…ˆå®‰è£…flaskåº“ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>pip3 install flask
&lt;/code>&lt;/pre>&lt;p>åˆ›å»º flask åº”ç”¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># /var/www/app.py&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">flask&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">Flask&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">app&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Flask&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="vm">__name__&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@app.route&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">hello_world&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="s1">&amp;#39;Hello World!&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="vm">__name__&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;__main__&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">app&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">run&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ Python å¯åŠ¨ flask åº”ç”¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">python3 app.py
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿è¡ŒæˆåŠŸï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">* Serving Flask app &lt;span class="s1">&amp;#39;app&amp;#39;&lt;/span> &lt;span class="o">(&lt;/span>lazy loading&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> * Environment: production
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> WARNING: This is a development server. Do not use it in a production deployment.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Use a production WSGI server instead.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> * Debug mode: off
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> * Running on http://127.0.0.1:5000/ &lt;span class="o">(&lt;/span>Press CTRL+C to quit&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="äº”ä½¿ç”¨uwsgiå¯åŠ¨flask">äº”ã€ä½¿ç”¨uwsgiå¯åŠ¨flask
&lt;/h2>&lt;p>ç¼–å†™é…ç½®æ–‡ä»¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># /var/www/conf/config.ini&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="n">uwsgi&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># uwsgi å¯åŠ¨æ—¶æ‰€ä½¿ç”¨çš„åœ°å€ä¸ç«¯å£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">socket&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">127.0.0.1&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">8000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># python è°ƒç”¨çš„æ¨¡å—&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">module&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">app&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># python å¯åŠ¨ç¨‹åºæ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">wsgi&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">file&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">www&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">app&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">py&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># python ç¨‹åºå†…ç”¨ä»¥å¯åŠ¨çš„ application å˜é‡å&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">callable&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">app&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¤„ç†å™¨æ•°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">processes&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">4&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># çº¿ç¨‹æ•°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">threads&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">8&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¾“å‡ºæ—¥å¿—æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">daemonize&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">var&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">www&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">log&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">server&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">log&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½¿ç”¨ uwsgiå¯åŠ¨flaskï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">uwsgi /var/www/conf/config.ini
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">out:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>uWSGI&lt;span class="o">]&lt;/span> getting INI configuration from conf/config.ini
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯åŠ¨æˆåŠŸï¼&lt;/p>
&lt;h2 id="å…­ä½¿ç”¨nginxå¯åŠ¨uwsgi">å…­ã€ä½¿ç”¨nginxå¯åŠ¨uwsgi
&lt;/h2>&lt;p>ç¼–è¾‘ nginx.conf ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¤‡ä»½é…ç½®æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cp /etc/nginx/nginx.conf /etc/nginx/nginx.conf.bak
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç¼–è¾‘é…ç½®æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim /etc/nginx/nginx.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;pre tabindex="0">&lt;code>server {
listen 80;
location / {
include uwsgi_params;
uwsgi_pass 127.0.0.1:8000;
uwsgi_param UWSGI_CHDIR /var/www;
}
}
&lt;/code>&lt;/pre>&lt;p>é‡å¯ nginx ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é‡è½½é…ç½®æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl reload nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é‡å¯nginx&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl restart nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç›´æ¥è®¿é—®æœåŠ¡å™¨ IPï¼š&lt;/p>
&lt;p>&lt;img src="https://pic.try-hard.cn/blog/2022/12/13/20221213-141624.png"
loading="lazy"
alt="image-20210706152141259"
>&lt;/p>
&lt;p>é…ç½®å®Œæˆï¼&lt;/p></description></item><item><title>D-Bus å­¦ä¹ </title><link>https://wlynxg.github.io/blog/p/d-bus-%E5%AD%A6%E4%B9%A0/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/d-bus-%E5%AD%A6%E4%B9%A0/</guid><description>&lt;h1 id="d-bus-å­¦ä¹ ">D-Bus å­¦ä¹ 
&lt;/h1>&lt;h2 id="ä¸€èƒŒæ™¯çŸ¥è¯†">ä¸€ã€èƒŒæ™¯çŸ¥è¯†
&lt;/h2>&lt;blockquote>
&lt;p>D-Busæ˜¯ä¸€ç§é«˜çº§çš„è¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ï¼ˆinterprocess communicationï¼ŒIPCï¼‰ï¼Œå®ƒç”±freedesktop.orgé¡¹ç›®æä¾›ï¼Œä½¿ç”¨GPLè®¸å¯è¯å‘è¡Œã€‚&lt;/p>
&lt;p>D-Busæœ€ä¸»è¦çš„ç”¨é€”æ˜¯åœ¨ Linux æ¡Œé¢ç¯å¢ƒä¸ºè¿›ç¨‹æä¾›é€šä¿¡ï¼ŒåŒæ—¶èƒ½å°† Linux æ¡Œé¢ç¯å¢ƒå’Œ Linux å†…æ ¸äº‹ä»¶ä½œä¸ºæ¶ˆæ¯ä¼ é€’åˆ°è¿›ç¨‹ã€‚D-Bus(å…¶ä¸­DåŸå…ˆæ˜¯ä»£è¡¨æ¡Œé¢â€œDesktopâ€ çš„æ„æ€)ï¼Œå³ï¼šç”¨äºæ¡Œé¢æ“ä½œç³»ç»Ÿçš„é€šä¿¡æ€»çº¿ã€‚ç°åœ¨é€æ¸è¢«å¼•å…¥åˆ°åµŒå…¥å¼ç³»ç»Ÿä¸­ï¼Œä¸è¿‡åå­—è¿˜æ˜¯ä¿ç•™åŸå…ˆçš„å«æ³•è€Œå·²ã€‚&lt;/p>
&lt;p>D-Busçš„ä¸»è¦æ¦‚å¿µä¸ºæ€»çº¿ï¼Œæ³¨å†Œåçš„è¿›ç¨‹å¯é€šè¿‡æ€»çº¿æ¥æ”¶æˆ–ä¼ é€’æ¶ˆæ¯ï¼Œè¿›ç¨‹ä¹Ÿå¯æ³¨å†Œåç­‰å¾…å†…æ ¸äº‹ä»¶å“åº”ï¼Œä¾‹å¦‚ç­‰å¾…ç½‘ç»œçŠ¶æ€çš„è½¬å˜æˆ–è€…è®¡ç®—æœºå‘å‡ºå…³æœºæŒ‡ä»¤ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="äºŒä¸»è¦ç‰¹æ€§">äºŒã€ä¸»è¦ç‰¹æ€§
&lt;/h2>&lt;h3 id="1-ç»“æ„å±‚æ¬¡">1. ç»“æ„å±‚æ¬¡
&lt;/h3>&lt;p>DBUS ç”±å¦‚ä¸‹ä¸‰ä¸ªå±‚æ¬¡æ„æˆï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>libdbus&lt;/strong>: æ¥å£åº“ï¼Œæä¾›ç‚¹å¯¹ç‚¹é€šä¿¡å’Œæ•°æ®äº¤æ¢çš„èƒ½åŠ›ï¼›&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>å®ˆæŠ¤è¿›ç¨‹&lt;/strong>: å³dbus daemonè¿›ç¨‹ï¼Œæä¾›å¤šå¯¹å¤šçš„é€šä¿¡æœºåˆ¶ï¼Œè¿›ç¨‹ä¸daemonå»ºç«‹dbusè¿æ¥ï¼Œç”±daemonè¿›è¡Œæ¶ˆæ¯çš„åˆ†å‘ï¼›&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>å°è£…åº“&lt;/strong>: DBUS ç”±å¦‚ä¸‹ä¸‰ä¸ªå±‚æ¬¡æ„æˆï¼Œå¦‚&lt;a class="link" href="http://dbus.freedesktop.org/doc/dbus-glib/index.html" target="_blank" rel="noopener"
>dbus-glib&lt;/a>/&lt;a class="link" href="https://developer.gnome.org/gio/2.42/gdbus-lowlevel.html" target="_blank" rel="noopener"
>GDBus&lt;/a>, &lt;a class="link" href="http://qt-project.org/doc/qt-5/qtdbus-module.html" target="_blank" rel="noopener"
>QtDBus&lt;/a>ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>DBusæ˜¯ä½æ—¶å»¶ä¸”ä½æ¶ˆè€—çš„ï¼Œä¸ºäº†æœ€å°åŒ–ä¼ é€çš„å¾€è¿”æ—¶é—´ï¼Œå®ƒè¢«è®¾è®¡å¾—å°è€Œé«˜æ•ˆã€‚å®ƒçš„åè®®æ˜¯äºŒè¿›åˆ¶çš„ï¼Œè€Œä¸æ˜¯æ–‡æœ¬çš„ï¼Œè¿™æ ·å°±æ’é™¤äº†è´¹æ—¶çš„åºåˆ—åŒ–è¿‡ç¨‹ã€‚&lt;/p>
&lt;h3 id="2-ç³»ç»Ÿæ€»çº¿å’Œä¼šè¯æ€»çº¿">2. ç³»ç»Ÿæ€»çº¿å’Œä¼šè¯æ€»çº¿
&lt;/h3>&lt;p>åœ¨ä¸€å°æœºå™¨ä¸Šæ€»çº¿å®ˆæŠ¤æœ‰å¤šä¸ªå®ä¾‹(instance)ã€‚è¿™äº›æ€»çº¿ä¹‹é—´éƒ½æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;em>ä¸€ä¸ªæŒä¹…çš„ç³»ç»Ÿæ€»çº¿ï¼ˆsystem busï¼‰&lt;/em>&lt;/p>
&lt;p>å®ƒåœ¨å¼•å¯¼æ—¶å°±ä¼šå¯åŠ¨ã€‚è¿™ä¸ªæ€»çº¿ç”±æ“ä½œç³»ç»Ÿå’Œåå°è¿›ç¨‹ä½¿ç”¨ï¼Œå®‰å…¨æ€§éå¸¸å¥½ï¼Œä»¥ä½¿å¾—ä»»æ„çš„åº”ç”¨ç¨‹åºä¸èƒ½æ¬ºéª—ç³»ç»Ÿäº‹ä»¶ã€‚ å®ƒæ˜¯æ¡Œé¢ä¼šè¯å’Œæ“ä½œç³»ç»Ÿçš„é€šä¿¡ï¼Œè¿™é‡Œæ“ä½œç³»ç»Ÿä¸€èˆ¬è€Œè¨€åŒ…æ‹¬å†…æ ¸å’Œç³»ç»Ÿå®ˆæŠ¤è¿›ç¨‹ã€‚ è¿™ç§é€šé“çš„æœ€å¸¸ç”¨çš„æ–¹é¢å°±æ˜¯å‘é€ç³»ç»Ÿæ¶ˆæ¯ï¼Œæ¯”å¦‚ï¼šæ’å…¥ä¸€ä¸ªæ–°çš„å­˜å‚¨è®¾å¤‡ï¼›æœ‰æ–°çš„ç½‘ç»œè¿æ¥ï¼›ç­‰ç­‰ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;em>è¿˜å°†æœ‰å¾ˆå¤šä¼šè¯æ€»çº¿ï¼ˆsession busesï¼‰&lt;/em>&lt;/p>
&lt;p>è¿™äº›æ€»çº¿å½“ç”¨æˆ·ç™»å½•åå¯åŠ¨ï¼Œå±äºé‚£ä¸ªç”¨æˆ·ç§æœ‰ã€‚å®ƒæ˜¯ç”¨æˆ·çš„åº”ç”¨ç¨‹åºç”¨æ¥é€šä¿¡çš„ä¸€ä¸ªä¼šè¯æ€»çº¿ã€‚ åŒä¸€ä¸ªæ¡Œé¢ä¼šè¯ä¸­ä¸¤ä¸ªæ¡Œé¢åº”ç”¨ç¨‹åºçš„é€šä¿¡ï¼Œå¯ä½¿å¾—æ¡Œé¢ä¼šè¯ä½œä¸ºæ•´ä½“é›†æˆåœ¨ä¸€èµ·ä»¥è§£å†³è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸçš„ç›¸å…³é—®é¢˜ã€‚ è¿™åœ¨GNOMEå’ŒKDEæ¡Œé¢ä¸­å¤§é‡ä½¿ç”¨ã€‚&lt;/p>
&lt;h3 id="3-ä¸»è¦åŠŸèƒ½">3. ä¸»è¦åŠŸèƒ½
&lt;/h3>&lt;/li>
&lt;/ul>
&lt;p>D-Busçš„ä¸»è¦ç›®çš„æ˜¯æä¾›å¦‚ä¸‹çš„ä¸€äº›æ›´é«˜å±‚çš„åŠŸèƒ½ï¼š&lt;/p>
&lt;ul>
&lt;li>ç»“æ„åŒ–çš„åå­—ç©ºé—´ï¼›&lt;/li>
&lt;li>ç‹¬ç«‹äºæ¶æ„çš„æ•°æ®æ ¼å¼ï¼›&lt;/li>
&lt;li>æ”¯æŒæ¶ˆæ¯ä¸­çš„å¤§éƒ¨åˆ†é€šç”¨æ•°æ®å…ƒç´ ï¼›&lt;/li>
&lt;li>å¸¦æœ‰å¼‚å¸¸å¤„ç†çš„é€šç”¨è¿œç¨‹è°ƒç”¨æ¥å£ï¼›&lt;/li>
&lt;li>æ”¯æŒå¹¿æ’­ç±»å‹çš„é€šä¿¡ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="ä¸‰dbus-ç¼–ç¨‹åŸºç¡€çŸ¥è¯†">ä¸‰ã€DBus ç¼–ç¨‹åŸºç¡€çŸ¥è¯†
&lt;/h2>&lt;h3 id="1-åœ°å€">1. åœ°å€
&lt;/h3>&lt;p>è¿æ¥å»ºç«‹éœ€è¦æœ‰ server å’Œ clientï¼šç‚¹å¯¹ç‚¹é€šä¿¡æ—¶å°±æ˜¯ä¸€ä¸ª server å’Œ ä¸€ä¸ª clientï¼›åœ¨ bus daemon é€šä¿¡æ—¶ï¼Œåº”ç”¨å°±æ˜¯clientï¼Œbus daemon æ˜¯serverã€‚&lt;/p>
&lt;p>ä¸€ä¸ªD-Busçš„åœ°å€å°±æ˜¯æ˜¯æŒ‡ server ç”¨äºç›‘å¬ï¼Œclient ç”¨äºè¿æ¥çš„åœ°æ–¹ï¼Œä¾‹å¦‚ &lt;code>unix:path=/tmp/abcedf&lt;/code>æ ‡è¯†server å°†åœ¨è·¯å¾„ &lt;code>/tmp/abcedf&lt;/code> çš„ &lt;code>UNIX domain socket&lt;/code> ç›‘å¬ã€‚ åœ°å€å¯ä»¥æ˜¯æŒ‡å®šçš„TCP/IP socket æˆ–è€…å…¶ä»–åœ¨æˆ–è€…å°†åœ¨D-Busåè®®ä¸­å®šä¹‰çš„ä¼ è¾“æ–¹å¼ã€‚&lt;/p>
&lt;p>å¦‚æœä½¿ç”¨ bus daemon é€šä¿¡ï¼Œlibdbuså°†é€šè¿‡è¯»å–ç¯å¢ƒå˜é‡è‡ªåŠ¨è·å– session bus damon çš„åœ°å€ï¼Œé€šè¿‡æ£€æŸ¥ä¸€ä¸ªæŒ‡å®šçš„ UNIX domain socket è·¯å¾„è·å– system bus çš„åœ°å€ï¼›å¦‚æœä½¿ç”¨ç‚¹å¯¹ç‚¹é€šä¿¡ï¼Œéœ€è¦å®šä¹‰å“ªä¸ªåº”ç”¨æ˜¯serverï¼Œå“ªä¸ªåº”ç”¨æ˜¯clientï¼Œå¹¶å®šä¹‰ä¸€å¥—æœºåˆ¶æ˜¯ä»–ä»¬è®¤å¯serverçš„åœ°å€ï¼ˆé€šå¸¸ä¸ä½¿ç”¨ï¼‰ã€‚&lt;/p>
&lt;h3 id="2-bus-namesæ€»çº¿åå­—">2. Bus Namesæ€»çº¿åå­—
&lt;/h3>&lt;p>å½“ä¸€ä¸ªåº”ç”¨è¿æ¥åˆ° bus daemonï¼Œdaemon ç«‹å³ä¼šåˆ†é…ä¸€ä¸ªåå­—ç»™è¿™ä¸ªè¿æ¥ï¼Œç§°ä¸º &lt;strong>Unique Connection Name&lt;/strong>ï¼Œ è¿™ä¸ªå”¯ä¸€æ ‡è¯†çš„åå­—ä»¥å†’å· &lt;strong>&amp;quot;:&amp;quot;&lt;/strong> å¼€å¤´ï¼Œä¾‹å¦‚ &lt;strong>:1.2&lt;/strong>ï¼Œè¿™ä¸ªåå­—åœ¨ daemon çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸæ˜¯å”¯ä¸€çš„ã€‚&lt;/p>
&lt;p>ä½†æ˜¯è¿™ç§åå­—æ€»æ˜¯ä¸´æ—¶åˆ†é…ï¼Œæ— æ³•ç¡®å®šçš„ï¼Œä¹Ÿéš¾ä»¥è®°å¿†ï¼Œå› æ­¤åº”ç”¨å¯ä»¥è¦æ±‚æœ‰å¦å¤–ä¸€ä¸ªå…¬å…±å &lt;strong>well-known name&lt;/strong> æ¥å¯¹åº”è¿™ä¸ªå”¯ä¸€æ ‡è¯†ï¼Œå°±åƒæˆ‘ä»¬ä½¿ç”¨åŸŸåæ¥æ˜ å°„ IPåœ°å€ä¸€æ ·ã€‚ä¾‹å¦‚å¯ä»¥ä½¿ç”¨ &lt;strong>org.fmddlmyy.Test&lt;/strong> æ¥æ˜ å°„ &lt;strong>:1.2&lt;/strong>ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å…¬å…±åè¿æ¥åˆ° DBus æœåŠ¡ã€‚&lt;/p>
&lt;p>å½“ä¸€ä¸ªåº”ç”¨ç»“æŸæˆ–è€…å´©æºƒæ˜¯ï¼Œç³»ç»Ÿå†…æ ¸ä¼šå…³é—­å®ƒçš„æ€»çº¿è¿æ¥ã€‚æ€»çº¿ä¼šå‘é€ Notification æ¶ˆæ¯å‘Šè¯‰å…¶ä»–åº”ç”¨ï¼Œå½“æ£€æµ‹åˆ°è¿™ç±» Notification æ—¶ï¼Œåº”ç”¨å¯ä»¥çŸ¥é“å…¶ä»–åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸã€‚&lt;/p>
&lt;h3 id="3-åŸç”Ÿå¯¹è±¡å’Œå¯¹è±¡è·¯å¾„">3. åŸç”Ÿå¯¹è±¡å’Œå¯¹è±¡è·¯å¾„
&lt;/h3>&lt;p>d-bus çš„åº•å±‚æ¥å£æ˜¯æ²¡æœ‰è¿™äº›å¯¹è±¡çš„æ¦‚å¿µçš„ï¼Œå®ƒæä¾›çš„æ˜¯ä¸€ç§å«å¯¹è±¡è·¯å¾„ï¼ˆobject pathï¼‰ï¼Œç”¨äºè®©é«˜å±‚æ¥å£ç»‘å®šåˆ°å„ä¸ªå¯¹è±¡ä¸­å»ï¼Œå…è®¸è¿œç«¯åº”ç”¨ç¨‹åºæŒ‡å‘å®ƒä»¬ã€‚object pathå°±åƒæ˜¯ä¸€ä¸ªæ–‡ä»¶è·¯å¾„ï¼Œå¯ä»¥å«åš &lt;code>/org/kde/kspread/sheets/3/cells/4/5&lt;/code> ç­‰ã€‚&lt;/p>
&lt;h3 id="4-proxiesä»£ç†">4. Proxiesä»£ç†
&lt;/h3>&lt;p>ä»£ç†å¯¹è±¡ç”¨äºæ¨¡æ‹Ÿåœ¨å¦å¤–çš„è¿›ç¨‹ä¸­çš„è¿œç«¯å¯¹è±¡ï¼Œä»£ç†å¯¹è±¡åƒæ˜¯ä¸€ä¸ªæ­£å¸¸çš„æ™®é€šå¯¹è±¡ã€‚&lt;/p>
&lt;p>d-bus çš„åº•å±‚æ¥å£å¿…é¡»æ‰‹åŠ¨åˆ›å»ºæ–¹æ³•è°ƒç”¨çš„æ¶ˆæ¯ï¼Œç„¶åå‘é€ï¼ŒåŒæ—¶å¿…é¡»æ‰‹åŠ¨æ¥å—å’Œå¤„ç†è¿”å›çš„æ¶ˆæ¯ã€‚è€Œé«˜å±‚æ¥å£å¯ä»¥ä½¿ç”¨ä»£ç†æ¥å¤„ç†è¿™äº›æ“ä½œï¼šå½“è°ƒç”¨ä»£ç†å¯¹è±¡çš„æ–¹æ³•æ—¶ï¼Œä»£ç†å†…éƒ¨ä¼šè½¬æ¢æˆ d-bus çš„æ–¹æ³•è°ƒç”¨ï¼Œå¹¶ä¸”è‡ªåŠ¨ç­‰å¾…æ¶ˆæ¯è¿”å›ï¼Œå¯¹è¿”å›ç»“æœè§£åŒ…ï¼Œ è¿”å›ç»™ç›¸åº”çš„æ–¹æ³•ã€‚&lt;/p>
&lt;h3 id="3-æ¥å£-interface">3. æ¥å£ Interface
&lt;/h3>&lt;p>æ¥å£æ˜¯ä¸€ç»„æ–¹æ³•å’Œä¿¡å·ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡æ”¯æŒä¸€ä¸ªæˆ–è€…å¤šä¸ªæ¥å£ï¼Œæ¥å£å®šä¹‰ä¸€ä¸ªå¯¹è±¡å®ä½“çš„ç±»å‹ã€‚ D-Busä½¿ç”¨ç®€å•çš„å‘½åç©ºé—´å­—ç¬¦ä¸²æ¥è¡¨ç¤ºæ¥å£ï¼Œä¾‹å¦‚ &lt;code>org.freedesktop.Introspectable&lt;/code>ã€‚&lt;/p>
&lt;h3 id="4-methods-å’Œ-signals">4. Methods å’Œ Signals
&lt;/h3>&lt;p>æ¯ä¸€ä¸ªå¯¹è±¡æœ‰ä¸¤ç±»æˆå‘˜ï¼š&lt;strong>æ–¹æ³•å’Œä¿¡å·&lt;/strong>ï¼š&lt;/p>
&lt;ul>
&lt;li>æ–¹æ³•å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå…·æœ‰æœ‰è¾“å…¥å’Œè¾“å‡ºï¼›&lt;/li>
&lt;li>ä¿¡å·ä¼šè¢«å¹¿æ’­ï¼Œæ„Ÿå…´è¶£çš„å¯¹è±¡å¯ä»¥å¤„ç†è¿™ä¸ª ä¿¡å·ï¼ŒåŒæ—¶ä¿¡å·ä¸­ä¹Ÿå¯ä»¥å¸¦æœ‰ç›¸å…³çš„æ•°æ®ã€‚&lt;/li>
&lt;/ul>
&lt;p>åœ¨ D-BUS ä¸­æœ‰å››ç§ç±»å‹çš„æ¶ˆæ¯ï¼šæ–¹æ³•è°ƒç”¨ï¼ˆ&lt;strong>method call&lt;/strong>ï¼‰ã€æ–¹æ³•è¿”å›ï¼ˆ&lt;strong>method return&lt;/strong>ï¼‰ã€ä¿¡å·ï¼ˆ&lt;strong>signal&lt;/strong>ï¼‰å’Œé”™è¯¯ï¼ˆ&lt;strong>error&lt;/strong>ï¼‰ã€‚&lt;/p>
&lt;p>è¦æ‰§è¡ŒD-BUSå¯¹è±¡çš„æ–¹æ³•ï¼Œæ‚¨éœ€è¦å‘å¯¹è±¡å‘é€ä¸€ä¸ªæ–¹æ³•è°ƒç”¨æ¶ˆæ¯ã€‚ å®ƒå°†å®Œæˆä¸€äº›å¤„ç†ï¼ˆå°±æ˜¯æ‰§è¡Œäº†å¯¹è±¡ä¸­çš„Methodï¼ŒMethodæ˜¯å¯ä»¥å¸¦æœ‰è¾“å…¥å‚æ•°çš„ã€‚ï¼‰å¹¶è¿”å›ï¼Œè¿”å›æ¶ˆæ¯æˆ–è€…é”™è¯¯æ¶ˆæ¯ã€‚ ä¿¡å·çš„ä¸åŒä¹‹å¤„åœ¨äºå®ƒä»¬ä¸è¿”å›ä»»ä½•å†…å®¹ï¼šæ—¢æ²¡æœ‰â€œä¿¡å·è¿”å›â€æ¶ˆæ¯ï¼Œä¹Ÿæ²¡æœ‰ä»»ä½•ç±»å‹çš„é”™è¯¯æ¶ˆæ¯ã€‚&lt;/p>
&lt;h2 id="4-d-bus">4. D-Bus
&lt;/h2>&lt;h3 id="1-d-feet">1. D-Feet
&lt;/h3>&lt;blockquote>
&lt;p>D-Feetæ˜¯ä¸€ä¸ªæ˜“äºä½¿ç”¨D-busè°ƒè¯•å™¨ï¼ŒD-Feetç”¨æ¥æ£€æŸ¥D-busæ¥å£çš„è¿è¡Œç¨‹åºå’Œè°ƒç”¨æ¥å£çš„æ–¹æ³•ã€‚å¯ä»¥æ˜¾ç¤ºserviceæä¾›çš„æ‰€æœ‰å¯¹è±¡ã€ä¿¡å·å’Œæ–¹æ³•ï¼Œè¿˜å¯ä»¥é€šè¿‡å®ƒå®ç°æ–¹æ³•è°ƒç”¨ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>åœ¨æœ‰æ¡Œé¢ç¯å¢ƒçš„ç³»ç»Ÿä¸Šå®‰è£… D-Feetï¼Œè¿™é‡Œè‡ªå·±é€‰æ‹©çš„æ˜¯Ubuntuï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å®‰è£…ä¾èµ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt-get install dbus
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt-get install libgtk2.0-dev
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt-get install libdbus-glib-1-dev
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å®‰è£… D-Feet&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt-get install d-feet
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŒæ—¶ä¸‹è½½ä¸€ä¸ªç®€å•çš„ DBus ç¨‹åºï¼š&lt;a class="link" href="http://www.fmddlmyy.cn/down2/hello-dbus3-0.1.tar.gz" target="_blank" rel="noopener"
>ä¸‹è½½é“¾æ¥&lt;/a>ï¼Œè¿è¡Œæ–¹æ³•ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è§£å‹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tar -zxvf hello-dbus3-0.1.tar.gz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç¼–è¯‘&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> hello-dbus3-0.1/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">./autogen.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">./configure
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">make
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¿è¡Œ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> src
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">./example-service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿è¡Œ d-feetï¼Œæ‰“å¼€ Session busï¼Œæ‰¾åˆ°ä¸€ä¸ªå« â€œorg.fmddlmyy.Testâ€ è¿æ¥åï¼Œè¿™ä¸ªé“¾æ¥å°±æ˜¯æˆ‘ä»¬åˆšåˆšè¿è¡Œçš„ä¸€ä¸ªD-Busç¨‹åºï¼š&lt;/p>
&lt;p>&lt;img src="https://pic.try-hard.cn/blog/1634003366306114300.png"
loading="lazy"
alt="image-20211012094923932"
>&lt;/p>
&lt;p>åœ¨å³ä¾§å±•å¼€æ æˆ‘ä»¬ä¼šå‘ç° &lt;code>org.fmddlmyy.Test.Basic&lt;/code> ä¸‹æœ‰ä¸€ä¸ª Add æ–¹æ³•ï¼Œæˆ‘ä»¬ç‚¹å‡»å®ƒï¼Œè¾“å…¥ &lt;code>1ï¼Œ2&lt;/code>ï¼Œç‚¹å‡»æ‰§è¡Œï¼Œå¯ä»¥çœ‹åˆ°ç»™æˆ‘ä»¬è¿”å›äº†ç»“æœï¼š&lt;/p>
&lt;p>&lt;img src="https://pic.try-hard.cn/blog/1634003624795407200.png"
loading="lazy"
alt="image-20211012095344567"
>&lt;/p>
&lt;p>é€šè¿‡ä¸Šé¢çš„æ“ä½œæˆ‘ä»¬é€šè¿‡ d-feet å‘èµ·äº†ä¸€æ¬¡ d-bus è¯·æ±‚ã€‚&lt;/p>
&lt;h3 id="2-dbus-send-å’Œ-dbus-monitor">2. dbus-send å’Œ dbus-monitor
&lt;/h3>&lt;p>dbusæä¾›äº†ä¸¤ä¸ªå°å·¥å…·ï¼šdbus-sendå’Œdbus-monitorã€‚æˆ‘ä»¬å¯ä»¥ç”¨dbus-sendå‘é€æ¶ˆæ¯ã€‚ç”¨dbus-monitorç›‘è§†æ€»çº¿ä¸ŠæµåŠ¨çš„æ¶ˆæ¯ã€‚ è®©æˆ‘ä»¬é€šè¿‡dbus-sendå‘é€æ¶ˆæ¯æ¥è°ƒç”¨å‰é¢çš„Addæ–¹æ³•ï¼Œè¿™æ—¶dbus-sendå……å½“äº†åº”ç”¨ç¨‹åºBã€‚ç”¨dbus-monitorè§‚å¯Ÿè°ƒç”¨è¿‡ç¨‹ä¸­çš„æ¶ˆæ¯ã€‚&lt;/p>
&lt;p>å¼€å¯ä¸¤ä¸ªç»ˆç«¯ï¼Œä¸€ä¸ªç»ˆç«¯è¿è¡Œ dbus-monitorï¼Œä¸€ä¸ªç»ˆç«¯ä½¿ç”¨ dbus-send å‘é€æ¶ˆæ¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">dbus-send --session --type&lt;span class="o">=&lt;/span>method_call --print-reply --dest&lt;span class="o">=&lt;/span>org.fmddlmyy.Test /TestObj org.fmddlmyy.Test.Basic.Add int32:100 int32:999
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ dbus-monitor ä¸­å¯ä»¥å‘ç°å¦‚ä¸‹è¾“å‡ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å‘ D-Bus Damon å‘é€Helloå»ºç«‹è¿æ¥&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">method call &lt;span class="nv">time&lt;/span>&lt;span class="o">=&lt;/span>1634008917.432651 &lt;span class="nv">sender&lt;/span>&lt;span class="o">=&lt;/span>:1.123 -&amp;gt; &lt;span class="nv">destination&lt;/span>&lt;span class="o">=&lt;/span>org.freedesktop.DBus &lt;span class="nv">serial&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span> &lt;span class="nv">path&lt;/span>&lt;span class="o">=&lt;/span>/org/freedesktop/DBus&lt;span class="p">;&lt;/span> &lt;span class="nv">interface&lt;/span>&lt;span class="o">=&lt;/span>org.freedesktop.DBus&lt;span class="p">;&lt;/span> &lt;span class="nv">member&lt;/span>&lt;span class="o">=&lt;/span>Hello
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">method &lt;span class="k">return&lt;/span> &lt;span class="nv">time&lt;/span>&lt;span class="o">=&lt;/span>1634008917.432668 &lt;span class="nv">sender&lt;/span>&lt;span class="o">=&lt;/span>org.freedesktop.DBus -&amp;gt; &lt;span class="nv">destination&lt;/span>&lt;span class="o">=&lt;/span>:1.123 &lt;span class="nv">serial&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span> &lt;span class="nv">reply_serial&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> string &lt;span class="s2">&amp;#34;:1.123&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¹¿æ’­å…¨å±€ï¼ŒæŒ‡å®šåç§°çš„æ‹¥æœ‰è€…å‘ç”Ÿäº†å˜åŒ– &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">signal &lt;span class="nv">time&lt;/span>&lt;span class="o">=&lt;/span>1634008917.432674 &lt;span class="nv">sender&lt;/span>&lt;span class="o">=&lt;/span>org.freedesktop.DBus -&amp;gt; &lt;span class="nv">destination&lt;/span>&lt;span class="o">=(&lt;/span>null destination&lt;span class="o">)&lt;/span> &lt;span class="nv">serial&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">9&lt;/span> &lt;span class="nv">path&lt;/span>&lt;span class="o">=&lt;/span>/org/freedesktop/DBus&lt;span class="p">;&lt;/span> &lt;span class="nv">interface&lt;/span>&lt;span class="o">=&lt;/span>org.freedesktop.DBus&lt;span class="p">;&lt;/span> &lt;span class="nv">member&lt;/span>&lt;span class="o">=&lt;/span>NameOwnerChanged
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> string &lt;span class="s2">&amp;#34;:1.123&amp;#34;&lt;/span> &lt;span class="c1"># åå­—&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> string &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span> &lt;span class="c1"># æ‹¥æœ‰è€…åŸå§‹åå­—&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> string &lt;span class="s2">&amp;#34;:1.123&amp;#34;&lt;/span> &lt;span class="c1"># æ‹¥æœ‰è€…ç°åœ¨åå­—&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é€šçŸ¥åº”ç”¨è·å¾—äº†æŒ‡å®šåç§°çš„æ‹¥æœ‰æƒ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">signal &lt;span class="nv">time&lt;/span>&lt;span class="o">=&lt;/span>1634008917.432681 &lt;span class="nv">sender&lt;/span>&lt;span class="o">=&lt;/span>org.freedesktop.DBus -&amp;gt; &lt;span class="nv">destination&lt;/span>&lt;span class="o">=&lt;/span>:1.123 &lt;span class="nv">serial&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">2&lt;/span> &lt;span class="nv">path&lt;/span>&lt;span class="o">=&lt;/span>/org/freedesktop/DBus&lt;span class="p">;&lt;/span> &lt;span class="nv">interface&lt;/span>&lt;span class="o">=&lt;/span>org.freedesktop.DBus&lt;span class="p">;&lt;/span> &lt;span class="nv">member&lt;/span>&lt;span class="o">=&lt;/span>NameAcquired
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> string &lt;span class="s2">&amp;#34;:1.123&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è°ƒç”¨ Add æ–¹æ³• &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">method call &lt;span class="nv">time&lt;/span>&lt;span class="o">=&lt;/span>1634008917.433334 &lt;span class="nv">sender&lt;/span>&lt;span class="o">=&lt;/span>:1.123 -&amp;gt; &lt;span class="nv">destination&lt;/span>&lt;span class="o">=&lt;/span>org.fmddlmyy.Test &lt;span class="nv">serial&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">2&lt;/span> &lt;span class="nv">path&lt;/span>&lt;span class="o">=&lt;/span>/TestObj&lt;span class="p">;&lt;/span> &lt;span class="nv">interface&lt;/span>&lt;span class="o">=&lt;/span>org.fmddlmyy.Test.Basic&lt;span class="p">;&lt;/span> &lt;span class="nv">member&lt;/span>&lt;span class="o">=&lt;/span>Add
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> int32 &lt;span class="m">100&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> int32 &lt;span class="m">999&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Add æ–¹æ³•è¿”å›ç»“æœ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">method &lt;span class="k">return&lt;/span> &lt;span class="nv">time&lt;/span>&lt;span class="o">=&lt;/span>1634008917.434117 &lt;span class="nv">sender&lt;/span>&lt;span class="o">=&lt;/span>:1.121 -&amp;gt; &lt;span class="nv">destination&lt;/span>&lt;span class="o">=&lt;/span>:1.123 &lt;span class="nv">serial&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">6&lt;/span> &lt;span class="nv">reply_serial&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> int32 &lt;span class="m">1099&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é€šçŸ¥åº”ç”¨å¤±å»äº†æŒ‡å®šåç§°çš„æ‹¥æœ‰æƒ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">signal &lt;span class="nv">time&lt;/span>&lt;span class="o">=&lt;/span>1634008917.435946 &lt;span class="nv">sender&lt;/span>&lt;span class="o">=&lt;/span>org.freedesktop.DBus -&amp;gt; &lt;span class="nv">destination&lt;/span>&lt;span class="o">=&lt;/span>:1.123 &lt;span class="nv">serial&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">5&lt;/span> &lt;span class="nv">path&lt;/span>&lt;span class="o">=&lt;/span>/org/freedesktop/DBus&lt;span class="p">;&lt;/span> &lt;span class="nv">interface&lt;/span>&lt;span class="o">=&lt;/span>org.freedesktop.DBus&lt;span class="p">;&lt;/span> &lt;span class="nv">member&lt;/span>&lt;span class="o">=&lt;/span>NameLost
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> string &lt;span class="s2">&amp;#34;:1.123&amp;#34;&lt;/span>&lt;span class="m">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¹¿æ’­å…¨å±€ï¼ŒæŒ‡å®šåç§°çš„æ‹¥æœ‰è€…å‘ç”Ÿäº†å˜åŒ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">signal &lt;span class="nv">time&lt;/span>&lt;span class="o">=&lt;/span>1634008917.435978 &lt;span class="nv">sender&lt;/span>&lt;span class="o">=&lt;/span>org.freedesktop.DBus -&amp;gt; &lt;span class="nv">destination&lt;/span>&lt;span class="o">=(&lt;/span>null destination&lt;span class="o">)&lt;/span> &lt;span class="nv">serial&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">10&lt;/span> &lt;span class="nv">path&lt;/span>&lt;span class="o">=&lt;/span>/org/freedesktop/DBus&lt;span class="p">;&lt;/span> &lt;span class="nv">interface&lt;/span>&lt;span class="o">=&lt;/span>org.freedesktop.DBus&lt;span class="p">;&lt;/span> &lt;span class="nv">member&lt;/span>&lt;span class="o">=&lt;/span>NameOwnerChanged
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> string &lt;span class="s2">&amp;#34;:1.123&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> string &lt;span class="s2">&amp;#34;:1.123&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> string &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€šè¿‡è§‚å¯Ÿ dbus-monitor æˆ‘ä»¬äº†è§£äº†ä¸€æ¬¡å®Œæ•´çš„ d-bus é€šä¿¡çš„æµç¨‹ã€‚&lt;/p>
&lt;h3 id="3-orgfreedesktopdbus">3. org.freedesktop.DBus
&lt;/h3>&lt;p>åœ¨ä¸Šé¢çš„æµç¨‹ä¸­å‡ºç°çš„ org.freedesktop.DBus å°±æ˜¯ Bus Damon ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ &lt;code>org.freedesktop.DBus.Introspectable.Introspect&lt;/code> æ–¹æ³•æŸ¥çœ‹ä¸€ä¸ª Bus å¯¹è±¡æ”¯æŒçš„æ¥å£ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨å®ƒæ¥æŸ¥çœ‹ &lt;code>org.freedesktop.DBus&lt;/code> æ”¯æŒçš„æ¥å£ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">dbus-send --session --type&lt;span class="o">=&lt;/span>method_call --print-reply --dest&lt;span class="o">=&lt;/span>org.freedesktop.DBus / org.freedesktop.DBus.Introspectable.Introspect
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&amp;#34;http://www.freedesktop.org/standards/dbus/1.0/introspect.dtd&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;node&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;interface&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;org.freedesktop.DBus&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;Hello&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;out&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/method&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;RequestName&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;in&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;in&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;u&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;out&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;u&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/method&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;ReleaseName&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;in&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;out&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;u&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/method&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;StartServiceByName&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;in&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;in&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;u&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;out&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;u&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/method&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;UpdateActivationEnvironment&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;in&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;a{ss}&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/method&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;NameHasOwner&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;in&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;out&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;b&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/method&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;ListNames&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;out&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;as&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/method&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;ListActivatableNames&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;out&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;as&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/method&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;AddMatch&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;in&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/method&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;RemoveMatch&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;in&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/method&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;GetNameOwner&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;in&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;out&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/method&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;ListQueuedOwners&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;in&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;out&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;as&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/method&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;GetConnectionUnixUser&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;in&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;out&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;u&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/method&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;GetConnectionUnixProcessID&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;in&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;out&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;u&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/method&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;GetAdtAuditSessionData&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;in&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;out&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;ay&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/method&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;GetConnectionSELinuxSecurityContext&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;in&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;out&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;ay&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/method&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;GetConnectionAppArmorSecurityContext&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;in&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;out&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/method&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;ReloadConfig&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/method&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;GetId&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;out&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/method&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;GetConnectionCredentials&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;in&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;out&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;a{sv}&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/method&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;Features&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;as&amp;#34;&lt;/span> &lt;span class="na">access=&lt;/span>&lt;span class="s">&amp;#34;read&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;annotation&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;org.freedesktop.DBus.Property.EmitsChangedSignal&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;const&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;property&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;Interfaces&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;as&amp;#34;&lt;/span> &lt;span class="na">access=&lt;/span>&lt;span class="s">&amp;#34;read&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;annotation&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;org.freedesktop.DBus.Property.EmitsChangedSignal&amp;#34;&lt;/span> &lt;span class="na">value=&lt;/span>&lt;span class="s">&amp;#34;const&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/property&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;signal&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;NameOwnerChanged&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/signal&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;signal&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;NameLost&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/signal&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;signal&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;NameAcquired&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/signal&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/interface&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;interface&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;org.freedesktop.DBus.Introspectable&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;Introspect&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;out&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/method&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/interface&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;interface&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;org.freedesktop.DBus.Peer&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;GetMachineId&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;arg&lt;/span> &lt;span class="na">direction=&lt;/span>&lt;span class="s">&amp;#34;out&amp;#34;&lt;/span> &lt;span class="na">type=&lt;/span>&lt;span class="s">&amp;#34;s&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/method&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;method&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;Ping&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/method&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/interface&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;node&lt;/span> &lt;span class="na">name=&lt;/span>&lt;span class="s">&amp;#34;org/freedesktop/DBus&amp;#34;&lt;/span>&lt;span class="nt">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/node&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä»è¾“å‡ºå¯ä»¥çœ‹åˆ°ä¼šè¯æ€»çº¿å¯¹è±¡æ”¯æŒæ ‡å‡†æ¥å£â€œorg.freedesktop.DBus.Introspectableâ€å’Œæ¥å£â€œorg.freedesktop.DBusâ€ã€‚ æ¥å£â€œorg.freedesktop.DBusâ€æœ‰16ä¸ªæ–¹æ³•å’Œ3ä¸ªä¿¡å·ã€‚ä¸‹è¡¨åˆ—å‡ºäº†â€œorg.freedesktop.DBusâ€çš„12ä¸ªæ–¹æ³•çš„ç®€è¦è¯´æ˜ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>æ–¹æ³•&lt;/th>
&lt;th>ç”¨é€”&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>org.freedesktop.DBus.RequestName (in STRING name, in UINT32 flags, out UINT32 reply)&lt;/td>
&lt;td>è¯·æ±‚å…¬ä¼—åã€‚å…¶ä¸­flagå®šä¹‰å¦‚ä¸‹ï¼š &lt;br />- DBUS_NAME_FLAG_ALLOW_REPLACEMENT 1 &lt;br />- DBUS_NAME_FLAG_REPLACE_EXISTING 2 &lt;br />- DBUS_NAME_FLAG_DO_NOT_QUEUE 4 &lt;br />è¿”å›å€¼replyå®šä¹‰å¦‚ä¸‹ï¼š&lt;br /> - DBUS_REQUEST_NAME_REPLY_PRIMARY_OWNER 1 &lt;br />- DBUS_REQUEST_NAME_REPLY_IN_QUEUE 2 &lt;br />- DBUS_REQUEST_NAME_REPLY_EXISTS 3 &lt;br />- DBUS_REQUEST_NAME_REPLY_ALREADY_OWNER 4&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>org.freedesktop.DBus.ReleaseName (in STRING name, out UINT32 reply)&lt;/td>
&lt;td>é‡Šæ”¾å…¬ä¼—åã€‚è¿”å›å€¼replyå®šä¹‰å¦‚ä¸‹ï¼š DBUS_RELEASE_NAME_REPLY_RELEASED 1 DBUS_RELEASE_NAME_REPLY_NON_EXISTENT 2 DBUS_RELEASE_NAME_REPLY_NOT_OWNER 3&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>org.freedesktop.DBus.Hello (out STRING unique_name)&lt;/td>
&lt;td>ä¸€ä¸ªåº”ç”¨åœ¨é€šè¿‡æ¶ˆæ¯æ€»çº¿å‘å…¶å®ƒåº”ç”¨å‘æ¶ˆæ¯å‰å¿…é¡»å…ˆè°ƒç”¨Hello è·å–è‡ªå·±è¿™ä¸ªè¿æ¥çš„å”¯ä¸€åã€‚è¿”å›å€¼å°±æ˜¯è¿æ¥çš„å”¯ä¸€åã€‚dbusæ²¡æœ‰å®šä¹‰ä¸“é—¨çš„åˆ‡æ–­è¿æ¥å‘½ä»¤ï¼Œå…³é—­socketå°±æ˜¯åˆ‡æ–­è¿æ¥ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>org.freedesktop.DBus.ListNames (out ARRAY of STRING bus_names)&lt;/td>
&lt;td>è¿”å›æ¶ˆæ¯æ€»çº¿ä¸Šå·²è¿æ¥çš„æ‰€æœ‰è¿æ¥åï¼ŒåŒ…æ‹¬æ‰€æœ‰å…¬å…±åå’Œå”¯ä¸€åã€‚ä¾‹å¦‚è¿æ¥ â€œorg.fmddlmyy.Testâ€ åŒæ—¶æœ‰å…¬å…±å â€œorg.fmddlmyy.Testâ€ å’Œå”¯ä¸€å â€œ:1.123â€ ï¼Œ è¿™ä¸¤ä¸ªåç§°éƒ½ä¼šè¢«è¿”å›ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>org.freedesktop.DBus.ListActivatableNames (out ARRAY of STRING bus_names)&lt;/td>
&lt;td>è¿”å›æ‰€æœ‰å¯ä»¥å¯åŠ¨çš„æœåŠ¡åã€‚dbusæ”¯æŒæŒ‰éœ€å¯åŠ¨æœåŠ¡ï¼Œå³æ ¹æ®åº”ç”¨ç¨‹åºçš„è¯·æ±‚å¯åŠ¨æœåŠ¡ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>org.freedesktop.DBus.NameHasOwner (in STRING name, out BOOLEAN has_owner)&lt;/td>
&lt;td>æ£€æŸ¥æ˜¯å¦æœ‰è¿æ¥æ‹¥æœ‰æŒ‡å®šåç§°ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>org.freedesktop.DBus.StartServiceByName (in STRING name, in UINT32 flags, out UINT32 ret_val)&lt;/td>
&lt;td>æŒ‰åç§°å¯åŠ¨æœåŠ¡ã€‚å‚æ•°flagsæš‚æœªä½¿ç”¨ã€‚è¿”å›å€¼ret_valå®šä¹‰å¦‚ä¸‹ï¼š &lt;br />1 æœåŠ¡è¢«æˆåŠŸå¯åŠ¨ &lt;br />2 å·²ç»æœ‰è¿æ¥æ‹¥æœ‰è¦å¯åŠ¨çš„æœåŠ¡å&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>org.freedesktop.DBus.GetNameOwner (in STRING name, out STRING unique_connection_name)&lt;/td>
&lt;td>è¿”å›æ‹¥æœ‰æŒ‡å®šå…¬ä¼—åçš„è¿æ¥çš„å”¯ä¸€åã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>org.freedesktop.DBus.GetConnectionUnixUser (in STRING connection_name, out UINT32 unix_user_id)&lt;/td>
&lt;td>è¿”å›æŒ‡å®šè¿æ¥å¯¹åº”çš„æœåŠ¡å™¨è¿›ç¨‹çš„Unixç”¨æˆ·idã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>org.freedesktop.DBus.AddMatch (in STRING rule)&lt;/td>
&lt;td>ä¸ºå½“å‰è¿æ¥å¢åŠ åŒ¹é…è§„åˆ™ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>org.freedesktop.DBus.RemoveMatch (in STRING rule)&lt;/td>
&lt;td>ä¸ºå½“å‰è¿æ¥å»æ‰æŒ‡å®šåŒ¹é…è§„åˆ™ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>org.freedesktop.DBus.GetId (out STRING id)&lt;/td>
&lt;td>è¿”å›æ¶ˆæ¯æ€»çº¿çš„IDã€‚è¿™ä¸ªIDåœ¨æ¶ˆæ¯æ€»çº¿çš„ç”Ÿå‘½æœŸå†…æ˜¯å”¯ä¸€çš„ã€‚&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>æ¥å£ â€œorg.freedesktop.DBusâ€ çš„3ä¸ªä¿¡å·æ˜¯ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>ä¿¡å·&lt;/th>
&lt;th>ç”¨é€”&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>org.freedesktop.DBus.NameOwnerChanged (STRING name, STRING old_owner, STRING new_owner)&lt;/td>
&lt;td>æŒ‡å®šåç§°çš„æ‹¥æœ‰è€…å‘ç”Ÿäº†å˜åŒ–ã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>org.freedesktop.DBus.NameLost (STRING name)&lt;/td>
&lt;td>é€šçŸ¥åº”ç”¨å¤±å»äº†æŒ‡å®šåç§°çš„æ‹¥æœ‰æƒã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>org.freedesktop.DBus.NameAcquired (STRING name)&lt;/td>
&lt;td>é€šçŸ¥åº”ç”¨è·å¾—äº†æŒ‡å®šåç§°çš„æ‹¥æœ‰æƒã€‚&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="4-d-bus-service">4. D-Bus Service
&lt;/h3>&lt;p>&lt;code>org.freedesktop.DBus.ListActivatableNames&lt;/code> æ¥å£å¯ä»¥è¿”å›æ‰€æœ‰å¯ä»¥å¯åŠ¨çš„æœåŠ¡åï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">dbus-send --session --type&lt;span class="o">=&lt;/span>method_call --print-reply --dest&lt;span class="o">=&lt;/span>org.freedesktop.DBus / org.freedesktop.DBus.ListActivatableNames&lt;span class="p">|&lt;/span>sort
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">string &lt;span class="s2">&amp;#34;ca.desrt.dconf&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">string &lt;span class="s2">&amp;#34;com.feralinteractive.GameMode&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">string &lt;span class="s2">&amp;#34;io.snapcraft.Launcher&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">string &lt;span class="s2">&amp;#34;io.snapcraft.Settings&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">string &lt;span class="s2">&amp;#34;org.a11y.Bus&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">string &lt;span class="s2">&amp;#34;org.bluez.obex&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">string &lt;span class="s2">&amp;#34;org.fedoraproject.Config.Printing&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">......
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘ä»¬å†ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl"> cat /usr/share/dbus-1/services/* &lt;span class="p">|&lt;/span> grep &lt;span class="nv">Name&lt;/span>&lt;span class="o">=&lt;/span> &lt;span class="p">|&lt;/span> sort
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">Name&lt;/span>&lt;span class="o">=&lt;/span>ca.desrt.dconf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">Name&lt;/span>&lt;span class="o">=&lt;/span>com.feralinteractive.GameMode
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">Name&lt;/span>&lt;span class="o">=&lt;/span>io.snapcraft.Launcher
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">Name&lt;/span>&lt;span class="o">=&lt;/span>io.snapcraft.Settings
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">Name&lt;/span>&lt;span class="o">=&lt;/span>org.a11y.Bus
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">Name&lt;/span>&lt;span class="o">=&lt;/span>org.bluez.obex
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">Name&lt;/span>&lt;span class="o">=&lt;/span>org.fedoraproject.Config.Printing
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">......
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘ä»¬ä¼šå‘ç°ä¸Šè¯‰ä¸¤ä¸ªå‘½ä»¤çš„è¾“å‡ºå†…å®¹æ˜¯åŸºæœ¬ä¸€è‡´çš„ï¼ˆå¯èƒ½æœ‰äº›å¹²æ‰°æ•°æ®ï¼‰ï¼Œç¬¬äºŒä¸ªå‘½ä»¤å®é™…ä¸Šå°±æ˜¯æŸ¥çœ‹çš„ &lt;code>/usr/share/dbus-1/services/&lt;/code> æ–‡ä»¶å¤¹ä¸‹çš„å†…å®¹ï¼Œè¿›å…¥è¯¥æ–‡ä»¶å¤¹ä¸‹ï¼Œæˆ‘ä»¬ä¼šå‘ç°å¾ˆå¤š service æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ·»åŠ è‡ªå·± service æ–‡ä»¶ï¼Œå°† &lt;code>org.fmddlmyy.Test&lt;/code> åŠ å…¥æœåŠ¡ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">cat org.fmddlmyy.Test.service
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>D-BUS Service&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">Name&lt;/span>&lt;span class="o">=&lt;/span>org.fmddlmyy.Test
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">Exec&lt;/span>&lt;span class="o">=&lt;/span>/root/hello-dbus3-0.1/src/example-service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ—¶æˆ‘ä»¬ä¸å»æ‰‹åŠ¨å¯åŠ¨ example-service æ–‡ä»¶ï¼Œç›´æ¥è¯·æ±‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">dbus-send --session --type&lt;span class="o">=&lt;/span>method_call --print-reply --dest&lt;span class="o">=&lt;/span>org.fmddlmyy.Test /TestObj org.fmddlmyy.Test.Basic.Add int32:100 int32:999
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‘ç°ç°åœ¨å·²ç»æˆåŠŸè®¿é—®äº†è¯¥æœåŠ¡ï¼&lt;/p>
&lt;p>åˆšåˆšæˆ‘ä»¬çœ‹çš„æ˜¯ seesion bus çš„ serviceï¼Œsystem bus çš„ service åœ¨ &lt;code>/usr/share/dbus-1/system-services&lt;/code> è·¯å¾„ä¸‹ï¼Œæœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥å»çœ‹çœ‹ã€‚&lt;/p>
&lt;blockquote>
&lt;p>å‚è€ƒé“¾æ¥ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="http://www.fmddlmyy.cn/mytext.html" target="_blank" rel="noopener"
>æˆ‘çš„éšç¬” (fmddlmyy.cn)&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.cnblogs.com/zhoug2020/p/4516144.html" target="_blank" rel="noopener"
>DBuså­¦ä¹ ç¬”è®° - è«æ°´åƒæµ - åšå®¢å›­ (cnblogs.com)&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://thebigdoc.readthedocs.io/en/latest/dbus/dbus.html" target="_blank" rel="noopener"
>4.1. D-Busç³»åˆ—ä¹‹å…¥é—¨ â€” big-doc 0.1 documentation (thebigdoc.readthedocs.io)&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://dbus.freedesktop.org/doc/dbus-tutorial.html" target="_blank" rel="noopener"
>D-Bus Tutorial (dbus.freedesktop.org)&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote></description></item><item><title>dbus æµ‹è¯•å‘½ä»¤</title><link>https://wlynxg.github.io/blog/p/dbus-%E6%B5%8B%E8%AF%95%E5%91%BD%E4%BB%A4/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/dbus-%E6%B5%8B%E8%AF%95%E5%91%BD%E4%BB%A4/</guid><description>&lt;h1 id="dbus-æµ‹è¯•å‘½ä»¤">DBUS æµ‹è¯•å‘½ä»¤
&lt;/h1>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä¿®æ”¹æ—¶åŒºä¸º Asia/Shanghai&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dbus-send --system --type&lt;span class="o">=&lt;/span>method_call --print-reply --dest&lt;span class="o">=&lt;/span>org.freedesktop.timedate1 /org/freedesktop/timedate1 org.freedesktop.timedate1.SetTimezone string:Asia/Shanghai boolean:true
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä¿®æ”¹æ—¶åŒºä¸º U&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dbus-send --system --type&lt;span class="o">=&lt;/span>method_call --print-reply --dest&lt;span class="o">=&lt;/span>org.freedesktop.timedate1 /org/freedesktop/timedate1 org.freedesktop.timedate1.SetTimezone string:UTC boolean:true
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>dbus æ•°å€¼ç±»å‹</title><link>https://wlynxg.github.io/blog/p/dbus-%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/dbus-%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B/</guid><description>&lt;h1 id="d-bus-æ•°å€¼ç±»å‹">D-Bus æ•°å€¼ç±»å‹
&lt;/h1>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>æ ‡è¯†&lt;/th>
&lt;th>ä»‹ç»&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>a&lt;/td>
&lt;td>ARRAY æ•°ç»„&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>b&lt;/td>
&lt;td>BOOLEAN å¸ƒå°”å€¼&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>d&lt;/td>
&lt;td>DOUBLE IEEE 754åŒç²¾åº¦æµ®ç‚¹æ•°&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>g&lt;/td>
&lt;td>SIGNATURE ç±»å‹ç­¾å&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>i&lt;/td>
&lt;td>INT32 32ä½æœ‰ç¬¦å·æ•´æ•°&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>n&lt;/td>
&lt;td>INT16 16ä½æœ‰ç¬¦å·æ•´æ•°&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>o&lt;/td>
&lt;td>OBJECT_PATH å¯¹è±¡è·¯å¾„&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>q&lt;/td>
&lt;td>UINT16 16ä½æ— ç¬¦å·æ•´æ•°&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>s&lt;/td>
&lt;td>STRING é›¶ç»“å°¾çš„UTF-8å­—ç¬¦ä¸²&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>t&lt;/td>
&lt;td>UINT64 64ä½æ— ç¬¦å·æ•´æ•°&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>u&lt;/td>
&lt;td>UINT32 32ä½æ— ç¬¦å·æ•´æ•°&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>v&lt;/td>
&lt;td>VARIANT å¯ä»¥æ”¾ä»»æ„æ•°æ®ç±»å‹çš„å®¹å™¨ï¼Œæ•°æ®ä¸­åŒ…å«ç±»å‹ä¿¡æ¯ã€‚ä¾‹å¦‚glibä¸­çš„GValueã€‚&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>x&lt;/td>
&lt;td>INT64 64ä½æœ‰ç¬¦å·æ•´æ•°&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>y&lt;/td>
&lt;td>BYTE 8ä½æ— ç¬¦å·æ•´æ•°&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>()&lt;/td>
&lt;td>å®šä¹‰ç»“æ„æ—¶ä½¿ç”¨ã€‚ä¾‹å¦‚&amp;quot;(i(ii))&amp;quot;&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>{}&lt;/td>
&lt;td>å®šä¹‰é”®ï¼å€¼å¯¹æ—¶ä½¿ç”¨ã€‚ä¾‹å¦‚&amp;quot;a{us}&amp;quot;&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>Debian å®‰è£… redis</title><link>https://wlynxg.github.io/blog/p/debian-%E5%AE%89%E8%A3%85-redis/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/debian-%E5%AE%89%E8%A3%85-redis/</guid><description>&lt;h1 id="debian-å®‰è£…-redis">Debian å®‰è£… Redis
&lt;/h1>&lt;ol>
&lt;li>
&lt;p>å®‰è£…ä¾èµ–é¡¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">apt-get install wget curl gnupg -y
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>æ·»åŠ  GPG å¯†é’¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">curl https://packages.redis.io/gpg &lt;span class="p">|&lt;/span> apt-key add -
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>æ·»åŠ  Redis å®˜æ–¹å­˜å‚¨åº“ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;deb https://packages.redis.io/deb &lt;/span>&lt;span class="k">$(&lt;/span>lsb_release -cs&lt;span class="k">)&lt;/span>&lt;span class="s2"> main&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> tee /etc/apt/sources.list.d/redis.list
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>æ›´æ–°å­˜å‚¨åº“å’Œå®‰è£… Redisï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">apt-get update -y
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt-get install redis-server -y
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>éªŒè¯ Redis å®‰è£…ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">apt-cache policy redis-server
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>è¿è¡Œ Redis æœåŠ¡ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> redis-server --now
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>æŸ¥çœ‹ Redis æœåŠ¡è¿è¡ŒçŠ¶æ€ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">systemctl status redis-server
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;p>è¿æ¥ Redisï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">redis-cli
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ol>
&lt;p>æ›´æ”¹ Redis æœåŠ¡é…ç½®ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">vim /etc/redis/redis.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Debian ç¼–è¯‘å®‰è£… qBittorent</title><link>https://wlynxg.github.io/blog/p/debian-%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85-qbittorent/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/debian-%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85-qbittorent/</guid><description>&lt;h1 id="debian-ç¼–è¯‘å®‰è£…-qbittorent">Debian ç¼–è¯‘å®‰è£… qBittorent
&lt;/h1>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä¸‹è½½&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://github.com/qbittorrent/qBittorrent/archive/refs/tags/release-4.5.0.tar.gz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è§£å‹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tar xf release-4.5.0.tar.gz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> release-4.5.0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç¼–è¯‘é…ç½®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">./configure --disable-debug --enable-encryption --with-libgeoip&lt;span class="o">=&lt;/span>system &lt;span class="nv">CXXFLAGS&lt;/span>&lt;span class="o">=&lt;/span>-std&lt;span class="o">=&lt;/span>c++14
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¼ºå¤±ä¾èµ–ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>Q: configure: error: Could not find pkg-config
A: apt install pkg-config
Q: configure: error: Could not find qmake
&lt;/code>&lt;/pre></description></item><item><title>Debian é…ç½® Avahi</title><link>https://wlynxg.github.io/blog/p/debian-%E9%85%8D%E7%BD%AE-avahi/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/debian-%E9%85%8D%E7%BD%AE-avahi/</guid><description>&lt;h1 id="debian-é…ç½®-avahi">Debian é…ç½® Avahi
&lt;/h1>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å®‰è£… å®ˆæŠ¤è¿›ç¨‹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install avahi-daemon
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å®‰è£…å·¥å…·&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install avahi-utils
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¯åŠ¨ avahi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl start avahi-daemon
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹æœåŠ¡çŠ¶æ€&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl status avahi-daemon
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>avahi æä¾›çš„æœåŠ¡é…ç½®ç¤ºä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ls /usr/share/doc/avahi-daemon/examples/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">example.service sftp-ssh.service ssh.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å‘å¸ƒ ssh æœåŠ¡ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ‹·è´æœåŠ¡é…ç½®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cp /usr/share/doc/avahi-daemon/examples/ssh.service /etc/avahi/services/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä¿®æ”¹å¯¹å¤–æš´éœ²çš„ä¸»æœºåï¼Œé»˜è®¤é‡‡ç”¨çš„ä¸»æœºåï¼Œå½“å±€åŸŸç½‘å†…æœ‰ç›¸åŒä¸»æœºåæ—¶å¯èƒ½äº§ç”Ÿå†²çª&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim /etc/avahi/avahi-daemon.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>server&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">host-name&lt;span class="o">=&lt;/span>avahi
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é‡å¯ avahi &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl restart avahi-daemon
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æµ‹è¯• mDNS æœåŠ¡ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>ping avahi.local
ssh root@avahi.local
&lt;/code>&lt;/pre>&lt;p>æµ‹è¯• samba æœåŠ¡ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å®‰è£… samba&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Debian é…ç½® samba</title><link>https://wlynxg.github.io/blog/p/debian-%E9%85%8D%E7%BD%AE-samba/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/debian-%E9%85%8D%E7%BD%AE-samba/</guid><description>&lt;h2 id="å®‰è£…é…ç½®-samba">å®‰è£…é…ç½® samba
&lt;/h2>&lt;p>å®‰è£… samba æœåŠ¡ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">apt install samba, smbclient&lt;span class="o">(&lt;/span>smbå®¢æˆ·ç«¯ï¼Œç”¨äºè¿æ¥smb&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åˆ›å»ºå…±äº«æ–‡ä»¶å¤¹ :&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">mkdir /samba
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chmod &lt;span class="m">777&lt;/span> /samba
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é…ç½® sambaï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">vim /etc/samba/smb.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åœ¨é…ç½®æ–‡ä»¶æœ«å°¾è¿½åŠ &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>share&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">comment&lt;/span> &lt;span class="o">=&lt;/span> share
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">path&lt;/span> &lt;span class="o">=&lt;/span> /samba
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">browsable&lt;/span> &lt;span class="o">=&lt;/span> yes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">guest &lt;span class="nv">ok&lt;/span> &lt;span class="o">=&lt;/span> yes &lt;span class="c1"># é…ç½®è®¿å®¢è®¿é—®&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯åŠ¨ samba æœåŠ¡ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">systemctl start smbd &lt;span class="c1"># å¯åŠ¨ smbd&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> smbd &lt;span class="c1"># åŠ å…¥å¼€æœºè‡ªå¯åŠ¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl status smbd &lt;span class="c1"># æŸ¥çœ‹æœåŠ¡çŠ¶æ€&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â— smbd.service - Samba SMB Daemon
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Loaded: loaded &lt;span class="o">(&lt;/span>/lib/systemd/system/smbd.service&lt;span class="p">;&lt;/span> enabled&lt;span class="p">;&lt;/span> vendor preset: enabled&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Active: active &lt;span class="o">(&lt;/span>running&lt;span class="o">)&lt;/span> since Tue 2022-12-13 11:18:32 CST&lt;span class="p">;&lt;/span> 4min 54s ago
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Docs: man:smbd&lt;span class="o">(&lt;/span>8&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> man:samba&lt;span class="o">(&lt;/span>7&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> man:smb.conf&lt;span class="o">(&lt;/span>5&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Process: &lt;span class="m">12185&lt;/span> &lt;span class="nv">ExecStartPre&lt;/span>&lt;span class="o">=&lt;/span>/usr/share/samba/update-apparmor-samba-profile &lt;span class="o">(&lt;/span>&lt;span class="nv">code&lt;/span>&lt;span class="o">=&lt;/span>exited, &lt;span class="nv">status&lt;/span>&lt;span class="o">=&lt;/span>0/SUCCESS&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Main PID: &lt;span class="m">12194&lt;/span> &lt;span class="o">(&lt;/span>smbd&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Status: &lt;span class="s2">&amp;#34;smbd: ready to serve connections...&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Tasks: &lt;span class="m">5&lt;/span> &lt;span class="o">(&lt;/span>limit: 18857&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Memory: 7.8M
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> CPU: 469ms
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> CGroup: /system.slice/smbd.service
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€12194 /usr/sbin/smbd --foreground --no-process-group
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€12196 /usr/sbin/smbd --foreground --no-process-group
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€12197 /usr/sbin/smbd --foreground --no-process-group
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€12199 /usr/sbin/smbd --foreground --no-process-group
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€12201 /usr/sbin/smbd --foreground --no-process-group
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Dec &lt;span class="m">13&lt;/span> 11:18:32 debian11 systemd&lt;span class="o">[&lt;/span>1&lt;span class="o">]&lt;/span>: Starting Samba SMB Daemon...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Dec &lt;span class="m">13&lt;/span> 11:18:32 debian11 systemd&lt;span class="o">[&lt;/span>1&lt;span class="o">]&lt;/span>: Started Samba SMB Daemon.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœ¬åœ°è¿æ¥ samba:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é¦–å…ˆéœ€è¦æ·»åŠ ç³»ç»Ÿç”¨æˆ·&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">useradd -G samba debian11 &lt;span class="nb">echo&lt;/span> &lt;span class="s1">&amp;#39;Password&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span>passwd --stdin debian11
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ·»åŠ  samba ç”¨æˆ·&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">smbpasswd -a debian11
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¿æ¥samba&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">smbclient -L 127.0.0.1 -U debian11
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="é…ç½®è‹¹æœå’Œwindowsçš„ç½‘ç»œå‘ç°">é…ç½®è‹¹æœå’ŒWindowsçš„ç½‘ç»œå‘ç°
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å®‰è£… avahiï¼Œavahiæ˜¯zeroconfigåè®®çš„ä¸€ä¸ªå®ç°ï¼Œè‹¹æœçš„bonjouræ˜¯zeroconfigçš„å¦å¤–ä¸€ä¸ªå®ç°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å®‰è£…äº† avahi åï¼Œè‹¹æœè®¾å¤‡å°±èƒ½å‘ç° linux ä¸Šçš„ samba æœåŠ¡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install avahi-daemon
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># wsdd å®ç°äº† WS-Discover åè®®ï¼ŒWindows å¯ä»¥é€šè¿‡æ­¤åè®®å‘ç°ç½‘ç»œè®¾å¤‡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install wsdd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯åŠ¨æœåŠ¡ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä¸éœ€è¦åœ¨avahiçš„servicesä¸­é…ç½®smbæœåŠ¡ï¼Œå› ä¸ºsmbé»˜è®¤ä¼šå€ŸåŠ©avahiè¿›è¡ŒæœåŠ¡æš´éœ²&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl start avahi-daemon
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl start wsdd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Debian ä½¿ç”¨è“ç‰™</title><link>https://wlynxg.github.io/blog/p/debian-%E4%BD%BF%E7%94%A8%E8%93%9D%E7%89%99/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/debian-%E4%BD%BF%E7%94%A8%E8%93%9D%E7%89%99/</guid><description>&lt;h1 id="debian-ä½¿ç”¨è“ç‰™">Debian ä½¿ç”¨è“ç‰™
&lt;/h1>&lt;h2 id="å®‰è£…é…ç½®è“ç‰™æœåŠ¡">å®‰è£…é…ç½®è“ç‰™æœåŠ¡
&lt;/h2>&lt;h2 id="1--bluetooth-æœåŠ¡">1. bluetooth æœåŠ¡
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">apt install bluetooth
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl start bluetooth
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="2-ç”µæºç®¡ç†">2. ç”µæºç®¡ç†
&lt;/h2>&lt;pre tabindex="0">&lt;code class="language-apt" data-lang="apt">rfkill list
rfkill unblock all
&lt;/code>&lt;/pre>&lt;h2 id="3-firmware-iwlwifi">3. firmware-iwlwifi
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">apt update &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> apt install firmware-iwlwifi
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="4-bluetooth-é…ç½®">4. bluetooth é…ç½®
&lt;/h3>&lt;pre tabindex="0">&lt;code>vim /etc/dbus-1/system.d/bluetooth.conf
add to config:
&amp;lt;policy group=&amp;#34;bluetooth&amp;#34;&amp;gt;
&amp;lt;allow send_destination=&amp;#34;org.bluez&amp;#34;/&amp;gt;
&amp;lt;/policy&amp;gt;
usermod -a -G bluetooth root
reboot
&lt;/code>&lt;/pre>&lt;h2 id="ä½¿ç”¨è“ç‰™æœåŠ¡">ä½¿ç”¨è“ç‰™æœåŠ¡
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¯åŠ¨è“ç‰™ç½‘å¡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hciconfig hci0 up
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ‰«æ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">bluetoothctl scan on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é…å¯¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">bluetoothctl pair &lt;span class="o">{&lt;/span>addr&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä¿¡ä»»è®¾å¤‡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">bluetoothctl trust &lt;span class="o">{&lt;/span>addr&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¿æ¥è®¾å¤‡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">bluetoothctl connect &lt;span class="o">{&lt;/span>addr&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å®‰è£… pulseaudio ç”¨ä»¥è¿æ¥è“ç‰™éŸ³ç®±è®¾å¤‡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install pulseaudio-module-bluetooth
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pulseaudio --start -D
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pactl load-module module-bluetooth-discover
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å®‰è£…-pybluez-åº“åŒ…">å®‰è£… pybluez åº“åŒ…
&lt;/h2>&lt;pre tabindex="0">&lt;code>apt-get install python3-dev
apt-get install libbluetooth-dev
pip install git+https://github.com/pybluez/pybluez.git#egg=pybluez
# è®¾å¤‡æœåŠ¡æŸ¥çœ‹å‘½ä»¤
sdptool
&lt;/code>&lt;/pre>&lt;h2 id="windows-è“ç‰™æŠ“åŒ…">windows è“ç‰™æŠ“åŒ…
&lt;/h2>&lt;pre tabindex="0">&lt;code># å‘½ä»¤è¡Œç®¡ç†å‘˜æ‰§è¡Œ
# å¼€å§‹æŠ“åŒ…
logman create trace &amp;#34;bth_hci&amp;#34; -ow -o C:\bth_hci.etl -p {8a1f9517-3a8c-4a9e-a018-4f17a200f277} 0xffffffffffffffff 0xff -nb 16 16 -bs 1024 -mode Circular -f bincirc -max 4096 -ets
# ç»“æŸæŠ“åŒ…
logman stop &amp;#34;bth_hci&amp;#34; -ets
# ä¸‹è½½è½¬æ¢å·¥å…·
https://download.microsoft.com/download/e/e/e/eeed3cd5-bdbd-47db-9b8e-ca9d2df2cd29/BluetoothTestPlatformPack-1.8.0.msi
# ä¸‹è½½åBTETLParse.exeç›®å½•
C:\BTP\v1.8.0\x64
# è½¬æ¢
BTETLParse.exe bth_hci_phone.etl
&lt;/code>&lt;/pre>&lt;h2 id="hciconfig-ä½¿ç”¨é—®é¢˜">hciconfig ä½¿ç”¨é—®é¢˜
&lt;/h2>&lt;pre tabindex="0">&lt;code># hciconfig hci0 up
Can&amp;#39;t init device hci0: No such file or directory (2)
&lt;/code>&lt;/pre>&lt;p>æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—å‘ç°æœ‰å¦‚ä¸‹æŠ¥é”™ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">hci0: firmware: failed to load intel/ibt-0040-2120.sfi &lt;span class="o">(&lt;/span>-2&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hci0: firmware: failed to load intel/ibt-0040-2120.ddc &lt;span class="o">(&lt;/span>-2&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ˜¯ç”±äºæ²¡æœ‰åŠ è½½å¯¹åº”çš„å›ºä»¶åŒ…å¯¼è‡´ï¼Œè§£å†³æ–¹æ¡ˆï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># aptå®‰è£…å›ºä»¶åŒ…&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt update &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> apt install firmware-iwlwifi
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¦‚æœå®‰è£…äº†å›ºä»¶åŒ…ä¾ç„¶å­˜åœ¨è¿™ç§é—®é¢˜ï¼Œå»æŸ¥çœ‹ä¸€ä¸‹å¯¹åº”çš„å›ºä»¶åŒ…æ˜¯å¦å·²ç»å®‰è£…&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /usr/lib/firmware &lt;span class="c1"># åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹æŸ¥çœ‹æ˜¯å¦æœ‰å¯¹åº”çš„å›ºä»¶åŒ…&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¦‚æœæ²¡æœ‰å¯¹åº”çš„å›ºä»¶åŒ…ï¼Œåˆ™å¯èƒ½æ˜¯ç”±äºå›ºä»¶æ¯”è¾ƒæ–°æ²¡æœ‰åŒ…å«åœ¨ firmware-iwlwifi ä¸­&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å» https://anduin.linuxfromscratch.org/sources/linux-firmware/ ä¸‹è½½æ‰€éœ€çš„å›ºä»¶åŒ…ï¼Œæ”¾åˆ°å¯¹åº”çš„è·¯å¾„ä¸‹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ›´æ–°æ‰€æœ‰å·²å®‰è£…å†…æ ¸çš„ initramfs&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">update-initramfs -kall -u
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="bluetoothctl-ä½¿ç”¨é—®é¢˜">bluetoothctl ä½¿ç”¨é—®é¢˜
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># bluetoothctl scan on&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">No default controller available
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Debian ä½¿ç”¨æ— çº¿ç½‘å¡</title><link>https://wlynxg.github.io/blog/p/debian-%E4%BD%BF%E7%94%A8%E6%97%A0%E7%BA%BF%E7%BD%91%E5%8D%A1/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/debian-%E4%BD%BF%E7%94%A8%E6%97%A0%E7%BA%BF%E7%BD%91%E5%8D%A1/</guid><description>&lt;h1 id="debian-ä½¿ç”¨æ— çº¿ç½‘å¡">Debian ä½¿ç”¨æ— çº¿ç½‘å¡
&lt;/h1>&lt;h2 id="ä¾èµ–å®‰è£…">ä¾èµ–å®‰è£…
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># wpa_supplicant å’Œ wpa_cli&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install wpasupplicant
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># iwconfig &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install iw
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="æœåŠ¡å¯åŠ¨">æœåŠ¡å¯åŠ¨
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¯åŠ¨æ— çº¿ç½‘å¡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iwconfig wlo1 power on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å†™å…¥é…ç½®æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim /etc/wpa_supplicant.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">ctrl_interface&lt;/span>&lt;span class="o">=&lt;/span>/var/run/wpa_supplicant
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">update_config&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wpa_supplicant -Dnl80211 -iwlo1 -c/etc/wpa_supplicant.conf -B
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="æ‰«æ">æ‰«æ
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># wpa_cli -i wlo1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wpa_cli v2.9
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Copyright &lt;span class="o">(&lt;/span>c&lt;span class="o">)&lt;/span> 2004-2019, Jouni Malinen &amp;lt;j@w1.fi&amp;gt; and contributors
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">This software may be distributed under the terms of the BSD license.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">See README &lt;span class="k">for&lt;/span> more details.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Interactive mode
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;gt; scan
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">OK
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;3&amp;gt;CTRL-EVENT-SCAN-STARTED
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;gt; scan_results
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">bssid / frequency / signal level / flags / ssid
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">bc:22:47:a1:dd:c0 &lt;span class="m">5220&lt;/span> -89 &lt;span class="o">[&lt;/span>WPA-PSK-CCMP+TKIP&lt;span class="o">][&lt;/span>WPA2-PSK-CCMP+TKIP&lt;span class="o">][&lt;/span>ESS&lt;span class="o">]&lt;/span> example
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="è¿æ¥-wifi-é€šè¿‡é…ç½®æ–‡ä»¶">è¿æ¥ wifi ï¼ˆé€šè¿‡é…ç½®æ–‡ä»¶ï¼‰
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">vim /etc/wpa_supplicant/wpa_supplicant-wlo1.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">network&lt;/span>&lt;span class="o">={&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">ssid&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;{ssid}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">key_mgmt&lt;/span>&lt;span class="o">=&lt;/span>WPA-PSK WPA-PSK-SHA256
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">psk&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;{password}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl restart wpa_supplicant@wlo1.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Docker åŸºç¡€ä½¿ç”¨</title><link>https://wlynxg.github.io/blog/p/docker-%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/docker-%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/</guid><description>&lt;h1 id="docker-åŸºç¡€ä½¿ç”¨">Docker åŸºç¡€ä½¿ç”¨
&lt;/h1>&lt;h2 id="ä¸€è·å–é•œåƒ">ä¸€ã€è·å–é•œåƒ
&lt;/h2>&lt;p>&lt;code>docker pull&lt;/code>å‘½ä»¤å¯ä»¥ä»é•œåƒä»“åº“ä¸Šæ‹‰å–ä»“åº“ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker pull &lt;span class="o">[&lt;/span>é€‰é¡¹&lt;span class="o">]&lt;/span> &lt;span class="o">[&lt;/span>Docker Registry åœ°å€&lt;span class="o">[&lt;/span>:ç«¯å£å·&lt;span class="o">]&lt;/span>/&lt;span class="o">]&lt;/span>ä»“åº“å&lt;span class="o">[&lt;/span>:æ ‡ç­¾&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>Docker é•œåƒä»“åº“åœ°å€ï¼šåœ°å€çš„æ ¼å¼ä¸€èˆ¬æ˜¯ &lt;code>&amp;lt;åŸŸå/IP&amp;gt;[:ç«¯å£å·]&lt;/code>ã€‚é»˜è®¤åœ°å€æ˜¯ Docker Hub(&lt;code>docker.io&lt;/code>)ï¼›&lt;/li>
&lt;li>ä»“åº“åï¼šå¦‚ä¹‹å‰æ‰€è¯´ï¼Œè¿™é‡Œçš„ä»“åº“åæ˜¯ä¸¤æ®µå¼åç§°ï¼Œå³ &lt;code>&amp;lt;ç”¨æˆ·å&amp;gt;/&amp;lt;è½¯ä»¶å&amp;gt;&lt;/code>ã€‚å¯¹äº Docker Hubï¼Œå¦‚æœä¸ç»™å‡ºç”¨æˆ·åï¼Œåˆ™é»˜è®¤ä¸º &lt;code>library&lt;/code>ï¼Œä¹Ÿå°±æ˜¯å®˜æ–¹é•œåƒã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;em>Docker Hub ä¸‹è½½é•œåƒéå¸¸ç¼“æ…¢ï¼Œé€šè¿‡é…ç½®åŠ é€Ÿå™¨æ¥å®ç°æé€Ÿã€‚&lt;/em>&lt;/p>
&lt;p>ç¤ºä¾‹ï¼ˆæ‹‰å– nginxï¼‰é•œåƒï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æœç´¢ nginx é•œåƒ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ docker search nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ‹‰å–é•œåƒ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ docker pull nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹æœ¬åœ°é•œåƒ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ docker images
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="äºŒå¯åŠ¨å®¹å™¨">äºŒã€å¯åŠ¨å®¹å™¨
&lt;/h2>&lt;p>æœ‰äº†é•œåƒåï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿç”¨ &lt;code>docker run&lt;/code> å‘½ä»¤ä»¥è¿™ä¸ªé•œåƒä¸ºåŸºç¡€å¯åŠ¨å¹¶è¿è¡Œä¸€ä¸ªå®¹å™¨ã€‚&lt;/p>
&lt;p>ä»¥ä¸Šé¢çš„ &lt;code>nginx&lt;/code> ä¸ºä¾‹ï¼Œå¦‚æœæˆ‘ä»¬æ‰“ç®—å¯åŠ¨é‡Œé¢çš„ nginx å¹¶ä¸”è¿›è¡Œäº¤äº’å¼æ“ä½œçš„è¯ï¼Œå¯ä»¥æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ docker run -d -p 80:80 nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ­¤æ—¶è®¿é—®æœåŠ¡å™¨åœ°å€å°±å¯ä»¥çœ‹åˆ° nginx çš„æ¬¢è¿ç•Œé¢äº†ã€‚&lt;/p>
&lt;p>å‚æ•°è¯¦è§£ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>-d&lt;/code>ï¼šåå°è¿è¡Œå®¹å™¨ï¼Œå¹¶è¿”å›å®¹å™¨IDï¼›&lt;/li>
&lt;li>&lt;code>-i&lt;/code>ï¼šä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨ï¼Œé€šå¸¸ä¸ -t åŒæ—¶ä½¿ç”¨ï¼›&lt;/li>
&lt;li>&lt;code>-t&lt;/code>ï¼šä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆç«¯ï¼Œé€šå¸¸ä¸ -i åŒæ—¶ä½¿ç”¨ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="ä¸‰è¿›å…¥å®¹å™¨">ä¸‰ã€è¿›å…¥å®¹å™¨
&lt;/h2>&lt;p>å‡å¦‚è¯´æˆ‘ä»¬è¿™ä¸ªæ—¶å€™æƒ³ä¿®æ”¹nginx çš„æ¬¢è¿é¡µé¢ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦ä½¿ç”¨ &lt;code>docker exec&lt;/code>ï¼ˆä¸æ¨ä»‹ &lt;code>docker attach&lt;/code>ï¼‰è¿›å…¥å®¹å™¨å†…éƒ¨è¿›è¡Œä¿®æ”¹ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ—å‡ºè¿è¡Œçš„å®¹å™¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker container ls
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ ¹æ®å®¹å™¨ ID è¿›å…¥å®¹å™¨å†…éƒ¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker &lt;span class="nb">exec&lt;/span> -it 8d1 bash
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">root@8d188247eafc:/# &lt;span class="nb">echo&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;h1&amp;gt;Hello, Docker!&amp;lt;/h1&amp;gt;&amp;#39;&lt;/span> &amp;gt; /usr/share/nginx/html/index.html
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">root@8d188247eafc:/# &lt;span class="nb">exit&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">exit&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ­¤æ—¶å†è®¿é—®æœåŠ¡å™¨ï¼Œæˆ‘ä»¬å°±å‘ç° nginx çš„æ¬¢è¿ç•Œé¢å·²ç»å‘ç”Ÿæ”¹å˜äº†ã€‚&lt;/p>
&lt;p>å‚æ•°è¯¦è§£ï¼š&lt;/p>
&lt;p>&lt;code>docker exec&lt;/code> åè¾¹åªç”¨ &lt;code>-i&lt;/code> å‚æ•°æ—¶ï¼Œç”±äºæ²¡æœ‰åˆ†é…ä¼ªç»ˆç«¯ï¼Œç•Œé¢æ²¡æœ‰æˆ‘ä»¬ç†Ÿæ‚‰çš„ Linux å‘½ä»¤æç¤ºç¬¦ï¼Œä½†å‘½ä»¤æ‰§è¡Œç»“æœä»ç„¶å¯ä»¥è¿”å›ã€‚å½“ &lt;code>-i&lt;/code> &lt;code>-t&lt;/code> å‚æ•°ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œåˆ™å¯ä»¥çœ‹åˆ°æˆ‘ä»¬ç†Ÿæ‚‰çš„ Linux å‘½ä»¤æç¤ºç¬¦ã€‚&lt;/p>
&lt;p>å¦‚æœä»è¿™ä¸ª stdin ä¸­ exitï¼Œä¸ä¼šå¯¼è‡´å®¹å™¨çš„åœæ­¢ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ¨èå¤§å®¶ä½¿ç”¨ &lt;code>docker exec&lt;/code> çš„åŸå› ã€‚&lt;/p>
&lt;h2 id="å››å®šåˆ¶é•œåƒ">å››ã€å®šåˆ¶é•œåƒ
&lt;/h2>&lt;p>åœ¨ä¸Šé¢çš„æµç¨‹ä¸­ï¼Œæˆ‘ä»¬å…ˆå¯åŠ¨äº†ä¸€ä¸ªé•œåƒï¼Œå†è¿›å…¥å‘½ä»¤è¡Œå†…éƒ¨ä¿®æ”¹ nginx çš„æ¬¢è¿é¡µã€‚å¦‚æœæˆ‘ä»¬åç»­è¿˜ä¼šåœ¨å…¶ä»–åœ°æ–¹è¿è¡Œ nginx å¹¶ä¿®æ”¹æ¬¢è¿é¡µï¼Œå¦‚æœè¿˜æ˜¯é‡‡å–ä¸Šé¢çš„æ–¹å¼å°±ä¼šæ˜¾å¾—å¤ªç¹çäº†ã€‚&lt;/p>
&lt;p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥é€‰æ‹©ä½¿ç”¨ &lt;code>Dockerfile&lt;/code> æ¥å®šåˆ¶ä¸€ä¸ªå±äºæˆ‘ä»¬çš„é•œåƒï¼š&lt;/p>
&lt;p>æ–°å»º &lt;code>Dockerfile&lt;/code> æ–‡ä»¶ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-dockerfile" data-lang="dockerfile">&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span>&lt;span class="s"> nginx&lt;/span>&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">&lt;/span>&lt;span class="k">RUN&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;h1&amp;gt;Hello, Docker!&amp;lt;/h1&amp;gt;&amp;#39;&lt;/span> &amp;gt; /usr/share/nginx/html/index.html&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™ä¸ª Dockerfile å¾ˆç®€å•ï¼Œä¸€å…±å°±ä¸¤è¡Œã€‚æ¶‰åŠåˆ°äº†ä¸¤æ¡æŒ‡ä»¤ï¼Œ&lt;code>FROM&lt;/code> å’Œ &lt;code>RUN&lt;/code>ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>FROM&lt;/code>: æ‰€è°“å®šåˆ¶é•œåƒï¼Œé‚£ä¸€å®šæ˜¯ä»¥ä¸€ä¸ªé•œåƒä¸ºåŸºç¡€ï¼Œåœ¨å…¶ä¸Šè¿›è¡Œå®šåˆ¶ã€‚å°±åƒæˆ‘ä»¬ä¹‹å‰è¿è¡Œäº†ä¸€ä¸ª &lt;code>nginx&lt;/code> é•œåƒçš„å®¹å™¨ï¼Œå†è¿›è¡Œä¿®æ”¹ä¸€æ ·ï¼ŒåŸºç¡€é•œåƒæ˜¯å¿…é¡»æŒ‡å®šçš„ã€‚è€Œ &lt;code>FROM&lt;/code> å°±æ˜¯æŒ‡å®š &lt;strong>åŸºç¡€é•œåƒ&lt;/strong>ï¼Œå› æ­¤ä¸€ä¸ª &lt;code>Dockerfile&lt;/code> ä¸­ &lt;code>FROM&lt;/code> æ˜¯å¿…å¤‡çš„æŒ‡ä»¤ï¼Œå¹¶ä¸”å¿…é¡»æ˜¯ç¬¬ä¸€æ¡æŒ‡ä»¤ã€‚
é™¤äº†é€‰æ‹©ç°æœ‰é•œåƒä¸ºåŸºç¡€é•œåƒå¤–ï¼ŒDocker è¿˜å­˜åœ¨ä¸€ä¸ªç‰¹æ®Šçš„é•œåƒï¼Œåä¸º &lt;code>scratch&lt;/code>ã€‚è¿™ä¸ªé•œåƒæ˜¯è™šæ‹Ÿçš„æ¦‚å¿µï¼Œå¹¶ä¸å®é™…å­˜åœ¨ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªç©ºç™½çš„é•œåƒã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>RUN&lt;/code>ï¼š&lt;code>RUN&lt;/code> æŒ‡ä»¤æ˜¯ç”¨æ¥æ‰§è¡Œå‘½ä»¤è¡Œå‘½ä»¤çš„ã€‚ç”±äºå‘½ä»¤è¡Œçš„å¼ºå¤§èƒ½åŠ›ï¼Œ&lt;code>RUN&lt;/code> æŒ‡ä»¤åœ¨å®šåˆ¶é•œåƒæ—¶æ˜¯æœ€å¸¸ç”¨çš„æŒ‡ä»¤ä¹‹ä¸€ã€‚å…¶æ ¼å¼æœ‰ä¸¤ç§ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;em>shell&lt;/em> æ ¼å¼ï¼š&lt;code>RUN &amp;lt;å‘½ä»¤&amp;gt;&lt;/code>ï¼Œå°±åƒç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥çš„å‘½ä»¤ä¸€æ ·ã€‚åˆšæ‰å†™çš„ Dockerfile ä¸­çš„ &lt;code>RUN&lt;/code> æŒ‡ä»¤å°±æ˜¯è¿™ç§æ ¼å¼ï¼›&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-docker" data-lang="docker">&lt;span class="line">&lt;span class="cl">&lt;span class="k">RUN&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s1">&amp;#39;&amp;lt;h1&amp;gt;Hello, Docker!&amp;lt;/h1&amp;gt;&amp;#39;&lt;/span> &amp;gt; /usr/share/nginx/html/index.html&lt;span class="err">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>&lt;em>exec&lt;/em> æ ¼å¼ï¼š&lt;code>RUN [&amp;quot;å¯æ‰§è¡Œæ–‡ä»¶&amp;quot;, &amp;quot;å‚æ•°1&amp;quot;, &amp;quot;å‚æ•°2&amp;quot;]&lt;/code>ï¼Œè¿™æ›´åƒæ˜¯å‡½æ•°è°ƒç”¨ä¸­çš„æ ¼å¼ã€‚&lt;/li>
&lt;/ul>
&lt;p>**æ³¨æ„ï¼š**Dockerfile ä¸­æ¯ä¸€ä¸ªæŒ‡ä»¤éƒ½ä¼šå»ºç«‹ä¸€å±‚ï¼Œ&lt;code>RUN&lt;/code> ä¹Ÿä¸ä¾‹å¤–ã€‚æ¯ä¸€ä¸ª &lt;code>RUN&lt;/code> çš„è¡Œä¸ºï¼Œå°±å’Œåˆšæ‰æˆ‘ä»¬æ‰‹å·¥å»ºç«‹é•œåƒçš„è¿‡ç¨‹ä¸€æ ·ï¼šæ–°å»ºç«‹ä¸€å±‚ï¼Œåœ¨å…¶ä¸Šæ‰§è¡Œè¿™äº›å‘½ä»¤ï¼Œæ‰§è¡Œç»“æŸåï¼Œ&lt;code>commit&lt;/code> è¿™ä¸€å±‚çš„ä¿®æ”¹ï¼Œæ„æˆæ–°çš„é•œåƒã€‚å› æ­¤æˆ‘ä»¬åœ¨æ„å»ºæ—¶ä¸è¦å†™è¿‡å¤šçš„ &lt;code>RUN&lt;/code>ï¼Œé¿å…å…¶æ„å»ºå¤šå±‚é•œåƒé€ æˆå†—ä½™ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>&lt;code>Dockerfile&lt;/code> æ–‡ä»¶ä¹¦å†™å®Œæˆåå°±å¯ä»¥ä½¿ç”¨&lt;code>docker build&lt;/code>å‘½ä»¤è¿›è¡Œæ„å»ºäº†ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ„å»ºé•œåƒï¼Œåˆ«å¿˜äº†å‘½ä»¤æœ€åé¢æœ‰ä¸€ä¸ªç‚¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker build -t nginx:v3 .
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹æ‰€æœ‰é•œåƒ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker images
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ„å»ºå¥½é•œåƒä¹‹åæˆ‘ä»¬å°±å¯ä»¥å¯åŠ¨å®¹å™¨äº†ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å°†ç«¯å£æ˜ å°„åˆ° 81 ç«¯å£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker run -d -p 81:80 nginx:v3
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ­¤æ—¶è®¿é—®æœåŠ¡å™¨çš„ 81 ç«¯å£å°±å¯ä»¥çœ‹åˆ°ä¿®æ”¹åçš„ nginx æ¬¢è¿é¡µé¢äº†ã€‚&lt;/p>
&lt;h2 id="äº”ç»ˆæ­¢å®¹å™¨">äº”ã€ç»ˆæ­¢å®¹å™¨
&lt;/h2>&lt;p>ç°åœ¨æˆ‘ä»¬éœ€è¦ç»ˆæ­¢ä¸Šé¢æµç¨‹è¿è¡Œçš„å®¹å™¨ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨&lt;code>docker container stop&lt;/code>å‘½ä»¤ç»ˆæ­¢å®¹å™¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹è¿è¡Œçš„å®¹å™¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker container ls
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ ¹æ® id ç»ˆæ­¢å®¹å™¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker container stop id
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼ŒåŒ…æ‹¬å·²ç»ç»ˆæ­¢çš„å®¹å™¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker container ls -a
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å…­åˆ é™¤å®¹å™¨">å…­ã€åˆ é™¤å®¹å™¨
&lt;/h2>&lt;p>æˆ‘ä»¬å¯ä»¥ç”¨&lt;code>docker container rm&lt;/code>æ¥åˆ é™¤&lt;strong>å·²ç»è¢«ç»ˆæ­¢çš„å®¹å™¨&lt;/strong>ï¼Œå¦‚æœè¦åˆ é™¤ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨ï¼Œå¯ä»¥æ·»åŠ  &lt;code>-f&lt;/code> å‚æ•°ã€‚Docker ä¼šå‘é€ &lt;code>SIGKILL&lt;/code> ä¿¡å·ç»™å®¹å™¨ã€‚&lt;/p>
&lt;p>å¦‚æœéœ€è¦åˆ é™¤çš„å®¹å™¨è¾ƒå¤šï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨&lt;code>docker container prune&lt;/code>å‘½ä»¤åˆ é™¤æ‰€æœ‰å·²ç»è¢«ç»ˆæ­¢çš„å®¹å™¨ã€‚&lt;/p></description></item><item><title>Docker é…ç½® PostgreSQL çš„ä¸»ä»ç¯å¢ƒ</title><link>https://wlynxg.github.io/blog/p/docker-%E9%85%8D%E7%BD%AE-postgresql-%E7%9A%84%E4%B8%BB%E4%BB%8E%E7%8E%AF%E5%A2%83/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/docker-%E9%85%8D%E7%BD%AE-postgresql-%E7%9A%84%E4%B8%BB%E4%BB%8E%E7%8E%AF%E5%A2%83/</guid><description>&lt;h1 id="docker-é…ç½®-postgresql13-çš„ä¸»ä»ç¯å¢ƒ">Docker é…ç½® PostgreSQL13 çš„ä¸»ä»ç¯å¢ƒ
&lt;/h1>&lt;h2 id="å‰è¨€">å‰è¨€
&lt;/h2>&lt;blockquote>
&lt;p>PostgreSQL æ•°æ®åº“æ”¯æŒå¤šç§å¤åˆ¶è§£å†³æ–¹æ¡ˆï¼Œä»¥æ„å»ºé«˜å¯ç”¨æ€§ï¼Œå¯ä¼¸ç¼©ï¼Œå®¹é”™çš„åº”ç”¨ç¨‹åºï¼Œå…¶ä¸­ä¹‹ä¸€æ˜¯&lt;code>é¢„å†™æ—¥å¿—ï¼ˆWALï¼‰ä¼ é€&lt;/code>ã€‚è¯¥è§£å†³æ–¹æ¡ˆå…è®¸ä½¿ç”¨åŸºäºæ–‡ä»¶çš„æ—¥å¿—ä¼ é€æˆ–æµå¤åˆ¶ï¼Œæˆ–è€…åœ¨å¯èƒ½çš„æƒ…å†µä¸‹ï¼Œå°†ä¸¤ç§æ–¹æ³•ç»“åˆä½¿ç”¨æ¥å®ç°å¤‡ç”¨æœåŠ¡å™¨ã€‚&lt;/p>
&lt;p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæµå¤åˆ¶æ˜¯å¼‚æ­¥çš„ï¼Œå…¶ä¸­åœ¨å°†äº‹åŠ¡æäº¤åˆ°ä¸»æœåŠ¡å™¨åå°†æ•°æ®å†™å…¥å¤‡ç”¨æœåŠ¡å™¨ã€‚è¿™æ„å‘³ç€åœ¨ä¸»æœåŠ¡å™¨ä¸­æäº¤äº‹åŠ¡ä¸æ›´æ”¹åœ¨å¤‡ç”¨æœåŠ¡å™¨ä¸­å˜å¾—å¯è§ä¹‹é—´å­˜åœ¨å¾ˆå°çš„å»¶è¿Ÿã€‚è¿™ç§æ–¹æ³•çš„ä¸€ä¸ªç¼ºç‚¹æ˜¯ï¼Œå¦‚æœä¸»æœåŠ¡å™¨å´©æºƒï¼Œåˆ™å¯èƒ½æ— æ³•å¤åˆ¶ä»»ä½•æœªæäº¤çš„äº‹åŠ¡ï¼Œè¿™å¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>æœ¬æ¬¡å®éªŒå°†è¦åœ¨ Docker ä¸Šå®‰è£… PostgreSQL13 å¹¶é…ç½®ä¸»ä»ç¯å¢ƒã€‚ä¸ºäº†ç®€åŒ–æ¼”ç¤ºç¯å¢ƒï¼Œè¿™é‡Œåªç”¨ä¸€å°æœåŠ¡å™¨æ¥æ¼”ç¤ºï¼Œé€šè¿‡ä¸åŒç«¯å£æ¥åŒºåˆ†ã€‚&lt;/p>
&lt;h2 id="å®‰è£…é…ç½®">å®‰è£…é…ç½®
&lt;/h2>&lt;h3 id="1-åˆ›å»ºæµ‹è¯•ç½‘ç»œ">1. åˆ›å»ºæµ‹è¯•ç½‘ç»œ
&lt;/h3>&lt;p>åˆ›å»ºä¸€ä¸ª docker bridge ç½‘ç»œç”¨äºæµ‹è¯•ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. åˆ›å»ºæµ‹è¯•ç½‘ç»œ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker network create --subnet&lt;span class="o">=&lt;/span>172.18.0.0/24 dockernetwork
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. æŸ¥çœ‹ç½‘ç»œ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker network ls
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NETWORK ID NAME DRIVER SCOPE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">8c8a87e2c6e0 bridge bridge &lt;span class="nb">local&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">a8e4916d92c2 dockernetwork bridge &lt;span class="nb">local&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">92951335914e host host &lt;span class="nb">local&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2e991e7fd5a3 none null &lt;span class="nb">local&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è§„åˆ’ä¸»ä»åº“IPç«¯å£å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;strong>ä¸»åº“&lt;/strong>ï¼š&lt;code>172.18.0.101:5432&lt;/code>&lt;/p>
&lt;p>&lt;strong>ä»åº“&lt;/strong>ï¼š&lt;code>172.18.0.102:5433&lt;/code>&lt;/p>
&lt;h3 id="2-æ‹‰å–-postgres13-é•œåƒ">2. æ‹‰å– postgres13 é•œåƒ
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker pull postgres
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="3-åˆ›å»ºæ•°æ®ç›®å½•">3. åˆ›å»ºæ•°æ®ç›®å½•
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">mkdir -p /data/psql/master
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir -p /data/psql/slave
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir -p /data/psql/repl
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chown 999:999 /data/psql/master
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chown 999:999 /data/psql/slave
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chown 999:999 /data/psql/repl
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="4-è¿è¡Œ-master-å®¹å™¨">4. è¿è¡Œ master å®¹å™¨
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker run -d &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--network dockernetwork --ip 172.18.0.101 -p 5432:5432 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--name master -h master &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>-e &lt;span class="s2">&amp;#34;POSTGRES_DB=postgres&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>-e &lt;span class="s2">&amp;#34;POSTGRES_USER=postgres&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>-e &lt;span class="s2">&amp;#34;POSTGRES_PASSWORD=postgres&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>-v /data/psql/master:/var/lib/postgresql/data &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>postgres
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æŸ¥çœ‹å®¹å™¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker ps -a -f &lt;span class="nv">network&lt;/span>&lt;span class="o">=&lt;/span>dockernetwork --format &lt;span class="s2">&amp;#34;table {{.Names}}\t{{.Image}}\t{{.RunningFor}}\t{{.Status}}\t{{.Networks}}\t{{.Ports}}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NAMES IMAGE CREATED STATUS NETWORKS PORTS
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">master postgres &lt;span class="m">48&lt;/span> seconds ago Up &lt;span class="m">46&lt;/span> seconds dockernetwork 0.0.0.0:5432-&amp;gt;5432/tcp, :::5432-&amp;gt;5432/tcp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="5-åˆ›å»ºä¸»ä»æµå¤åˆ¶ä¸“ç”¨è´¦å·">5. åˆ›å»ºä¸»ä»æµå¤åˆ¶ä¸“ç”¨è´¦å·
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. è¿›å…¥å®¹å™¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker &lt;span class="nb">exec&lt;/span> -it master bash
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. è¿æ¥PostgreSQL&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">psql -U postgres
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3. åˆ›å»ºç”¨æˆ·è§„åˆ™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">CREATE ROLE repuser WITH LOGIN REPLICATION CONNECTION LIMIT &lt;span class="m">5&lt;/span> PASSWORD &lt;span class="s1">&amp;#39;123456&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç”¨æˆ·å repuserï¼›æœ€å¤§é“¾æ¥æ•°ï¼š5ï¼›å¯†ç ï¼š123456&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 4. æŸ¥çœ‹è§„åˆ™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">\d&lt;/span>u
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">of&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">roles&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">Role&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Attributes&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Member&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">of&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-----------+------------------------------------------------------------+-----------
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Superuser&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">Create&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">role&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">Create&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">DB&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Replication&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Bypass&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">RLS&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">{}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">repuser&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Replication&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">{}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">connections&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="6-ä¿®æ”¹-master-é…ç½®æ–‡ä»¶">6. ä¿®æ”¹ master é…ç½®æ–‡ä»¶
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. è¿›å…¥ master æ–‡ä»¶å¤¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /data/psql/master
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. åœ¨æœ«å°¾å¢åŠ è§„åˆ™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;host replication repuser 172.18.0.102/24 md5&amp;#34;&lt;/span> &amp;gt;&amp;gt; pg_hba.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¿®æ”¹ &lt;code>postgresql.conf&lt;/code> é…ç½®æ–‡ä»¶ï¼Œæ‰¾åˆ°ä»¥ä¸‹å‡ è¡Œï¼Œå–æ¶ˆæ³¨é‡Šä¿®æ”¹é…ç½®ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">archive_mode&lt;/span> &lt;span class="o">=&lt;/span> on &lt;span class="c1"># å¼€å¯å½’æ¡£æ¨¡å¼&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">archive_command&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;/bin/date&amp;#39;&lt;/span> &lt;span class="c1"># è®¾ç½®å½’æ¡£è¡Œä¸º&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä»æœºè¿æ¥åˆ°ä¸»æœºçš„å¹¶å‘è¿æ¥æ•°ä¹‹æ€»å’Œ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">max_wal_senders&lt;/span> &lt;span class="o">=&lt;/span> 10
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŒ‡å®šåœ¨åå¤‡æœåŠ¡å™¨éœ€è¦ä¸ºæµå¤åˆ¶è·å–æ—¥å¿—æ®µæ–‡ä»¶çš„æƒ…å†µä¸‹, pg_walç›®å½•ä¸‹æ‰€èƒ½ä¿ç•™çš„è¿‡å»æ—¥å¿—æ–‡ä»¶æ®µçš„æœ€å°å°ºå¯¸ &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">wal_keep_size&lt;/span> &lt;span class="o">=&lt;/span> 16
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŒ‡å®šä¸€ä¸ªæ”¯æŒåŒæ­¥å¤åˆ¶çš„åå¤‡æœåŠ¡å™¨çš„åˆ—è¡¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">synchronous_standby_names&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;*&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ›´å¤šå‚æ•°è¯¦è§£å¯å‚è€ƒï¼š&lt;a class="link" href="http://www.postgres.cn/docs/13/runtime-config-replication.html#RUNTIME-CONFIG-REPLICATION-SENDER" target="_blank" rel="noopener"
>19.6. å¤åˆ¶ (postgres.cn)&lt;/a>&lt;/p>
&lt;h3 id="7-é‡å¯-master-å®¹å™¨">7. é‡å¯ master å®¹å™¨
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#ä½¿ç”¨ pg_ctl stop å®‰å…¨åœæ­¢æ•°æ®åº“&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker &lt;span class="nb">exec&lt;/span> -it -u postgres master pg_ctl stop
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker start master
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="8-åˆ›å»º-slave-å®¹å™¨">8. åˆ›å»º slave å®¹å™¨
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker run -d &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--network dockernetwork --ip 172.18.0.102 -p 5433:5432 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--name slave -h slave &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>-e &lt;span class="s2">&amp;#34;POSTGRES_DB=postgres&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>-e &lt;span class="s2">&amp;#34;POSTGRES_USER=postgres&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>-e &lt;span class="s2">&amp;#34;POSTGRES_PASSWORD=postgres&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>-v /data/psql/slave:/var/lib/postgresql/data &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>-v /data/psql/repl:/var/lib/postgresql/repl &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>postgres
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹å®¹å™¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker ps -a -f &lt;span class="nv">network&lt;/span>&lt;span class="o">=&lt;/span>dockernetwork --format &lt;span class="s2">&amp;#34;table {{.Names}}\t{{.Image}}\t{{.RunningFor}}\t{{.Status}}\t{{.Networks}}\t{{.Ports}}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NAMES IMAGE CREATED STATUS NETWORKS PORTS
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">slave postgres &lt;span class="m">18&lt;/span> seconds ago Up &lt;span class="m">15&lt;/span> seconds dockernetwork 0.0.0.0:5433-&amp;gt;5432/tcp, :::5433-&amp;gt;5432/tcp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">master postgres &lt;span class="m">2&lt;/span> hours ago Up &lt;span class="m">2&lt;/span> hours dockernetwork 0.0.0.0:5432-&amp;gt;5432/tcp, :::5432-&amp;gt;5432/tcp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="9-åŒæ­¥æ•°æ®">9. åŒæ­¥æ•°æ®
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. è¿›å…¥å®¹å™¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker &lt;span class="nb">exec&lt;/span> -it -u postgres slave /bin/bash
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. å¤‡ä»½ä¸»æœºæ•°æ®åˆ° repl æ–‡ä»¶å¤¹ï¼Œæ­¤å¤„è¾“å…¥åœ¨ä¸Šé¢è®¾ç½®çš„å¯†ç ï¼š123456&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pg_basebackup -R -D /var/lib/postgresql/repl -Fp -Xs -v -P -h 172.18.0.101 -p &lt;span class="m">5432&lt;/span> -U repuser
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pg_basebackup: initiating base backup, waiting &lt;span class="k">for&lt;/span> checkpoint to &lt;span class="nb">complete&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pg_basebackup: checkpoint completed
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pg_basebackup: write-ahead log start point: 0/2000028 on timeline &lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pg_basebackup: starting background WAL receiver
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pg_basebackup: created temporary replication slot &lt;span class="s2">&amp;#34;pg_basebackup_154&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">24264/24264 kB &lt;span class="o">(&lt;/span>100%&lt;span class="o">)&lt;/span>, 1/1 tablespace
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pg_basebackup: write-ahead log end point: 0/2000138
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pg_basebackup: waiting &lt;span class="k">for&lt;/span> background process to finish streaming ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pg_basebackup: syncing data to disk ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pg_basebackup: renaming backup_manifest.tmp to backup_manifest
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pg_basebackup: base backup completed
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3. å¤‡ä»½å®Œæˆé€€å‡ºå®¹å™¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">exit&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="10-é‡å»º-slave-å®¹å™¨">10. é‡å»º slave å®¹å™¨
&lt;/h3>&lt;p>é€šè¿‡ä¸Šä¸€æ­¥çš„åˆå§‹å¤‡ä»½ï¼Œç°åœ¨å¯ä»¥ä½¿ç”¨ &lt;code>/data/psql/repl&lt;/code> é‡Œçš„æ•°æ®é‡å»º slaveå®¹å™¨äº†ã€‚é¦–å…ˆåˆ é™¤slaveç›®å½•ï¼Œç„¶åå°† &lt;code>repl&lt;/code> ç›®å½•æ”¹ä¸º &lt;code>slave&lt;/code>ï¼Œè¿™ä¸ªç›®å½•å°±æ˜¯ä»åº“çš„æ•°æ®ç›®å½•äº†ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. åˆ é™¤å®¹å™¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker rm -f slave
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. åˆ é™¤åŸæœ‰æ–‡ä»¶å¤¹ï¼Œå°† repl é‡å‘½åä¸º slave&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /data/psql/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rm -rf slave
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mv repl slave
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /data/psql/slave
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3. æŸ¥çœ‹é…ç½®ä¿¡æ¯&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># postgresql.auto.conf å°†å«æœ‰å¤åˆ¶æ‰€éœ€ä¿¡æ¯&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat postgresql.auto.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">primary_conninfo&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;user=repuser password=123456 channel_binding=prefer host=172.18.0.101 port=5432 sslmode=prefer sslcompression=0 ssl_min_protocol_version=TLSv1.2 gssencmode=prefer krbsrvname=postgres target_session_attrs=any&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é‡å»º slave å®¹å™¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker run -d &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--network dockernetwork --ip 172.18.0.102 -p 5433:5432 &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>--name slave -h slave &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>-e &lt;span class="s2">&amp;#34;POSTGRES_DB=postgres&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>-e &lt;span class="s2">&amp;#34;POSTGRES_USER=postgres&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>-e &lt;span class="s2">&amp;#34;POSTGRES_PASSWORD=postgres&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>-v /data/psql/slave:/var/lib/postgresql/data &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span>postgres
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹å®¹å™¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker ps -a -f &lt;span class="nv">network&lt;/span>&lt;span class="o">=&lt;/span>dockernetwork --format &lt;span class="s2">&amp;#34;table {{.Names}}\t{{.Image}}\t{{.RunningFor}}\t{{.Status}}\t{{.Networks}}\t{{.Ports}}&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">NAMES IMAGE CREATED STATUS NETWORKS PORTS
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">slave postgres &lt;span class="m">23&lt;/span> seconds ago Up &lt;span class="m">21&lt;/span> seconds dockernetwork 0.0.0.0:5433-&amp;gt;5432/tcp, :::5433-&amp;gt;5432/tcp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">master postgres &lt;span class="m">2&lt;/span> hours ago Up &lt;span class="m">2&lt;/span> hours dockernetwork 0.0.0.0:5432-&amp;gt;5432/tcp, :::5432-&amp;gt;5432/tcp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="11-æŸ¥çœ‹ä¸»ä»å¤åˆ¶ä¿¡æ¯">11. æŸ¥çœ‹ä¸»ä»å¤åˆ¶ä¿¡æ¯
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ps -aux &lt;span class="p">|&lt;/span> grep postgres
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ä¸»åº“è¿›ç¨‹ï¼š
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">postgres: walsender repuser 172.18.0.1&lt;span class="o">(&lt;/span>52678&lt;span class="o">)&lt;/span> streaming 0/3000148
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ä»åº“è¿›ç¨‹ï¼š
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">postgres: walreceiver streaming 0/3000148
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="éªŒè¯ä¸»ä»é…ç½®">éªŒè¯ä¸»ä»é…ç½®
&lt;/h2>&lt;h3 id="ä¸»æœºç”Ÿæˆæ•°æ®">ä¸»æœºç”Ÿæˆæ•°æ®
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¿›å…¥ master å®¹å™¨ï¼Œåˆ‡æ¢åˆ°postgresç”¨æˆ·&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker &lt;span class="nb">exec&lt;/span> -it master bash
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">psql -U postgres
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- æŸ¥è¯¢å¤åˆ¶ä¿¡æ¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">pg_stat_replication&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="n">pid&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">usesysid&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">usename&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">application_name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">client_addr&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">client_hostname&lt;/span>&lt;span class="p">...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="mi">170&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">16384&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">repuser&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">walreceiver&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">172&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">18&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">52678&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">2021&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">09&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">29&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">05&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">57&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">30&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">471391&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">00&lt;/span>&lt;span class="p">...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- åˆ›å»ºæµ‹è¯•æ•°æ®åº“
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">CREATE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">DATABASE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-- æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="err">\&lt;/span>&lt;span class="n">list&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">of&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">databases&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">Owner&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">Encoding&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">Collate&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Ctype&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">Access&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">privileges&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-----------+----------+----------+------------+------------+-----------------------
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UTF8&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">en_US&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">utf8&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">en_US&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">utf8&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">template0&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UTF8&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">en_US&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">utf8&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">en_US&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">utf8&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">c&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">CTc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">template1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UTF8&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">en_US&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">utf8&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">en_US&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">utf8&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">c&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">CTc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UTF8&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">en_US&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">utf8&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">en_US&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">utf8&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">rows&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- åˆ‡æ¢æ•°æ®åº“
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="err">\&lt;/span>&lt;span class="k">c&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-- åˆ›å»ºæµ‹è¯•è¡¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">CREATE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">TABLE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">int4&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">NOT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">NULL&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;value&amp;#34;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">varchar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">255&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">PRIMARY&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">KEY&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;id&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-- æŸ¥çœ‹åˆ›å»ºçš„è¡¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="err">\&lt;/span>&lt;span class="n">dt&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">of&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">relations&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">Schema&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">Type&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">Owner&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">--------+------+-------+----------
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">table&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">row&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- å‘è¡¨ä¸­æ’å…¥åæ¡æ•°æ®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">insert&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">into&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">generate_series&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="n">md5&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">random&lt;/span>&lt;span class="p">());&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-- æŸ¥çœ‹æ‰€æœ‰æ•°æ®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">----+----------------------------------
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cfcd208495d565ef66e7dff9f98764da&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cfcd208495d565ef66e7dff9f98764da&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cfcd208495d565ef66e7dff9f98764da&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cfcd208495d565ef66e7dff9f98764da&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cfcd208495d565ef66e7dff9f98764da&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cfcd208495d565ef66e7dff9f98764da&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cfcd208495d565ef66e7dff9f98764da&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cfcd208495d565ef66e7dff9f98764da&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="mi">9&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cfcd208495d565ef66e7dff9f98764da&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cfcd208495d565ef66e7dff9f98764da&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">rows&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ä»æœºæŸ¥çœ‹æ•°æ®">ä»æœºæŸ¥çœ‹æ•°æ®
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¿›å…¥ä»æœºå®¹å™¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker &lt;span class="nb">exec&lt;/span> -it slave bash
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">psql -U postgres
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- æŸ¥çœ‹æ•°æ®åº“
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="err">\&lt;/span>&lt;span class="n">d&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">of&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">databases&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">Name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">Owner&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">Encoding&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">Collate&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Ctype&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">Access&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">privileges&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">-----------+----------+----------+------------+------------+-----------------------
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UTF8&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">en_US&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">utf8&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">en_US&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">utf8&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">template0&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UTF8&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">en_US&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">utf8&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">en_US&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">utf8&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">c&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">CTc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">template1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UTF8&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">en_US&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">utf8&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">en_US&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">utf8&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">c&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">CTc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">UTF8&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">en_US&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">utf8&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">en_US&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">utf8&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">rows&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- æŸ¥çœ‹è¡¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="err">\&lt;/span>&lt;span class="k">c&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">List&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">of&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">relations&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="k">Schema&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">Name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">Type&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">Owner&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">--------+------+-------+----------
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">public&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">table&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">postgres&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">row&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">-- æŸ¥çœ‹æ‰€æœ‰æ•°æ®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c1">----+----------------------------------
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cfcd208495d565ef66e7dff9f98764da&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cfcd208495d565ef66e7dff9f98764da&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cfcd208495d565ef66e7dff9f98764da&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cfcd208495d565ef66e7dff9f98764da&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cfcd208495d565ef66e7dff9f98764da&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cfcd208495d565ef66e7dff9f98764da&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cfcd208495d565ef66e7dff9f98764da&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cfcd208495d565ef66e7dff9f98764da&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="mi">9&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cfcd208495d565ef66e7dff9f98764da&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">cfcd208495d565ef66e7dff9f98764da&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">rows&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥å‘ç°ä¸»ä»æ•°æ®ä¸€ç›´ï¼Œä»£è¡¨æˆ‘ä»¬ä¸»ä»é…ç½®æˆåŠŸï¼&lt;/p></description></item><item><title>Docker ç»•è¿‡äº† firewalld çš„é—®é¢˜</title><link>https://wlynxg.github.io/blog/p/docker-%E7%BB%95%E8%BF%87%E4%BA%86-firewalld-%E7%9A%84%E9%97%AE%E9%A2%98/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/docker-%E7%BB%95%E8%BF%87%E4%BA%86-firewalld-%E7%9A%84%E9%97%AE%E9%A2%98/</guid><description>&lt;h1 id="docker-ç»•è¿‡äº†-firewalld-çš„é—®é¢˜">Docker ç»•è¿‡äº† firewalld çš„é—®é¢˜
&lt;/h1>&lt;h2 id="å‰è¨€">å‰è¨€
&lt;/h2>&lt;p>æˆ‘ä»¬çš„ &lt;code>firewalld&lt;/code> ä¸Šæ²¡æœ‰å¼€æ”¾è¯¥ç«¯å£ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨ Docker çš„ç«¯å£æ˜ å°„åæˆ‘ä»¬å°±èƒ½å¤Ÿé€šè¿‡å¤–ç½‘è®¿é—®åˆ°è¯¥ç«¯å£ã€‚&lt;/p>
&lt;h2 id="åŸå› ">åŸå› 
&lt;/h2>&lt;p>é»˜è®¤æƒ…å†µä¸‹å½“Dockerå¯åŠ¨å®¹å™¨æ˜ å°„ç«¯å£æ—¶ï¼Œä¼šç›´æ¥åœ¨&lt;code>iptables&lt;/code>æ·»åŠ è§„åˆ™å¼€å¯æ·»åŠ ç«¯å£ã€‚è€Œ &lt;code>firewalld&lt;/code> å®é™…ä¸Šä¹Ÿæ˜¯åœ¨&lt;code>iptables&lt;/code>å†™å…¥è§„åˆ™ã€‚å› æ­¤ &lt;code>firewalld&lt;/code>å’Œ&lt;code>docker&lt;/code>å±äºæ˜¯åŒçº§çš„åº”ç”¨ï¼Œä½†æ˜¯&lt;code>firewalld&lt;/code>ä¸ä¼šå»æ£€æµ‹ docker å†™å…¥çš„è§„åˆ™ï¼Œå°±ä¼šå¯¼è‡´ docker å¯ä»¥å¼€å¯&lt;code>firewalld&lt;/code>æ²¡æœ‰å…è®¸çš„ç«¯å£ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é¦–å…ˆå…³é—­ docker å’Œé˜²ç«å¢™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl stop docker
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl stop firewalld
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹ iptables&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables --list
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Chain INPUT &lt;span class="o">(&lt;/span>policy ACCEPT&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">target prot opt &lt;span class="nb">source&lt;/span> destination
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Chain FORWARD &lt;span class="o">(&lt;/span>policy ACCEPT&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">target prot opt &lt;span class="nb">source&lt;/span> destination
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Chain OUTPUT &lt;span class="o">(&lt;/span>policy ACCEPT&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">target prot opt &lt;span class="nb">source&lt;/span> destination
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ‰“å¼€ docker&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl start docker
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables --list
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æˆ‘ä»¬ä¼šå‘ç°åœ¨ iptables é‡Œå¢åŠ äº†è®¸å¤š docker çš„è§„åˆ™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æˆ‘ä»¬å¯åŠ¨ä¸€ä¸ªå®¹å™¨å¹¶å¼€å¯ç«¯å£æ˜ å°„&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker run -dit -p 80:80 nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables --list
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æˆ‘ä»¬å‘ç°åœ¨ iptables é‡Œå¢åŠ äº†ä¸€æ¡è§„åˆ™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å®ƒå°† 80(http) ç«¯å£çš„æµé‡è½¬å‘åˆ°äº† 172.17.0.2(æˆ‘ä»¬å¼€å¯çš„å®¹å™¨çš„åœ°å€)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Chain DOCKER &lt;span class="o">(&lt;/span>&lt;span class="m">1&lt;/span> references&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">target prot opt &lt;span class="nb">source&lt;/span> destination
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ACCEPT tcp -- anywhere 172.17.0.2 tcp dpt:http
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€šè¿‡ä¸Šé¢çš„åˆ†ææˆ‘ä»¬å°±çŸ¥é“äº† docker æ˜¯é€šè¿‡åœ¨ iptables ä¸­æ·»åŠ è§„åˆ™å®ç°çš„ç«¯å£æ˜ å°„ã€‚&lt;/p>
&lt;p>é‚£è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å†å¼€å¯é˜²ç«å¢™ï¼Œçœ‹çœ‹é˜²ç«å¢™æ˜¯å¦‚ä½•ä¿®æ”¹çš„ iptablesï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¼€å¯é˜²ç«å¢™è§‚å¯Ÿ iptables çš„å˜åŒ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl start firewalld
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables --list
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Chain IN_public_allow &lt;span class="o">(&lt;/span>&lt;span class="m">1&lt;/span> references&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">target prot opt &lt;span class="nb">source&lt;/span> destination
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ACCEPT tcp -- anywhere anywhere tcp dpt:ssh ctstate NEW,UNTRACKED
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ACCEPT tcp -- anywhere anywhere tcp dpt:ssh ctstate NEW,UNTRACKED
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ACCEPT tcp -- anywhere anywhere tcp dpt:postgres ctstate NEW,UNTRACKED
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¼€å¯é˜²ç«å¢™åæˆ‘ä»¬æœç„¶å‘ç°äº†æˆ‘ä»¬é€šè¿‡ &lt;code>firewalld&lt;/code>å¼€å¯çš„ç«¯å£è§„åˆ™ã€‚è¿™ä¸‹å­æˆ‘ä»¬ç»ˆäºå¼„æ‡‚äº† docker å’Œ firewalld ä¹‹é—´çš„å…³ç³»ã€‚&lt;/p>
&lt;p>&lt;strong>ç­‰ç­‰ï¼ï¼ï¼&lt;/strong>&lt;/p>
&lt;p>æˆ‘ä»¬ä¹‹å‰çœ‹åˆ°çš„ docker çš„è§„åˆ™å‘¢ï¼Ÿ&lt;/p>
&lt;p>å¼€å¯é˜²ç«å¢™åæˆ‘ä»¬å‘ç°åœ¨ä¸Šé¢æ·»åŠ çš„ docker çš„ iptables çš„è§„åˆ™å·²ç»ä¸è§äº†ï¼Œè¿™ä¸ªæ—¶å€™ä»å¤–ç½‘è®¿é—® 80 ç«¯å£ä¹Ÿè¢«æ‹’ç»äº†ï¼è¿™åˆæ˜¯æ€ä¹ˆä¸€å›äº‹å‘¢ï¼Ÿ&lt;/p>
&lt;p>åŸæ¥ &lt;code>firewalld&lt;/code>åœ¨å¼€å¯æ—¶ä¼šè‡ªåŠ¨åˆ·æ–°è¦†ç›–æ‰åŸæ¥çš„ &lt;code>iptables&lt;/code> è§„åˆ™ï¼Œè¿™å°±å¯¼è‡´äº† docker çš„è§„åˆ™è¢«ä¸¢å¤±ã€‚&lt;/p>
&lt;p>å› æ­¤ &lt;code>firewalld&lt;/code>é‡å¯åéœ€è¦å†é‡å¯ &lt;code>docker&lt;/code>çš„æœåŠ¡æ‰èƒ½ä½¿ docker æ­£å¸¸å¯åŠ¨ã€‚&lt;/p>
&lt;h2 id="ä½¿-docker-åœ¨é˜²ç«å¢™è§„åˆ™ä¸‹å·¥ä½œ">ä½¿ docker åœ¨é˜²ç«å¢™è§„åˆ™ä¸‹å·¥ä½œ
&lt;/h2>&lt;p>ç”±äº docker è¿™ç§è„±ç¦»é˜²ç«å¢™æ§åˆ¶çš„è¡Œä¸ºå…·æœ‰ä¸€å®šå±é™©æ€§ï¼Œå¹¶ä¸”ä¸ºè¿ç»´å¸¦æ¥ä¸€å®šéš¾åº¦ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦è®© docker æ¥å—é˜²ç«å¢™çš„ç®¡ç†ã€‚&lt;/p>
&lt;p>æ—¢ç„¶ docker æ˜¯ä¿®æ”¹çš„ iptables è„±ç¦»çš„é˜²ç«å¢™æ§åˆ¶ï¼Œé‚£æˆ‘ä»¬è®©ä»–ä¸ä¿®æ”¹ iptables å°±å¯ä»¥è§£å†³é—®é¢˜äº†ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ·»åŠ è§„åˆ™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim /etc/docker/daemon.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;experimental&amp;#34;&lt;/span> : true,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;iptables&amp;#34;&lt;/span>: &lt;span class="nb">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é‡å¯ docker&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl daemon-reload
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl restart docker
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¯åŠ¨ä¸€ä¸ªå®¹å™¨æ£€éªŒ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker run -d -p 80:80 nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables --list
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å‘ç° docker æ²¡æœ‰æ·»åŠ è§„åˆ™&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Docker ç³»ç»Ÿæ¶æ„</title><link>https://wlynxg.github.io/blog/p/docker-%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/docker-%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/</guid><description>&lt;h1 id="docker-ç³»ç»Ÿæ¶æ„ä¸ä½¿ç”¨">Docker ç³»ç»Ÿæ¶æ„ä¸ä½¿ç”¨
&lt;/h1>&lt;h2 id="ä¸€æ•´ä½“æ¶æ„">ä¸€ã€æ•´ä½“æ¶æ„
&lt;/h2>&lt;p>é€šè¿‡ä¸‹å›¾å¯ä»¥å‘ç°ï¼ŒDocker ç³»ç»Ÿä¸»è¦åŒ…å«å®¢æˆ·ç«¯ã€æœåŠ¡ç«¯å’Œä»“åº“ä¸‰å¤§éƒ¨åˆ†ã€‚&lt;/p>
&lt;p>&lt;code>Docker&lt;/code> åœ¨è¿è¡Œæ—¶åˆ†ä¸º &lt;code>Docker å¼•æ“ï¼ˆæœåŠ¡ç«¯å®ˆæŠ¤è¿›ç¨‹ï¼‰&lt;/code> å’Œ &lt;code>å®¢æˆ·ç«¯å·¥å…·&lt;/code>ï¼Œæˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨å„ç§ &lt;code>docker å‘½ä»¤&lt;/code>ï¼Œå…¶å®å°±æ˜¯åœ¨ä½¿ç”¨ &lt;code>å®¢æˆ·ç«¯å·¥å…·&lt;/code> ä¸ &lt;code>Docker å¼•æ“&lt;/code> è¿›è¡Œäº¤äº’ï¼š&lt;/p>
&lt;p>&lt;img src="https://pic.try-hard.cn/blog/1631179825421890600.jpg"
loading="lazy"
alt="img"
>&lt;/p>
&lt;h2 id="äºŒclient">äºŒã€Client
&lt;/h2>&lt;p>Docker æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯-æœåŠ¡å™¨ï¼ˆC/Sï¼‰æ¶æ„ç¨‹åºã€‚Docker å®¢æˆ·ç«¯åªéœ€è¦å‘ Docker æœåŠ¡å™¨æˆ–è€…å®ˆæŠ¤è¿›ç¨‹å‘å‡ºè¯·æ±‚ï¼ŒæœåŠ¡å™¨æˆ–è€…å®ˆæŠ¤è¿›ç¨‹å°†å®Œæˆæ‰€æœ‰å·¥ä½œå¹¶è¿”å›ç»“æœã€‚&lt;/p>
&lt;p>Client èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬ä½¿ç”¨å‘½ä»¤è¡Œä¸ Docker æœåŠ¡ç«¯è¿›è¡Œäº¤äº’ï¼ŒåŒ…æ‹¬æœ¬åœ°æœåŠ¡ç«¯å’Œ&lt;strong>è¿œç¨‹æœåŠ¡ç«¯&lt;/strong>ï¼š&lt;/p>
&lt;p>é€šè¿‡&lt;code>-H&lt;/code>å‚æ•°å¯ä»¥æŒ‡å®šå®¢æˆ·ç«¯è¿æ¥çš„æœåŠ¡ç«¯ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker -H host
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ä¸‰æœåŠ¡ç«¯docker-å¼•æ“">ä¸‰ã€æœåŠ¡ç«¯ï¼ˆDocker å¼•æ“ï¼‰
&lt;/h2>&lt;p>æœåŠ¡ç«¯ä¼šå¯åŠ¨ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹ï¼Œé€šè¿‡ &lt;code>socket&lt;/code> æˆ–è€… &lt;code>RESTful API&lt;/code> æ¥æ”¶æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå¹¶ä¸”å¤„ç†è¿™äº›è¯·æ±‚ï¼Œå®ç°å¯¹é•œåƒå’Œå®¹å™¨çš„æ“ä½œã€‚&lt;/p>
&lt;h3 id="é•œåƒ">é•œåƒ
&lt;/h3>&lt;p>&lt;strong>Docker é•œåƒ&lt;/strong> æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿï¼Œå®ƒé™¤äº†æä¾›å®¹å™¨è¿è¡Œæ—¶æ‰€éœ€çš„ç¨‹åºã€åº“ã€èµ„æºã€é…ç½®ç­‰æ–‡ä»¶å¤–ï¼Œè¿˜åŒ…å«äº†ä¸€äº›ä¸ºè¿è¡Œæ—¶å‡†å¤‡çš„ä¸€äº›é…ç½®å‚æ•°ï¼ˆå¦‚åŒ¿åå·ã€ç¯å¢ƒå˜é‡ã€ç”¨æˆ·ç­‰ï¼‰ã€‚&lt;/p>
&lt;p>é•œåƒ &lt;strong>ä¸åŒ…å«&lt;/strong> ä»»ä½•åŠ¨æ€æ•°æ®ï¼Œå…¶å†…å®¹åœ¨æ„å»ºä¹‹åä¹Ÿä¸ä¼šè¢«æ”¹å˜ã€‚&lt;/p>
&lt;p>å› ä¸ºé•œåƒåŒ…å«äº†å®Œæ•´çš„ root æ–‡ä»¶ç³»ç»Ÿï¼Œå› æ­¤å…¶ä½“ç§¯å¾€å¾€æ˜¯å·¨å¤§çš„ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé‡‡ç”¨äº† &lt;a class="link" href="https://en.wikipedia.org/wiki/Union_mount" target="_blank" rel="noopener"
>Union FS (opens new window)&lt;/a>çš„æŠ€æœ¯ï¼Œå°†å…¶è®¾è®¡ä¸ºåˆ†å±‚å­˜å‚¨çš„æ¶æ„ï¼Œç”±å¤šå±‚æ–‡ä»¶ç³»ç»Ÿè”åˆç»„æˆï¼š&lt;/p>
&lt;p>&lt;img src="https://pic.try-hard.cn/blog/1631179816285823100.png"
loading="lazy"
alt="img"
>&lt;/p>
&lt;h3 id="å®¹å™¨">å®¹å™¨
&lt;/h3>&lt;p>é•œåƒ&lt;code>Image&lt;/code>å’Œå®¹å™¨&lt;code>Container&lt;/code>çš„å…³ç³»ï¼Œå°±åƒæ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­çš„ &lt;code>ç±»&lt;/code> å’Œ &lt;code>å®ä¾‹&lt;/code> ä¸€æ ·ï¼Œé•œåƒæ˜¯é™æ€çš„å®šä¹‰ï¼Œå®¹å™¨æ˜¯é•œåƒè¿è¡Œæ—¶çš„å®ä½“ã€‚å®¹å™¨å¯ä»¥è¢«åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ã€æš‚åœç­‰ã€‚&lt;/p>
&lt;p>å®¹å™¨çš„å®è´¨æ˜¯è¿›ç¨‹ï¼Œä½†ä¸ç›´æ¥åœ¨å®¿ä¸»æ‰§è¡Œçš„è¿›ç¨‹ä¸åŒï¼Œå®¹å™¨è¿›ç¨‹è¿è¡Œäºå±äºè‡ªå·±çš„ç‹¬ç«‹çš„å‘½åç©ºé—´ã€‚å› æ­¤å®¹å™¨å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„ &lt;code>root&lt;/code> æ–‡ä»¶ç³»ç»Ÿã€è‡ªå·±çš„ç½‘ç»œé…ç½®ã€è‡ªå·±çš„è¿›ç¨‹ç©ºé—´ï¼Œç”šè‡³è‡ªå·±çš„ç”¨æˆ· ID ç©ºé—´ã€‚å®¹å™¨å†…çš„è¿›ç¨‹æ˜¯è¿è¡Œåœ¨ä¸€ä¸ªéš”ç¦»çš„ç¯å¢ƒé‡Œï¼Œä½¿ç”¨èµ·æ¥ï¼Œå°±å¥½åƒæ˜¯åœ¨ä¸€ä¸ªç‹¬ç«‹äºå®¿ä¸»çš„ç³»ç»Ÿä¸‹æ“ä½œä¸€æ ·ã€‚è¿™ç§ç‰¹æ€§ä½¿å¾—å®¹å™¨å°è£…çš„åº”ç”¨æ¯”ç›´æ¥åœ¨å®¿ä¸»è¿è¡Œæ›´åŠ å®‰å…¨ã€‚&lt;/p>
&lt;p>å®¹å™¨ä¸é•œåƒå±‚ä¸€æ ·ä¹Ÿæ˜¯åˆ†å±‚ç»“æ„çš„ã€‚æ¯ä¸€ä¸ªå®¹å™¨è¿è¡Œæ—¶ï¼Œéƒ½æ˜¯æ˜¯ä»¥é•œåƒä¸ºåŸºç¡€å±‚ï¼Œåœ¨å…¶ä¸Šåˆ›å»ºä¸€ä¸ªå½“å‰å®¹å™¨çš„å­˜å‚¨å±‚ï¼Œæˆ‘ä»¬å¯ä»¥ç§°è¿™ä¸ªä¸ºå®¹å™¨è¿è¡Œæ—¶è¯»å†™è€Œå‡†å¤‡çš„å­˜å‚¨å±‚ä¸º &lt;strong>å®¹å™¨å­˜å‚¨å±‚&lt;/strong>ã€‚&lt;/p>
&lt;p>å®¹å™¨å­˜å‚¨å±‚çš„ç”Ÿå­˜å‘¨æœŸå’Œå®¹å™¨ä¸€æ ·ï¼Œå®¹å™¨æ¶ˆäº¡æ—¶ï¼Œå®¹å™¨å­˜å‚¨å±‚ä¹Ÿéšä¹‹æ¶ˆäº¡ã€‚å› æ­¤ï¼Œä»»ä½•ä¿å­˜äºå®¹å™¨å­˜å‚¨å±‚çš„ä¿¡æ¯éƒ½ä¼šéšå®¹å™¨åˆ é™¤è€Œä¸¢å¤±ã€‚å®¹å™¨ä¸åº”è¯¥å‘å…¶å­˜å‚¨å±‚å†…å†™å…¥ä»»ä½•æ•°æ®ï¼Œå®¹å™¨å­˜å‚¨å±‚è¦ä¿æŒæ— çŠ¶æ€åŒ–ã€‚&lt;/p>
&lt;p>æ‰€æœ‰çš„æ–‡ä»¶å†™å…¥æ“ä½œï¼Œéƒ½åº”è¯¥ä½¿ç”¨ &lt;strong>æ•°æ®å·ï¼ˆVolumeï¼‰&lt;/strong>ã€æˆ–è€… &lt;strong>ç»‘å®šå®¿ä¸»ç›®å½•&lt;/strong>ï¼Œåœ¨è¿™äº›ä½ç½®çš„è¯»å†™ä¼šè·³è¿‡å®¹å™¨å­˜å‚¨å±‚ï¼Œç›´æ¥å¯¹å®¿ä¸»ï¼ˆæˆ–ç½‘ç»œå­˜å‚¨ï¼‰å‘ç”Ÿè¯»å†™ï¼Œå…¶æ€§èƒ½å’Œç¨³å®šæ€§æ›´é«˜ã€‚&lt;/p>
&lt;h3 id="å¼€æ”¾è¿œç¨‹-api-æ¥å£">å¼€æ”¾è¿œç¨‹ API æ¥å£
&lt;/h3>&lt;p>æˆ‘ä»¬çŸ¥é“å®¢æˆ·ç«¯æ˜¯è°ƒç”¨æœåŠ¡ç«¯çš„ API æ¥å£å®ç°å¯¹é•œåƒå’Œå®¹å™¨çš„ç®¡ç†ã€‚Docker å¯ä»¥ç›‘å¬å¹¶å¤„ç† 3 ç§ socket å½¢å¼çš„ API è¯·æ±‚ï¼Œåˆ†åˆ«æ˜¯&lt;code>unix&lt;/code>ï¼ˆunix åŸŸåè®®ï¼‰ã€&lt;code>tcp&lt;/code>ï¼ˆtcp åè®®ï¼‰å’Œ&lt;code>fd&lt;/code>ã€‚&lt;/p>
&lt;p>ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨å®‰è£…å¥½ docker åï¼Œé»˜è®¤å°±å·²ç»å¼€å¯äº†&lt;code>unix&lt;/code> socketï¼Œå¹¶ä¸”æˆ‘ä»¬åœ¨æ‰§è¡Œéœ€è¦æœ‰&lt;code>root&lt;/code>æƒé™æˆ–è€…&lt;code>docker&lt;/code>ç”¨æˆ·ç»„æˆå‘˜æ‰æœ‰æƒé™è®¿é—®ã€‚&lt;/p>
&lt;p>ä¸‹é¢æ˜¯é€šè¿‡ socket æ–‡ä»¶ä¸æœåŠ¡ç«¯é€šä¿¡ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">curl --unix-socket /var/run/docker.sock http://docker/version
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¾“å‡ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Platform&amp;#34;&lt;/span>&lt;span class="p">:{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;Docker Engine - Community&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Components&amp;#34;&lt;/span>&lt;span class="p">:[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;Engine&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Version&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;20.10.8&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Details&amp;#34;&lt;/span>&lt;span class="p">:{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;ApiVersion&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;1.41&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Arch&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;amd64&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;BuildTime&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;2021-07-30T19:54:13.000000000+00:00&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Experimental&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;true&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;GitCommit&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;75249d8&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;GoVersion&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;go1.16.6&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;KernelVersion&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;3.10.0-1160.41.1.el7.x86_64&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;MinAPIVersion&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;1.12&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Os&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;linux&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;containerd&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Version&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;1.4.9&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Details&amp;#34;&lt;/span>&lt;span class="p">:{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;GitCommit&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;e25210fe30a0a703442421b0f60afac609f950a3&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;runc&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Version&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;1.0.1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Details&amp;#34;&lt;/span>&lt;span class="p">:{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;GitCommit&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;v1.0.1-0-g4144b63&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;docker-init&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Version&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;0.19.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Details&amp;#34;&lt;/span>&lt;span class="p">:{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;GitCommit&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;de40ad0&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Version&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;20.10.8&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;ApiVersion&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;1.41&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;MinAPIVersion&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;1.12&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;GitCommit&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;75249d8&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;GoVersion&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;go1.16.6&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Os&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;linux&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Arch&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;amd64&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;KernelVersion&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;3.10.0-1160.41.1.el7.x86_64&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Experimental&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;BuildTime&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;2021-07-30T19:54:13.000000000+00:00&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>å¼€æ”¾è¿œç¨‹ API&lt;/strong>&lt;/p>
&lt;p>ä¿®æ”¹ docker å®ˆæŠ¤è¿›ç¨‹çš„é…ç½®æ–‡ä»¶&lt;code>/lib/systemd/system/docker.service&lt;/code>&lt;/p>
&lt;p>å¯¹ä¸‹é¢è¿™è¡Œè¿›è¡Œä¿®æ”¹ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>ExecStart=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock
&lt;/code>&lt;/pre>&lt;p>ä¿®æ”¹ä¸ºï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>ExecStart=/usr/bin/dockerd -H unix://var/run/docker.sock -H tcp://0.0.0.0:2375
&lt;/code>&lt;/pre>&lt;p>ä¿®æ”¹å®Œæˆåé‡æ–°åŠ è½½ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é‡è½½ docker æœåŠ¡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl daemon-reload &lt;span class="c1"># é‡æ–°åŠ è½½å®ˆæŠ¤è¿›ç¨‹é…ç½®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl restart docker.service &lt;span class="c1"># é‡å¯ docker æœåŠ¡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹ docker è¿›ç¨‹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ps -ef&lt;span class="p">|&lt;/span>grep docker
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">output:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">root &lt;span class="m">3701&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="m">0&lt;/span> 01:07 ? 00:00:00 /usr/bin/dockerd -H fd:// -H tcp://0.0.0.0:2375 --containerd&lt;span class="o">=&lt;/span>/run/containerd/containerd.sock
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">root &lt;span class="m">3834&lt;/span> &lt;span class="m">2449&lt;/span> &lt;span class="m">0&lt;/span> 01:11 pts/0 00:00:00 grep --color&lt;span class="o">=&lt;/span>auto docker
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¼€æ”¾é˜²ç«å¢™2375ç«¯å£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">firewall-cmd --zone&lt;span class="o">=&lt;/span>public --add-port&lt;span class="o">=&lt;/span>2375/tcp --permanent &lt;span class="c1"># å¼€æ”¾2375ç«¯å£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">firewall-cmd --reload &lt;span class="c1"># é‡è½½é˜²ç«å¢™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">firewall-cmd --list-all &lt;span class="c1"># æŸ¥çœ‹å¼€æ”¾ç«¯å£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è®¿é—®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl http://&lt;span class="o">{{&lt;/span>ip&lt;span class="o">}}&lt;/span>:2375/version
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ•°æ®ç®¡ç†">æ•°æ®ç®¡ç†
&lt;/h3>&lt;p>åœ¨ä¸Šé¢çš„å­¦ä¹ ä¸­æˆ‘ä»¬äº†è§£åˆ°å®¹å™¨ä¸­çš„æ•°æ®ä¼šéšç€å®¹å™¨ç”Ÿå‘½å‘¨æœŸçš„ç»“æŸè€Œæ¶ˆå¤±ã€‚å¦‚æœæˆ‘ä»¬å¸Œæœ›ä¿å­˜æ•°æ®ï¼Œé‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨ &lt;strong>æ•°æ®å·ï¼ˆVolumeï¼‰&lt;/strong>ã€æˆ–è€… &lt;strong>ç»‘å®šå®¿ä¸»ç›®å½•&lt;/strong>ï¼Œåœ¨è¿™äº›ä½ç½®çš„è¯»å†™ä¼šè·³è¿‡å®¹å™¨å­˜å‚¨å±‚ï¼Œç›´æ¥å¯¹å®¿ä¸»ï¼ˆæˆ–ç½‘ç»œå­˜å‚¨ï¼‰å‘ç”Ÿè¯»å†™ï¼Œå…¶æ€§èƒ½å’Œç¨³å®šæ€§æ›´é«˜ã€‚&lt;/p>
&lt;p>&lt;strong>æ•°æ®å·ï¼ˆVolumeï¼‰&lt;/strong>&lt;/p>
&lt;p>æ•°æ®å·æ˜¯ä¸€ä¸ªå¯ä¾›ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ä½¿ç”¨çš„ç‰¹æ®Šç›®å½•ï¼Œå®ƒç»•è¿‡ UFSï¼Œå¯ä»¥æä¾›å¾ˆå¤šæœ‰ç”¨çš„ç‰¹æ€§ï¼š&lt;/p>
&lt;ul>
&lt;li>æ•°æ®å·å¯ä»¥åœ¨å®¹å™¨ä¹‹é—´å…±äº«å’Œé‡ç”¨ï¼›&lt;/li>
&lt;li>å¯¹æ•°æ®å·çš„ä¿®æ”¹ä¼šç«‹é©¬ç”Ÿæ•ˆï¼›&lt;/li>
&lt;li>å¯¹æ•°æ®å·çš„æ›´æ–°ï¼Œä¸ä¼šå½±å“é•œåƒï¼›&lt;/li>
&lt;li>æ•°æ®å·é»˜è®¤ä¼šä¸€ç›´å­˜åœ¨ï¼Œå³ä½¿å®¹å™¨è¢«åˆ é™¤ã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ›å»ºä¸€ä¸ªæ•°æ®å·&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker volume create my-vol
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹æ‰€æœ‰æ•°æ®å·&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker volume ls
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">DRIVER VOLUME NAME
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">local&lt;/span> my-vol
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹æ•°æ®å·çš„è¯¦ç»†ä¿¡æ¯&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker volume inspect my-vol
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;CreatedAt&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;2021-09-09T02:04:14+08:00&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Driver&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;local&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Labels&amp;#34;&lt;/span>: &lt;span class="o">{}&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Mountpoint&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;/var/lib/docker/volumes/my-vol/_data&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Name&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;my-vol&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Options&amp;#34;&lt;/span>: &lt;span class="o">{}&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Scope&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;local&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ç”¨ &lt;code>docker run&lt;/code> å‘½ä»¤çš„æ—¶å€™ï¼Œä½¿ç”¨ &lt;code>--mount&lt;/code> æ ‡è®°æ¥å°† &lt;code>æ•°æ®å·&lt;/code> æŒ‚è½½åˆ°å®¹å™¨é‡Œã€‚åœ¨ä¸€æ¬¡ &lt;code>docker run&lt;/code> ä¸­å¯ä»¥æŒ‚è½½å¤šä¸ª &lt;code>æ•°æ®å·&lt;/code>ã€‚ä¸‹é¢åˆ›å»ºä¸€ä¸ªåä¸º &lt;code>web&lt;/code> çš„å®¹å™¨ï¼Œå¹¶åŠ è½½ä¸€ä¸ª &lt;code>æ•°æ®å·&lt;/code> åˆ°å®¹å™¨çš„ &lt;code>/usr/share/nginx/html&lt;/code> ç›®å½•ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ‹‰å–nginxçš„é•œåƒ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker pull nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¯åŠ¨å®¹å™¨åŠ è½½æ•°æ®å·&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker run -d -p 80:80 --name web --mount &lt;span class="nv">source&lt;/span>&lt;span class="o">=&lt;/span>my-vol,target&lt;span class="o">=&lt;/span>/usr/share/nginx/html nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ä¸»æœºé‡Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯ä»¥æŸ¥çœ‹ &lt;code>web&lt;/code> å®¹å™¨çš„ä¿¡æ¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker inspect web
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;Mounts&amp;#34;&lt;/span>: &lt;span class="o">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Type&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;volume&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Name&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;my-vol&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Source&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;/var/lib/docker/volumes/my-vol/_data&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Destination&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;/usr/share/nginx/html&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Driver&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;local&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Mode&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;z&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;RW&amp;#34;&lt;/span>: true,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Propagation&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">]&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯¹å®¹å™¨å†…æŒ‡å®šç›®å½•è¿›è¡Œæ–‡ä»¶å†™å…¥æ“ä½œï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹å®¹å™¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker container ls
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¿›å…¥å®¹å™¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker &lt;span class="nb">exec&lt;/span> -it &lt;span class="o">{{&lt;/span>ID&lt;span class="o">}}&lt;/span> bash
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å†™å…¥æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> Hello World!&amp;gt;/usr/share/nginx/html/testFile
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é€€å‡ºå®¹å™¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">exit&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ ¹æ®docker inspect webæŸ¥è¯¢åˆ°çš„è·¯å¾„åœ¨ä¸»æœºæŸ¥çœ‹æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat /var/lib/docker/volumes/my-vol/_data/testFile
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Hello World
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç”±äºæ•°æ®å·æ˜¯è¢«è®¾è®¡ç”¨æ¥æŒä¹…åŒ–æ•°æ®çš„ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸç‹¬ç«‹äºå®¹å™¨ï¼Œå› æ­¤ Docker ä¸ä¼šåœ¨å®¹å™¨è¢«åˆ é™¤åè‡ªåŠ¨åˆ é™¤æ•°æ®å·ï¼Œå¹¶ä¸”ä¹Ÿä¸å­˜åœ¨åƒåœ¾å›æ”¶è¿™æ ·çš„æœºåˆ¶æ¥å¤„ç†æ²¡æœ‰ä»»ä½•å®¹å™¨å¼•ç”¨çš„æ•°æ®ã€‚&lt;/p>
&lt;p>ä½¿ç”¨ä¸‹é¢å‘½ä»¤åˆ é™¤æ•°æ®å·ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ é™¤æŒ‡å®šæ•°æ®å·&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker volume rm my-vol
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ¸…ç†æ— ä¸»æ•°æ®å·&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker volume prune
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>æŒ‚è½½ä¸»æœºç›®å½•&lt;/strong>&lt;/p>
&lt;p>ä¸ºäº†ä½¿æ•°æ®æŒä¹…åŒ–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€‰æ‹©å°†ä¸»æœºç›®å½•æŒ‚è½½åˆ°å®¹å™¨å†…ã€‚ä½¿ç”¨ &lt;code>--mount&lt;/code> æ ‡è®°å¯ä»¥æŒ‡å®šæŒ‚è½½ä¸€ä¸ªæœ¬åœ°ä¸»æœºçš„ç›®å½•åˆ°å®¹å™¨ä¸­å»ã€‚&lt;/p>
&lt;p>Docker æŒ‚è½½ä¸»æœºç›®å½•çš„é»˜è®¤æƒé™æ˜¯ &lt;code>è¯»å†™&lt;/code>ï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥é€šè¿‡å¢åŠ  &lt;code>readonly&lt;/code> æŒ‡å®šä¸º &lt;code>åªè¯»&lt;/code>ï¼ŒåŠ äº† &lt;code>readonly&lt;/code> ä¹‹åï¼Œå°±æŒ‚è½½ä¸º &lt;code>åªè¯»&lt;/code> äº†ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker run -d -P --name web --mount &lt;span class="nv">type&lt;/span>&lt;span class="o">=&lt;/span>bind,source&lt;span class="o">=&lt;/span>/src/webapp,target&lt;span class="o">=&lt;/span>/usr/share/nginx/html,readonly nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>--mount&lt;/code> æ ‡è®°ä¹Ÿå¯ä»¥ä»ä¸»æœºæŒ‚è½½å•ä¸ªæ–‡ä»¶åˆ°å®¹å™¨ä¸­ã€‚&lt;/p>
&lt;h3 id="å››registry-ä»“åº“">å››ã€Registry ä»“åº“
&lt;/h3>&lt;p>é•œåƒæ„å»ºå®Œæˆåï¼Œå¯ä»¥å¾ˆå®¹æ˜“çš„åœ¨å½“å‰å®¿ä¸»æœºä¸Šè¿è¡Œï¼Œä½†æ˜¯ï¼Œå¦‚æœéœ€è¦åœ¨å…¶å®ƒæœåŠ¡å™¨ä¸Šä½¿ç”¨è¿™ä¸ªé•œåƒï¼Œæˆ‘ä»¬å°±éœ€è¦ä¸€ä¸ªé›†ä¸­çš„å­˜å‚¨ã€åˆ†å‘é•œåƒçš„æœåŠ¡ï¼ŒDocker Registry å°±æ˜¯è¿™æ ·çš„æœåŠ¡ã€‚&lt;/p>
&lt;p>Docker ç”¨ Registry æ¥ä¿å­˜ç”¨æˆ·æ„å»ºçš„é•œåƒã€‚Registry åˆ†ä¸º&lt;strong>å…¬å…±&lt;/strong>å’Œ&lt;strong>ç§æœ‰&lt;/strong>ä¸¤ç§ã€‚ä¸€ä¸ª &lt;strong>Docker Registry&lt;/strong> ä¸­å¯ä»¥åŒ…å«å¤šä¸ª &lt;strong>ä»“åº“&lt;/strong>ï¼ˆ&lt;code>Repository&lt;/code>ï¼‰ï¼›æ¯ä¸ªä»“åº“å¯ä»¥åŒ…å«å¤šä¸ª &lt;strong>æ ‡ç­¾&lt;/strong>ï¼ˆ&lt;code>Tag&lt;/code>ï¼‰ï¼›æ¯ä¸ªæ ‡ç­¾å¯¹åº”ä¸€ä¸ªé•œåƒã€‚Docker å…¬å¸è¿è¥å…¬å…±çš„ Registry å«åš Docker Hubã€‚ç”¨æˆ·å¯ä»¥åœ¨ Docker Hub æ³¨å†Œè´¦å·ï¼Œåˆ†äº«å¹¶ä¿å­˜è‡ªå·±çš„é•œåƒã€‚&lt;/p>
&lt;blockquote>
&lt;p>å‚è€ƒèµ„æ–™ï¼š&lt;/p>
&lt;ul>
&lt;li>[Docker æ¶æ„åŠå·¥ä½œåŸç† - å“ˆå–½æ²ƒå¾·å…ˆç”Ÿ - åšå®¢å›­ (cnblogs.com)](&lt;a class="link" href="https://www.cnblogs.com/mrhelloworld/p/docker2.html#:~:text=Docker" target="_blank" rel="noopener"
>https://www.cnblogs.com/mrhelloworld/p/docker2.html#:~:text=Docker&lt;/a> æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯-æœåŠ¡å™¨ï¼ˆC%2FSï¼‰æ¶æ„ç¨‹åºã€‚. Docker å®¢æˆ·ç«¯åªéœ€è¦å‘ Docker æœåŠ¡å™¨æˆ–è€…å®ˆæŠ¤è¿›ç¨‹å‘å‡ºè¯·æ±‚ï¼ŒæœåŠ¡å™¨æˆ–è€…å®ˆæŠ¤è¿›ç¨‹å°†å®Œæˆæ‰€æœ‰å·¥ä½œå¹¶è¿”å›ç»“æœã€‚. Docker æä¾›äº†ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·,APIã€‚. ä½ å¯ä»¥åœ¨åŒä¸€å°å®¿ä¸»æœºä¸Šè¿è¡Œ Docker å®ˆæŠ¤è¿›ç¨‹å’Œå®¢æˆ·ç«¯ï¼Œä¹Ÿå¯ä»¥ä»æœ¬åœ°çš„ Docker å®¢æˆ·ç«¯è¿æ¥åˆ°è¿è¡Œåœ¨å¦ä¸€å°å®¿ä¸»æœºä¸Šçš„è¿œç¨‹ Docker å®ˆæŠ¤è¿›ç¨‹ã€‚.)&lt;/li>
&lt;li>&lt;a class="link" href="https://vuepress.mirror.docker-practice.com/" target="_blank" rel="noopener"
>Docker â€” ä»å…¥é—¨åˆ°å®è·µ | Docker ä»å…¥é—¨åˆ°å®è·µ (docker-practice.com)&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote></description></item><item><title>Docker ç³»ç»Ÿæ¶æ„ä¸ä½¿ç”¨</title><link>https://wlynxg.github.io/blog/p/docker-%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E4%B8%8E%E4%BD%BF%E7%94%A8/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/docker-%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E4%B8%8E%E4%BD%BF%E7%94%A8/</guid><description>&lt;h1 id="docker-ç³»ç»Ÿæ¶æ„ä¸ä½¿ç”¨">Docker ç³»ç»Ÿæ¶æ„ä¸ä½¿ç”¨
&lt;/h1>&lt;h2 id="ä¸€æ•´ä½“æ¶æ„">ä¸€ã€æ•´ä½“æ¶æ„
&lt;/h2>&lt;p>é€šè¿‡ä¸‹å›¾å¯ä»¥å‘ç°ï¼ŒDocker ç³»ç»Ÿä¸»è¦åŒ…å«å®¢æˆ·ç«¯ã€æœåŠ¡ç«¯å’Œä»“åº“ä¸‰å¤§éƒ¨åˆ†ã€‚&lt;/p>
&lt;p>&lt;code>Docker&lt;/code> åœ¨è¿è¡Œæ—¶åˆ†ä¸º &lt;code>Docker å¼•æ“ï¼ˆæœåŠ¡ç«¯å®ˆæŠ¤è¿›ç¨‹ï¼‰&lt;/code> å’Œ &lt;code>å®¢æˆ·ç«¯å·¥å…·&lt;/code>ï¼Œæˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨å„ç§ &lt;code>docker å‘½ä»¤&lt;/code>ï¼Œå…¶å®å°±æ˜¯åœ¨ä½¿ç”¨ &lt;code>å®¢æˆ·ç«¯å·¥å…·&lt;/code> ä¸ &lt;code>Docker å¼•æ“&lt;/code> è¿›è¡Œäº¤äº’ï¼š&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/1314liuwei/figureBed/1631179825421890600.jpg"
loading="lazy"
alt="img"
>&lt;/p>
&lt;h2 id="äºŒclient">äºŒã€Client
&lt;/h2>&lt;p>Docker æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯-æœåŠ¡å™¨ï¼ˆC/Sï¼‰æ¶æ„ç¨‹åºã€‚Docker å®¢æˆ·ç«¯åªéœ€è¦å‘ Docker æœåŠ¡å™¨æˆ–è€…å®ˆæŠ¤è¿›ç¨‹å‘å‡ºè¯·æ±‚ï¼ŒæœåŠ¡å™¨æˆ–è€…å®ˆæŠ¤è¿›ç¨‹å°†å®Œæˆæ‰€æœ‰å·¥ä½œå¹¶è¿”å›ç»“æœã€‚&lt;/p>
&lt;p>Client èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬ä½¿ç”¨å‘½ä»¤è¡Œä¸ Docker æœåŠ¡ç«¯è¿›è¡Œäº¤äº’ï¼ŒåŒ…æ‹¬æœ¬åœ°æœåŠ¡ç«¯å’Œ&lt;strong>è¿œç¨‹æœåŠ¡ç«¯&lt;/strong>ï¼š&lt;/p>
&lt;p>é€šè¿‡&lt;code>-H&lt;/code>å‚æ•°å¯ä»¥æŒ‡å®šå®¢æˆ·ç«¯è¿æ¥çš„æœåŠ¡ç«¯ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker -H host
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ä¸‰æœåŠ¡ç«¯docker-å¼•æ“">ä¸‰ã€æœåŠ¡ç«¯ï¼ˆDocker å¼•æ“ï¼‰
&lt;/h2>&lt;p>æœåŠ¡ç«¯ä¼šå¯åŠ¨ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹ï¼Œé€šè¿‡ &lt;code>socket&lt;/code> æˆ–è€… &lt;code>RESTful API&lt;/code> æ¥æ”¶æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå¹¶ä¸”å¤„ç†è¿™äº›è¯·æ±‚ï¼Œå®ç°å¯¹é•œåƒå’Œå®¹å™¨çš„æ“ä½œã€‚&lt;/p>
&lt;h3 id="é•œåƒ">é•œåƒ
&lt;/h3>&lt;p>&lt;strong>Docker é•œåƒ&lt;/strong> æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿï¼Œå®ƒé™¤äº†æä¾›å®¹å™¨è¿è¡Œæ—¶æ‰€éœ€çš„ç¨‹åºã€åº“ã€èµ„æºã€é…ç½®ç­‰æ–‡ä»¶å¤–ï¼Œè¿˜åŒ…å«äº†ä¸€äº›ä¸ºè¿è¡Œæ—¶å‡†å¤‡çš„ä¸€äº›é…ç½®å‚æ•°ï¼ˆå¦‚åŒ¿åå·ã€ç¯å¢ƒå˜é‡ã€ç”¨æˆ·ç­‰ï¼‰ã€‚&lt;/p>
&lt;p>é•œåƒ &lt;strong>ä¸åŒ…å«&lt;/strong> ä»»ä½•åŠ¨æ€æ•°æ®ï¼Œå…¶å†…å®¹åœ¨æ„å»ºä¹‹åä¹Ÿä¸ä¼šè¢«æ”¹å˜ã€‚&lt;/p>
&lt;p>å› ä¸ºé•œåƒåŒ…å«äº†å®Œæ•´çš„ root æ–‡ä»¶ç³»ç»Ÿï¼Œå› æ­¤å…¶ä½“ç§¯å¾€å¾€æ˜¯å·¨å¤§çš„ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé‡‡ç”¨äº† &lt;a class="link" href="https://en.wikipedia.org/wiki/Union_mount" target="_blank" rel="noopener"
>Union FS (opens new window)&lt;/a>çš„æŠ€æœ¯ï¼Œå°†å…¶è®¾è®¡ä¸ºåˆ†å±‚å­˜å‚¨çš„æ¶æ„ï¼Œç”±å¤šå±‚æ–‡ä»¶ç³»ç»Ÿè”åˆç»„æˆï¼š&lt;/p>
&lt;p>&lt;img src="https://pic.try-hard.cn/blog/1631179816285823100.png"
loading="lazy"
alt="img"
>&lt;/p>
&lt;h3 id="å®¹å™¨">å®¹å™¨
&lt;/h3>&lt;p>é•œåƒ&lt;code>Image&lt;/code>å’Œå®¹å™¨&lt;code>Container&lt;/code>çš„å…³ç³»ï¼Œå°±åƒæ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­çš„ &lt;code>ç±»&lt;/code> å’Œ &lt;code>å®ä¾‹&lt;/code> ä¸€æ ·ï¼Œé•œåƒæ˜¯é™æ€çš„å®šä¹‰ï¼Œå®¹å™¨æ˜¯é•œåƒè¿è¡Œæ—¶çš„å®ä½“ã€‚å®¹å™¨å¯ä»¥è¢«åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ã€æš‚åœç­‰ã€‚&lt;/p>
&lt;p>å®¹å™¨çš„å®è´¨æ˜¯è¿›ç¨‹ï¼Œä½†ä¸ç›´æ¥åœ¨å®¿ä¸»æ‰§è¡Œçš„è¿›ç¨‹ä¸åŒï¼Œå®¹å™¨è¿›ç¨‹è¿è¡Œäºå±äºè‡ªå·±çš„ç‹¬ç«‹çš„å‘½åç©ºé—´ã€‚å› æ­¤å®¹å™¨å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„ &lt;code>root&lt;/code> æ–‡ä»¶ç³»ç»Ÿã€è‡ªå·±çš„ç½‘ç»œé…ç½®ã€è‡ªå·±çš„è¿›ç¨‹ç©ºé—´ï¼Œç”šè‡³è‡ªå·±çš„ç”¨æˆ· ID ç©ºé—´ã€‚å®¹å™¨å†…çš„è¿›ç¨‹æ˜¯è¿è¡Œåœ¨ä¸€ä¸ªéš”ç¦»çš„ç¯å¢ƒé‡Œï¼Œä½¿ç”¨èµ·æ¥ï¼Œå°±å¥½åƒæ˜¯åœ¨ä¸€ä¸ªç‹¬ç«‹äºå®¿ä¸»çš„ç³»ç»Ÿä¸‹æ“ä½œä¸€æ ·ã€‚è¿™ç§ç‰¹æ€§ä½¿å¾—å®¹å™¨å°è£…çš„åº”ç”¨æ¯”ç›´æ¥åœ¨å®¿ä¸»è¿è¡Œæ›´åŠ å®‰å…¨ã€‚&lt;/p>
&lt;p>å®¹å™¨ä¸é•œåƒå±‚ä¸€æ ·ä¹Ÿæ˜¯åˆ†å±‚ç»“æ„çš„ã€‚æ¯ä¸€ä¸ªå®¹å™¨è¿è¡Œæ—¶ï¼Œéƒ½æ˜¯æ˜¯ä»¥é•œåƒä¸ºåŸºç¡€å±‚ï¼Œåœ¨å…¶ä¸Šåˆ›å»ºä¸€ä¸ªå½“å‰å®¹å™¨çš„å­˜å‚¨å±‚ï¼Œæˆ‘ä»¬å¯ä»¥ç§°è¿™ä¸ªä¸ºå®¹å™¨è¿è¡Œæ—¶è¯»å†™è€Œå‡†å¤‡çš„å­˜å‚¨å±‚ä¸º &lt;strong>å®¹å™¨å­˜å‚¨å±‚&lt;/strong>ã€‚&lt;/p>
&lt;p>å®¹å™¨å­˜å‚¨å±‚çš„ç”Ÿå­˜å‘¨æœŸå’Œå®¹å™¨ä¸€æ ·ï¼Œå®¹å™¨æ¶ˆäº¡æ—¶ï¼Œå®¹å™¨å­˜å‚¨å±‚ä¹Ÿéšä¹‹æ¶ˆäº¡ã€‚å› æ­¤ï¼Œä»»ä½•ä¿å­˜äºå®¹å™¨å­˜å‚¨å±‚çš„ä¿¡æ¯éƒ½ä¼šéšå®¹å™¨åˆ é™¤è€Œä¸¢å¤±ã€‚å®¹å™¨ä¸åº”è¯¥å‘å…¶å­˜å‚¨å±‚å†…å†™å…¥ä»»ä½•æ•°æ®ï¼Œå®¹å™¨å­˜å‚¨å±‚è¦ä¿æŒæ— çŠ¶æ€åŒ–ã€‚&lt;/p>
&lt;p>æ‰€æœ‰çš„æ–‡ä»¶å†™å…¥æ“ä½œï¼Œéƒ½åº”è¯¥ä½¿ç”¨ &lt;strong>æ•°æ®å·ï¼ˆVolumeï¼‰&lt;/strong>ã€æˆ–è€… &lt;strong>ç»‘å®šå®¿ä¸»ç›®å½•&lt;/strong>ï¼Œåœ¨è¿™äº›ä½ç½®çš„è¯»å†™ä¼šè·³è¿‡å®¹å™¨å­˜å‚¨å±‚ï¼Œç›´æ¥å¯¹å®¿ä¸»ï¼ˆæˆ–ç½‘ç»œå­˜å‚¨ï¼‰å‘ç”Ÿè¯»å†™ï¼Œå…¶æ€§èƒ½å’Œç¨³å®šæ€§æ›´é«˜ã€‚&lt;/p>
&lt;h3 id="å¼€æ”¾è¿œç¨‹-api-æ¥å£">å¼€æ”¾è¿œç¨‹ API æ¥å£
&lt;/h3>&lt;p>æˆ‘ä»¬çŸ¥é“å®¢æˆ·ç«¯æ˜¯è°ƒç”¨æœåŠ¡ç«¯çš„ API æ¥å£å®ç°å¯¹é•œåƒå’Œå®¹å™¨çš„ç®¡ç†ã€‚Docker å¯ä»¥ç›‘å¬å¹¶å¤„ç† 3 ç§ socket å½¢å¼çš„ API è¯·æ±‚ï¼Œåˆ†åˆ«æ˜¯&lt;code>unix&lt;/code>ï¼ˆunix åŸŸåè®®ï¼‰ã€&lt;code>tcp&lt;/code>ï¼ˆtcp åè®®ï¼‰å’Œ&lt;code>fd&lt;/code>ã€‚&lt;/p>
&lt;p>ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨å®‰è£…å¥½ docker åï¼Œé»˜è®¤å°±å·²ç»å¼€å¯äº†&lt;code>unix&lt;/code> socketï¼Œå¹¶ä¸”æˆ‘ä»¬åœ¨æ‰§è¡Œéœ€è¦æœ‰&lt;code>root&lt;/code>æƒé™æˆ–è€…&lt;code>docker&lt;/code>ç”¨æˆ·ç»„æˆå‘˜æ‰æœ‰æƒé™è®¿é—®ã€‚&lt;/p>
&lt;p>ä¸‹é¢æ˜¯é€šè¿‡ socket æ–‡ä»¶ä¸æœåŠ¡ç«¯é€šä¿¡ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">curl --unix-socket /var/run/docker.sock http://docker/version
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¾“å‡ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Platform&amp;#34;&lt;/span>&lt;span class="p">:{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;Docker Engine - Community&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Components&amp;#34;&lt;/span>&lt;span class="p">:[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;Engine&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Version&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;20.10.8&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Details&amp;#34;&lt;/span>&lt;span class="p">:{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;ApiVersion&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;1.41&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Arch&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;amd64&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;BuildTime&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;2021-07-30T19:54:13.000000000+00:00&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Experimental&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;true&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;GitCommit&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;75249d8&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;GoVersion&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;go1.16.6&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;KernelVersion&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;3.10.0-1160.41.1.el7.x86_64&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;MinAPIVersion&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;1.12&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Os&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;linux&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;containerd&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Version&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;1.4.9&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Details&amp;#34;&lt;/span>&lt;span class="p">:{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;GitCommit&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;e25210fe30a0a703442421b0f60afac609f950a3&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;runc&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Version&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;1.0.1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Details&amp;#34;&lt;/span>&lt;span class="p">:{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;GitCommit&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;v1.0.1-0-g4144b63&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Name&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;docker-init&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Version&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;0.19.0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Details&amp;#34;&lt;/span>&lt;span class="p">:{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;GitCommit&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;de40ad0&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Version&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;20.10.8&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;ApiVersion&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;1.41&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;MinAPIVersion&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;1.12&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;GitCommit&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;75249d8&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;GoVersion&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;go1.16.6&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Os&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;linux&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Arch&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;amd64&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;KernelVersion&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;3.10.0-1160.41.1.el7.x86_64&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;Experimental&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;BuildTime&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;2021-07-30T19:54:13.000000000+00:00&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>å¼€æ”¾è¿œç¨‹ API&lt;/strong>&lt;/p>
&lt;p>ä¿®æ”¹ docker å®ˆæŠ¤è¿›ç¨‹çš„é…ç½®æ–‡ä»¶&lt;code>/lib/systemd/system/docker.service&lt;/code>&lt;/p>
&lt;p>å¯¹ä¸‹é¢è¿™è¡Œè¿›è¡Œä¿®æ”¹ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>ExecStart=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock
&lt;/code>&lt;/pre>&lt;p>ä¿®æ”¹ä¸ºï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>ExecStart=/usr/bin/dockerd -H unix://var/run/docker.sock -H tcp://0.0.0.0:2375
&lt;/code>&lt;/pre>&lt;p>ä¿®æ”¹å®Œæˆåé‡æ–°åŠ è½½ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é‡è½½ docker æœåŠ¡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl daemon-reload &lt;span class="c1"># é‡æ–°åŠ è½½å®ˆæŠ¤è¿›ç¨‹é…ç½®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl restart docker.service &lt;span class="c1"># é‡å¯ docker æœåŠ¡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹ docker è¿›ç¨‹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ps -ef&lt;span class="p">|&lt;/span>grep docker
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">output:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">root &lt;span class="m">3701&lt;/span> &lt;span class="m">1&lt;/span> &lt;span class="m">0&lt;/span> 01:07 ? 00:00:00 /usr/bin/dockerd -H fd:// -H tcp://0.0.0.0:2375 --containerd&lt;span class="o">=&lt;/span>/run/containerd/containerd.sock
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">root &lt;span class="m">3834&lt;/span> &lt;span class="m">2449&lt;/span> &lt;span class="m">0&lt;/span> 01:11 pts/0 00:00:00 grep --color&lt;span class="o">=&lt;/span>auto docker
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¼€æ”¾é˜²ç«å¢™2375ç«¯å£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">firewall-cmd --zone&lt;span class="o">=&lt;/span>public --add-port&lt;span class="o">=&lt;/span>2375/tcp --permanent &lt;span class="c1"># å¼€æ”¾2375ç«¯å£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">firewall-cmd --reload &lt;span class="c1"># é‡è½½é˜²ç«å¢™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">firewall-cmd --list-all &lt;span class="c1"># æŸ¥çœ‹å¼€æ”¾ç«¯å£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è®¿é—®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl http://&lt;span class="o">{{&lt;/span>ip&lt;span class="o">}}&lt;/span>:2375/version
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æ•°æ®ç®¡ç†">æ•°æ®ç®¡ç†
&lt;/h3>&lt;p>åœ¨ä¸Šé¢çš„å­¦ä¹ ä¸­æˆ‘ä»¬äº†è§£åˆ°å®¹å™¨ä¸­çš„æ•°æ®ä¼šéšç€å®¹å™¨ç”Ÿå‘½å‘¨æœŸçš„ç»“æŸè€Œæ¶ˆå¤±ã€‚å¦‚æœæˆ‘ä»¬å¸Œæœ›ä¿å­˜æ•°æ®ï¼Œé‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨ &lt;strong>æ•°æ®å·ï¼ˆVolumeï¼‰&lt;/strong>ã€æˆ–è€… &lt;strong>ç»‘å®šå®¿ä¸»ç›®å½•&lt;/strong>ï¼Œåœ¨è¿™äº›ä½ç½®çš„è¯»å†™ä¼šè·³è¿‡å®¹å™¨å­˜å‚¨å±‚ï¼Œç›´æ¥å¯¹å®¿ä¸»ï¼ˆæˆ–ç½‘ç»œå­˜å‚¨ï¼‰å‘ç”Ÿè¯»å†™ï¼Œå…¶æ€§èƒ½å’Œç¨³å®šæ€§æ›´é«˜ã€‚&lt;/p>
&lt;p>&lt;strong>æ•°æ®å·ï¼ˆVolumeï¼‰&lt;/strong>&lt;/p>
&lt;p>æ•°æ®å·æ˜¯ä¸€ä¸ªå¯ä¾›ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ä½¿ç”¨çš„ç‰¹æ®Šç›®å½•ï¼Œå®ƒç»•è¿‡ UFSï¼Œå¯ä»¥æä¾›å¾ˆå¤šæœ‰ç”¨çš„ç‰¹æ€§ï¼š&lt;/p>
&lt;ul>
&lt;li>æ•°æ®å·å¯ä»¥åœ¨å®¹å™¨ä¹‹é—´å…±äº«å’Œé‡ç”¨ï¼›&lt;/li>
&lt;li>å¯¹æ•°æ®å·çš„ä¿®æ”¹ä¼šç«‹é©¬ç”Ÿæ•ˆï¼›&lt;/li>
&lt;li>å¯¹æ•°æ®å·çš„æ›´æ–°ï¼Œä¸ä¼šå½±å“é•œåƒï¼›&lt;/li>
&lt;li>æ•°æ®å·é»˜è®¤ä¼šä¸€ç›´å­˜åœ¨ï¼Œå³ä½¿å®¹å™¨è¢«åˆ é™¤ã€‚&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ›å»ºä¸€ä¸ªæ•°æ®å·&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker volume create my-vol
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹æ‰€æœ‰æ•°æ®å·&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker volume ls
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">DRIVER VOLUME NAME
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">local&lt;/span> my-vol
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹æ•°æ®å·çš„è¯¦ç»†ä¿¡æ¯&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker volume inspect my-vol
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;CreatedAt&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;2021-09-09T02:04:14+08:00&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Driver&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;local&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Labels&amp;#34;&lt;/span>: &lt;span class="o">{}&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Mountpoint&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;/var/lib/docker/volumes/my-vol/_data&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Name&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;my-vol&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Options&amp;#34;&lt;/span>: &lt;span class="o">{}&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Scope&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;local&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ç”¨ &lt;code>docker run&lt;/code> å‘½ä»¤çš„æ—¶å€™ï¼Œä½¿ç”¨ &lt;code>--mount&lt;/code> æ ‡è®°æ¥å°† &lt;code>æ•°æ®å·&lt;/code> æŒ‚è½½åˆ°å®¹å™¨é‡Œã€‚åœ¨ä¸€æ¬¡ &lt;code>docker run&lt;/code> ä¸­å¯ä»¥æŒ‚è½½å¤šä¸ª &lt;code>æ•°æ®å·&lt;/code>ã€‚ä¸‹é¢åˆ›å»ºä¸€ä¸ªåä¸º &lt;code>web&lt;/code> çš„å®¹å™¨ï¼Œå¹¶åŠ è½½ä¸€ä¸ª &lt;code>æ•°æ®å·&lt;/code> åˆ°å®¹å™¨çš„ &lt;code>/usr/share/nginx/html&lt;/code> ç›®å½•ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ‹‰å–nginxçš„é•œåƒ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker pull nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¯åŠ¨å®¹å™¨åŠ è½½æ•°æ®å·&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker run -d -p 80:80 --name web --mount &lt;span class="nv">source&lt;/span>&lt;span class="o">=&lt;/span>my-vol,target&lt;span class="o">=&lt;/span>/usr/share/nginx/html nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åœ¨ä¸»æœºé‡Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯ä»¥æŸ¥çœ‹ &lt;code>web&lt;/code> å®¹å™¨çš„ä¿¡æ¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker inspect web
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;Mounts&amp;#34;&lt;/span>: &lt;span class="o">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Type&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;volume&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Name&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;my-vol&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Source&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;/var/lib/docker/volumes/my-vol/_data&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Destination&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;/usr/share/nginx/html&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Driver&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;local&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Mode&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;z&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;RW&amp;#34;&lt;/span>: true,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Propagation&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">]&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯¹å®¹å™¨å†…æŒ‡å®šç›®å½•è¿›è¡Œæ–‡ä»¶å†™å…¥æ“ä½œï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹å®¹å™¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker container ls
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¿›å…¥å®¹å™¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker &lt;span class="nb">exec&lt;/span> -it &lt;span class="o">{{&lt;/span>ID&lt;span class="o">}}&lt;/span> bash
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å†™å…¥æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> Hello World!&amp;gt;/usr/share/nginx/html/testFile
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é€€å‡ºå®¹å™¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">exit&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ ¹æ®docker inspect webæŸ¥è¯¢åˆ°çš„è·¯å¾„åœ¨ä¸»æœºæŸ¥çœ‹æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat /var/lib/docker/volumes/my-vol/_data/testFile
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Hello World
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç”±äºæ•°æ®å·æ˜¯è¢«è®¾è®¡ç”¨æ¥æŒä¹…åŒ–æ•°æ®çš„ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸç‹¬ç«‹äºå®¹å™¨ï¼Œå› æ­¤ Docker ä¸ä¼šåœ¨å®¹å™¨è¢«åˆ é™¤åè‡ªåŠ¨åˆ é™¤æ•°æ®å·ï¼Œå¹¶ä¸”ä¹Ÿä¸å­˜åœ¨åƒåœ¾å›æ”¶è¿™æ ·çš„æœºåˆ¶æ¥å¤„ç†æ²¡æœ‰ä»»ä½•å®¹å™¨å¼•ç”¨çš„æ•°æ®ã€‚&lt;/p>
&lt;p>ä½¿ç”¨ä¸‹é¢å‘½ä»¤åˆ é™¤æ•°æ®å·ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ é™¤æŒ‡å®šæ•°æ®å·&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker volume rm my-vol
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ¸…ç†æ— ä¸»æ•°æ®å·&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker volume prune
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>æŒ‚è½½ä¸»æœºç›®å½•&lt;/strong>&lt;/p>
&lt;p>ä¸ºäº†ä½¿æ•°æ®æŒä¹…åŒ–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€‰æ‹©å°†ä¸»æœºç›®å½•æŒ‚è½½åˆ°å®¹å™¨å†…ã€‚ä½¿ç”¨ &lt;code>--mount&lt;/code> æ ‡è®°å¯ä»¥æŒ‡å®šæŒ‚è½½ä¸€ä¸ªæœ¬åœ°ä¸»æœºçš„ç›®å½•åˆ°å®¹å™¨ä¸­å»ã€‚&lt;/p>
&lt;p>Docker æŒ‚è½½ä¸»æœºç›®å½•çš„é»˜è®¤æƒé™æ˜¯ &lt;code>è¯»å†™&lt;/code>ï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥é€šè¿‡å¢åŠ  &lt;code>readonly&lt;/code> æŒ‡å®šä¸º &lt;code>åªè¯»&lt;/code>ï¼ŒåŠ äº† &lt;code>readonly&lt;/code> ä¹‹åï¼Œå°±æŒ‚è½½ä¸º &lt;code>åªè¯»&lt;/code> äº†ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker run -d -P --name web --mount &lt;span class="nv">type&lt;/span>&lt;span class="o">=&lt;/span>bind,source&lt;span class="o">=&lt;/span>/src/webapp,target&lt;span class="o">=&lt;/span>/usr/share/nginx/html,readonly nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>--mount&lt;/code> æ ‡è®°ä¹Ÿå¯ä»¥ä»ä¸»æœºæŒ‚è½½å•ä¸ªæ–‡ä»¶åˆ°å®¹å™¨ä¸­ã€‚&lt;/p>
&lt;h3 id="å››registry-ä»“åº“">å››ã€Registry ä»“åº“
&lt;/h3>&lt;p>é•œåƒæ„å»ºå®Œæˆåï¼Œå¯ä»¥å¾ˆå®¹æ˜“çš„åœ¨å½“å‰å®¿ä¸»æœºä¸Šè¿è¡Œï¼Œä½†æ˜¯ï¼Œå¦‚æœéœ€è¦åœ¨å…¶å®ƒæœåŠ¡å™¨ä¸Šä½¿ç”¨è¿™ä¸ªé•œåƒï¼Œæˆ‘ä»¬å°±éœ€è¦ä¸€ä¸ªé›†ä¸­çš„å­˜å‚¨ã€åˆ†å‘é•œåƒçš„æœåŠ¡ï¼ŒDocker Registry å°±æ˜¯è¿™æ ·çš„æœåŠ¡ã€‚&lt;/p>
&lt;p>Docker ç”¨ Registry æ¥ä¿å­˜ç”¨æˆ·æ„å»ºçš„é•œåƒã€‚Registry åˆ†ä¸º&lt;strong>å…¬å…±&lt;/strong>å’Œ&lt;strong>ç§æœ‰&lt;/strong>ä¸¤ç§ã€‚ä¸€ä¸ª &lt;strong>Docker Registry&lt;/strong> ä¸­å¯ä»¥åŒ…å«å¤šä¸ª &lt;strong>ä»“åº“&lt;/strong>ï¼ˆ&lt;code>Repository&lt;/code>ï¼‰ï¼›æ¯ä¸ªä»“åº“å¯ä»¥åŒ…å«å¤šä¸ª &lt;strong>æ ‡ç­¾&lt;/strong>ï¼ˆ&lt;code>Tag&lt;/code>ï¼‰ï¼›æ¯ä¸ªæ ‡ç­¾å¯¹åº”ä¸€ä¸ªé•œåƒã€‚Docker å…¬å¸è¿è¥å…¬å…±çš„ Registry å«åš Docker Hubã€‚ç”¨æˆ·å¯ä»¥åœ¨ Docker Hub æ³¨å†Œè´¦å·ï¼Œåˆ†äº«å¹¶ä¿å­˜è‡ªå·±çš„é•œåƒã€‚&lt;/p>
&lt;blockquote>
&lt;p>å‚è€ƒèµ„æ–™ï¼š&lt;/p>
&lt;ul>
&lt;li>[Docker æ¶æ„åŠå·¥ä½œåŸç† - å“ˆå–½æ²ƒå¾·å…ˆç”Ÿ - åšå®¢å›­ (cnblogs.com)](&lt;a class="link" href="https://www.cnblogs.com/mrhelloworld/p/docker2.html#:~:text=Docker" target="_blank" rel="noopener"
>https://www.cnblogs.com/mrhelloworld/p/docker2.html#:~:text=Docker&lt;/a> æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯-æœåŠ¡å™¨ï¼ˆC%2FSï¼‰æ¶æ„ç¨‹åºã€‚. Docker å®¢æˆ·ç«¯åªéœ€è¦å‘ Docker æœåŠ¡å™¨æˆ–è€…å®ˆæŠ¤è¿›ç¨‹å‘å‡ºè¯·æ±‚ï¼ŒæœåŠ¡å™¨æˆ–è€…å®ˆæŠ¤è¿›ç¨‹å°†å®Œæˆæ‰€æœ‰å·¥ä½œå¹¶è¿”å›ç»“æœã€‚. Docker æä¾›äº†ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·,APIã€‚. ä½ å¯ä»¥åœ¨åŒä¸€å°å®¿ä¸»æœºä¸Šè¿è¡Œ Docker å®ˆæŠ¤è¿›ç¨‹å’Œå®¢æˆ·ç«¯ï¼Œä¹Ÿå¯ä»¥ä»æœ¬åœ°çš„ Docker å®¢æˆ·ç«¯è¿æ¥åˆ°è¿è¡Œåœ¨å¦ä¸€å°å®¿ä¸»æœºä¸Šçš„è¿œç¨‹ Docker å®ˆæŠ¤è¿›ç¨‹ã€‚.)&lt;/li>
&lt;li>&lt;a class="link" href="https://vuepress.mirror.docker-practice.com/" target="_blank" rel="noopener"
>Docker â€” ä»å…¥é—¨åˆ°å®è·µ | Docker ä»å…¥é—¨åˆ°å®è·µ (docker-practice.com)&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote></description></item><item><title>Kaliæ‰§è¡Œapt-get upgradeåæ— æ³•æ‰“å¼€ç»ˆç«¯</title><link>https://wlynxg.github.io/blog/p/kali%E6%89%A7%E8%A1%8Capt-get-upgrade%E5%90%8E%E6%97%A0%E6%B3%95%E6%89%93%E5%BC%80%E7%BB%88%E7%AB%AF/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/kali%E6%89%A7%E8%A1%8Capt-get-upgrade%E5%90%8E%E6%97%A0%E6%B3%95%E6%89%93%E5%BC%80%E7%BB%88%E7%AB%AF/</guid><description>&lt;h1 id="kali-æ‰§è¡Œ-apt-get-upgrade-åæ— æ³•æ‰“å¼€ç»ˆç«¯">Kali æ‰§è¡Œ apt-get upgrade åæ— æ³•æ‰“å¼€ç»ˆç«¯
&lt;/h1>&lt;h1 id="ä¸€é—®é¢˜è¯¦æƒ…">ä¸€ã€é—®é¢˜è¯¦æƒ…
&lt;/h1>&lt;p>å®‰è£…å®ŒKaliè™šæ‹Ÿæœºåï¼Œæ‰§è¡Œ&lt;code>apt-get upgrade&lt;/code>æ›´æ–°ï¼Œæ›´æ–°å®Œæˆå&lt;code>reboot&lt;/code>é‡å¯ï¼Œå‘ç°æ— æ³•æ‰“å¼€ç»ˆç«¯ã€‚&lt;/p>
&lt;h1 id="äºŒé—®é¢˜åŸå› ">äºŒã€é—®é¢˜åŸå› 
&lt;/h1>&lt;p>ç”±äºæœ€å¼€å§‹å®‰è£…kaliçš„æ—¶å€™æ˜¯é€‰æ‹©ä¸­æ–‡ï¼Œåœ¨upgradeåï¼Œç³»ç»ŸæŠŠè¯­è¨€è®¾ç½®å›äº†è‹±æ–‡ï¼Œå› è€Œåœ¨ç»ˆç«¯å› ä¸ºä¹±ç è€Œæ— æ³•æ‰“å¼€ã€‚&lt;/p>
&lt;h1 id="ä¸‰è§£å†³æ–¹æ¡ˆ">ä¸‰ã€è§£å†³æ–¹æ¡ˆ
&lt;/h1>&lt;p>æˆ‘ä»¬é‡æ–°è®¾ç½®ä¸€ä¸‹è¯­è¨€å³å¯è§£å†³é—®é¢˜ï¼š&lt;/p>
&lt;ol>
&lt;li>&lt;strong>è¿›å…¥å‘½ä»¤è¡Œç•Œé¢ï¼š&lt;/strong>
&lt;strong>Alt+Ctrl +F6&lt;/strong>&lt;/li>
&lt;li>&lt;strong>ä¾æ¬¡è¾“å…¥ï¼š&lt;/strong>&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">apt-get install --reinstall locales
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å°†è¯­è¨€é›†è®¾ç½®æˆè‹±æ–‡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">LANGUAGE&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;en_US.UTF-8&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s1">&amp;#39;LANGUAGE=&amp;#34;en_US.UTF-8&amp;#34;&amp;#39;&lt;/span> &amp;gt;&amp;gt; /etc/default/locale
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s1">&amp;#39;LC_ALL=&amp;#34;en_US.UTF-8&amp;#34;&amp;#39;&lt;/span> &amp;gt;&amp;gt; /etc/default/locale
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="3">
&lt;li>&lt;strong>é‡å¯ï¼š&lt;/strong>&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">reboot
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="4">
&lt;li>&lt;strong>é‡æ–°è®¾ç½®è¯­è¨€ï¼š&lt;/strong>
åœ¨è®¾ç½®ä¸­å°†è¯­è¨€è°ƒæ•´ä¸ºä¸­æ–‡&lt;/li>
&lt;/ol></description></item><item><title>Linux å¸¸ç”¨å‘½ä»¤</title><link>https://wlynxg.github.io/blog/p/linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/linux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</guid><description>&lt;h1 id="linux-å¸¸ç”¨å‘½ä»¤">Linux å¸¸ç”¨å‘½ä»¤
&lt;/h1>&lt;h2 id="1-ä¿®æ”¹ç”¨æˆ·åå’Œå¯†ç ">1. ä¿®æ”¹ç”¨æˆ·åå’Œå¯†ç 
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä¿®æ”¹ç”¨æˆ·å&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">usermod -l new old
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä¿®æ”¹å¯†ç &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">passwd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="2-æŸ¥æ‰¾æ–‡ä»¶">2. æŸ¥æ‰¾æ–‡ä»¶
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">find &amp;lt;æŒ‡å®šç›®å½•&amp;gt; &amp;lt;æŒ‡å®šæ¡ä»¶&amp;gt; &amp;lt;æŒ‡å®šåŠ¨ä½œ&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="3-ç»Ÿè®¡æ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶æ•°é‡">3. ç»Ÿè®¡æ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶æ•°é‡
&lt;/h2>&lt;p>Linuxä¸‹æœ‰ä¸‰ä¸ªå‘½ä»¤ï¼š&lt;code>ls&lt;/code>ã€&lt;code>grep&lt;/code>ã€&lt;code>wc&lt;/code>ã€‚é€šè¿‡è¿™ä¸‰ä¸ªå‘½ä»¤çš„ç»„åˆå¯ä»¥ç»Ÿè®¡ç›®å½•ä¸‹æ–‡ä»¶åŠæ–‡ä»¶å¤¹çš„ä¸ªæ•°ã€‚&lt;/p>
&lt;ul>
&lt;li>ç»Ÿè®¡å½“å‰ç›®å½•ä¸‹æ–‡ä»¶çš„ä¸ªæ•°ï¼ˆä¸åŒ…æ‹¬ç›®å½•ï¼‰&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ ls -l &lt;span class="p">|&lt;/span> grep &lt;span class="s2">&amp;#34;^-&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> wc -l
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>ç»Ÿè®¡å½“å‰ç›®å½•ä¸‹æ–‡ä»¶çš„ä¸ªæ•°ï¼ˆåŒ…æ‹¬å­ç›®å½•ï¼‰&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ ls -lR&lt;span class="p">|&lt;/span> grep &lt;span class="s2">&amp;#34;^-&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> wc -l
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>æŸ¥çœ‹æŸç›®å½•ä¸‹æ–‡ä»¶å¤¹(ç›®å½•)çš„ä¸ªæ•°ï¼ˆåŒ…æ‹¬å­ç›®å½•ï¼‰&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ ls -lR &lt;span class="p">|&lt;/span> grep &lt;span class="s2">&amp;#34;^d&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> wc -l
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>å‘½ä»¤è§£æï¼š&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;code>ls -l&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>é•¿åˆ—è¡¨è¾“å‡ºè¯¥ç›®å½•ä¸‹æ–‡ä»¶ä¿¡æ¯(æ³¨æ„è¿™é‡Œçš„æ–‡ä»¶æ˜¯æŒ‡ç›®å½•ã€é“¾æ¥ã€è®¾å¤‡æ–‡ä»¶ç­‰)ï¼Œæ¯ä¸€è¡Œå¯¹åº”ä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•ï¼Œ&lt;code>ls -lR&lt;/code>æ˜¯åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬å­ç›®å½•ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;code>grep &amp;quot;^-&amp;quot;&lt;/code>
è¿‡æ»¤&lt;code>ls&lt;/code>çš„è¾“å‡ºä¿¡æ¯ï¼Œåªä¿ç•™ä¸€èˆ¬æ–‡ä»¶ï¼Œåªä¿ç•™ç›®å½•æ˜¯&lt;code>grep &amp;quot;^d&amp;quot;&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;code>wc -l&lt;/code>
ç»Ÿè®¡è¾“å‡ºä¿¡æ¯çš„è¡Œæ•°ï¼Œç»Ÿè®¡ç»“æœå°±æ˜¯è¾“å‡ºä¿¡æ¯çš„è¡Œæ•°ï¼Œä¸€è¡Œä¿¡æ¯å¯¹åº”ä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥å°±æ˜¯æ–‡ä»¶çš„ä¸ªæ•°ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="4-http-å‹æµ‹">4. HTTP å‹æµ‹
&lt;/h2>&lt;p>ç¼–è¯‘å®‰è£… wrkï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å…‹éš†åˆ°æœ¬åœ°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git clone https://github.com/wg/wrk
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¿›å…¥wrk&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> wrk
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç¼–è¯‘&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">make
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯¹ ç™¾åº¦ è¿›è¡Œå‹æµ‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">-- è¡¨ç¤ºé‡‡ç”¨äº†10ä¸ªçº¿ç¨‹,è¿æ¥æ•°300,æŒç»­æ—¶é—´20s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">./wrk -t10 -c300 -d20s --latency http://www.baidu.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="5-å…³æœºé‡å¯">5. å…³æœºé‡å¯
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç«‹å³å…³æœº&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">shutdown -h now
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">init &lt;span class="m">0&lt;/span> &lt;span class="c1"># graceful&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å®šæ—¶å…³æœº&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">shutdown -h 23:30 &lt;span class="c1"># 23:30 å…³æœº&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">shutdown -h +15 &lt;span class="c1"># 15åˆ†é’Ÿåå…³æœº&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é‡å¯&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">shutdown -r now
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">reboot
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">init &lt;span class="m">6&lt;/span> &lt;span class="c1"># graceful&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="6-wifi-å’Œ-è“ç‰™-ç”µæºç®¡ç†">6. WiFi å’Œ è“ç‰™ ç”µæºç®¡ç†
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å…³é—­&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rfkill block wifi &lt;span class="c1"># å…³é—­ wifi è®¾å¤‡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¼€å¯&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rfkill unblock wifi &lt;span class="c1"># å¼€å¯ wifi è®¾å¤‡&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="7-ç½‘ç»œæµ‹é€Ÿ">7. ç½‘ç»œæµ‹é€Ÿ
&lt;/h2>&lt;pre tabindex="0">&lt;code>apt install iperf3
&lt;/code>&lt;/pre>&lt;p>å‚æ•°ï¼š&lt;/p>
&lt;p>ï¼ˆ1ï¼‰-s,&amp;ndash;serverï¼šiperfæœåŠ¡å™¨æ¨¡å¼ï¼Œé»˜è®¤å¯åŠ¨çš„ç›‘å¬ç«¯å£ä¸º5201ï¼Œegï¼šiperf -s&lt;/p>
&lt;p>ï¼ˆ2ï¼‰-c,&amp;ndash;client hostï¼šiperfå®¢æˆ·ç«¯æ¨¡å¼ï¼Œhostæ˜¯serverç«¯åœ°å€ï¼Œegï¼šiperf -c 222.35.11.23&lt;/p>
&lt;p>ï¼ˆ3ï¼‰-iï¼Œ&amp;ndash;intervalï¼šæŒ‡å®šæ¯æ¬¡æŠ¥å‘Šä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå•ä½ä¸ºç§’ï¼Œegï¼šiperf3 -c 192.168.12.168 -i 2&lt;/p>
&lt;p>ï¼ˆ4ï¼‰-pï¼Œ&amp;ndash;portï¼šæŒ‡å®šæœåŠ¡å™¨ç«¯ç›‘å¬çš„ç«¯å£æˆ–å®¢æˆ·ç«¯æ‰€è¿æ¥çš„ç«¯å£ï¼Œé»˜è®¤æ˜¯5001ç«¯å£ã€‚&lt;/p>
&lt;p>ï¼ˆ5ï¼‰-uï¼Œ&amp;ndash;udpï¼šè¡¨ç¤ºé‡‡ç”¨UDPåè®®å‘é€æŠ¥æ–‡ï¼Œä¸å¸¦è¯¥å‚æ•°è¡¨ç¤ºé‡‡ç”¨TCPåè®®ã€‚&lt;/p>
&lt;p>ï¼ˆ6ï¼‰-lï¼Œ&amp;ndash;lenï¼šè®¾ç½®è¯»å†™ç¼“å†²åŒºçš„é•¿åº¦ï¼Œå•ä½ä¸º Byteã€‚TCPæ–¹å¼é»˜è®¤ä¸º8KBï¼ŒUDPæ–¹å¼é»˜è®¤ä¸º1470å­—èŠ‚ã€‚é€šå¸¸æµ‹è¯• PPS çš„æ—¶å€™è¯¥å€¼ä¸º16ï¼Œæµ‹è¯•BPSæ—¶è¯¥å€¼ä¸º1400ã€‚&lt;/p>
&lt;p>ï¼ˆ7ï¼‰-bï¼Œ&amp;ndash;bandwidth [K|M|G]ï¼šæŒ‡å®šUDPæ¨¡å¼ä½¿ç”¨çš„å¸¦å®½ï¼Œå•ä½bits/secï¼Œé»˜è®¤å€¼æ˜¯1 Mbit/secã€‚&lt;/p>
&lt;p>ï¼ˆ8ï¼‰-tï¼Œ&amp;ndash;timeï¼šæŒ‡å®šæ•°æ®ä¼ è¾“çš„æ€»æ—¶é—´ï¼Œå³åœ¨æŒ‡å®šçš„æ—¶é—´å†…ï¼Œé‡å¤å‘é€æŒ‡å®šé•¿åº¦çš„æ•°æ®åŒ…ã€‚é»˜è®¤10ç§’ã€‚&lt;/p>
&lt;p>ï¼ˆ9ï¼‰-Aï¼šCPUäº²å’Œæ€§ï¼Œå¯ä»¥å°†å…·ä½“çš„iperf3è¿›ç¨‹ç»‘å®šå¯¹åº”ç¼–å·çš„é€»è¾‘CPUï¼Œé¿å…iperfè¿›ç¨‹åœ¨ä¸åŒçš„CPUé—´è°ƒåº¦ã€‚&lt;/p>
&lt;h2 id="8-æŸ¥çœ‹ç³»ç»Ÿè·¯ç”±è¡¨">8. æŸ¥çœ‹ç³»ç»Ÿè·¯ç”±è¡¨
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ip route list table &lt;span class="m">0&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="9-æŸ¥è¯¢ä¸»æœºå¤–éƒ¨-ip">9. æŸ¥è¯¢ä¸»æœºå¤–éƒ¨ IP
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">curl -L ip.tool.lu
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="10-ç½‘å¡é€Ÿç‡">10. ç½‘å¡é€Ÿç‡
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">watch -n &lt;span class="m">1&lt;/span> ifconfig lo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€šè¿‡æ¯”è¾ƒ RX å’Œ TX è®¡ç®—å¾—å‡ºï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>Every 1.0s: ifconfig lo Tue Dec 12 10:54:50 2023
lo Link encap:UNSPEC
inet addr:127.0.0.1 Mask:255.0.0.0
inet6 addr: ::1/128 Scope: Host
UP LOOPBACK RUNNING MTU:65536 Metric:1
RX packets:46618912 errors:0 dropped:0 overruns:0 frame:0
TX packets:46618912 errors:0 dropped:0 overruns:0 carrier:0
collisions:0 txqueuelen:1000
RX bytes:54983068842 TX bytes:54983068842
&lt;/code>&lt;/pre>&lt;h2 id="11-æŸ¥çœ‹ç«¯å£å ç”¨">11. æŸ¥çœ‹ç«¯å£å ç”¨
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ss -ntlp &lt;span class="p">|&lt;/span> grep &amp;lt;port&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">netstat -ntlp &lt;span class="p">|&lt;/span> grep &amp;lt;port&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lsof -i:&amp;lt;port&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="12-æŸ¥çœ‹æœ€åä¸€ä¸ªæ–‡ä»¶">12. æŸ¥çœ‹æœ€åä¸€ä¸ªæ–‡ä»¶
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ls -l &lt;span class="p">|&lt;/span> awk &lt;span class="s1">&amp;#39;{print $NF}&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> tail -n &lt;span class="m">1&lt;/span> &lt;span class="p">|&lt;/span> xargs tail -f
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="13-æŸ¥è¯¢æŒ‡å®šæ–‡ä»¶å¤¹ä¸‹åŒ…å«æŒ‡å®šå†…å®¹çš„æ–‡ä»¶">13. æŸ¥è¯¢æŒ‡å®šæ–‡ä»¶å¤¹ä¸‹åŒ…å«æŒ‡å®šå†…å®¹çš„æ–‡ä»¶
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">grep -r &lt;span class="s2">&amp;#34;å…³é”®è¯&amp;#34;&lt;/span> /path/dir
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="14-é€šè¿‡ä»£ç†æ‰§è¡Œ-ssh-å’Œ-scp">14. é€šè¿‡ä»£ç†æ‰§è¡Œ ssh å’Œ scp
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">ORIGINAL_HOST&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;baidu.com&amp;#34;&lt;/span> ssh -o &lt;span class="nv">ProxyCommand&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;nc -X 5 -x {ProxyAddr} $ORIGINAL_HOST %p&amp;#39;&lt;/span> &lt;span class="s2">&amp;#34;root@&lt;/span>&lt;span class="nv">$ORIGINAL_HOST&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">ORIGINAL_HOST&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;baidu.com&amp;#34;&lt;/span> scp -o &lt;span class="nv">ProxyCommand&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;nc -X 5 -x {ProxyAddr} $ORIGINAL_HOST %p&amp;#39;&lt;/span> &lt;span class="s2">&amp;#34;root@&lt;/span>&lt;span class="nv">$ORIGINAL_HOST&lt;/span>&lt;span class="s2">:/path/to/remote/file&amp;#34;&lt;/span> /path/to/local/destination
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="15-æŸ¥çœ‹æœ¬åœ°-nat-è½¬æ¢è§„åˆ™">15. æŸ¥çœ‹æœ¬åœ° NAT è½¬æ¢è§„åˆ™
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹ iptables ä¸­çš„ NAT è§„åˆ™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -vL
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹è¿æ¥è·Ÿè¸ªè¡¨ nf_conntrack&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat /proc/net/nf_conntrack
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Linux ç½‘ç»œé…ç½®</title><link>https://wlynxg.github.io/blog/p/linux-%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/linux-%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE/</guid><description>&lt;h1 id="centos-minimal-ç½‘ç»œé…ç½®">Centos minimal ç½‘ç»œé…ç½®
&lt;/h1>&lt;h2 id="ä¸€ä¸‹è½½--å®‰è£…">ä¸€ã€ä¸‹è½½ &amp;amp;&amp;amp; å®‰è£…
&lt;/h2>&lt;p>ç‰ˆæœ¬é€‰æ‹©ï¼šCentos 7.9 minimal&lt;/p>
&lt;p>ä¸‹è½½åœ°å€ï¼š&lt;a class="link" href="http://mirrors.aliyun.com/centos/7.9.2009/isos/x86_64/" target="_blank" rel="noopener"
>Index of /centos/7.9.2009/isos/x86_64/ (aliyun.com)&lt;/a>&lt;/p>
&lt;p>å®‰è£…ï¼šè¿™é‡Œè‡ªå·±é€‰æ‹© VM è¿›è¡Œå®‰è£…ï¼ˆå®‰è£…è¿‡ç¨‹è¿™é‡Œå°±ä¸èµ˜è¿°äº†ï¼‰&lt;/p>
&lt;h2 id="äºŒcentos-ç½‘ç»œé…ç½®ç›¸å…³æ–‡ä»¶">äºŒã€Centos ç½‘ç»œé…ç½®ç›¸å…³æ–‡ä»¶
&lt;/h2>&lt;h3 id="1-etcresolvconf">1. /etc/resolv.conf
&lt;/h3>&lt;p>å®ƒæ˜¯ DNS å®¢æˆ·æœºé…ç½®æ–‡ä»¶ï¼Œç”¨äºè®¾ç½®DNSæœåŠ¡å™¨çš„IPåœ°å€åŠDNSåŸŸåï¼ŒåŒæ—¶è¿˜åŒ…å«äº†ä¸»æœºçš„åŸŸåæœç´¢é¡ºåºã€‚è¯¥æ–‡ä»¶æ˜¯ç”±åŸŸåè§£æå™¨ï¼ˆresolverï¼Œä¸€ä¸ªæ ¹æ®ä¸»æœºåè§£æIPåœ°å€çš„åº“ï¼‰ä½¿ç”¨çš„é…ç½®æ–‡ä»¶ã€‚&lt;/p>
&lt;p>resolv.conf çš„å…³é”®å­—ä¸»è¦æœ‰å››ä¸ªï¼Œåˆ†åˆ«æ˜¯ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>nameserver&lt;/strong>ï¼šå®šä¹‰DNSæœåŠ¡å™¨çš„IPåœ°å€&lt;/li>
&lt;li>&lt;strong>domain&lt;/strong>ï¼šå®šä¹‰æœ¬åœ°åŸŸå&lt;/li>
&lt;li>&lt;strong>search&lt;/strong>ï¼šå®šä¹‰åŸŸåçš„æœç´¢åˆ—è¡¨&lt;/li>
&lt;li>&lt;strong>sortlist&lt;/strong>ï¼šå¯¹è¿”å›çš„åŸŸåè¿›è¡Œæ’åº&lt;/li>
&lt;/ul>
&lt;h3 id="2-etchosts">2. /etc/hosts
&lt;/h3>&lt;p>hosts æ–‡ä»¶æ˜¯ Linux ç³»ç»Ÿä¸­è´Ÿè´£ IP åœ°å€ä¸åŸŸåå¿«é€Ÿè§£æçš„æ–‡ä»¶ã€‚&lt;/p>
&lt;p>hosts æ–‡ä»¶åŒ…å«äº† IP åœ°å€å’Œä¸»æœºåä¹‹é—´çš„æ˜ å°„ï¼ŒåŒ…æ‹¬ä¸»æœºåçš„åˆ«åã€‚åœ¨æ²¡æœ‰åŸŸåæœåŠ¡å™¨çš„æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä¸Šçš„æ‰€æœ‰ç½‘ç»œç¨‹åºéƒ½é€šè¿‡æŸ¥è¯¢è¯¥æ–‡ä»¶æ¥è§£æå¯¹åº”äºæŸä¸ªä¸»æœºåçš„ipåœ°å€ï¼Œå¦åˆ™å°±éœ€è¦ä½¿ç”¨DNSæœåŠ¡ç¨‹åºæ¥è§£å†³ã€‚&lt;/p>
&lt;p>&lt;strong>ä¼˜å…ˆçº§ï¼šDNS ç¼“å­˜ &amp;gt; hosts &amp;gt; DNS æœåŠ¡&lt;/strong>&lt;/p>
&lt;h3 id="3-etcsysconfignetwork">3. /etc/sysconfig/network
&lt;/h3>&lt;p>è¯¥æ–‡ä»¶å¯ç”¨äºè®¾å®šæœ¬æœºä¸»æœºåï¼Œï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">NETWORKING&lt;/span>&lt;span class="o">=&lt;/span>yes &lt;span class="c1"># ç½‘ç»œæ˜¯å¦å¯ç”¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">HOSTNAME&lt;/span>&lt;span class="o">=&lt;/span>minimal &lt;span class="c1"># ä¸»æœºå&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="4-etcsysconfignetwork-scriptifcfg-interface-name">4. /etc/sysconfig/network-script/ifcfg-&amp;lt;interface-name&amp;gt;
&lt;/h3>&lt;p>è¿™æ˜¯æ¯ä¸€ä¸ªç½‘ç»œæ¥å£çš„é…ç½®ä¿¡æ¯ã€‚æ¯ä¸€ä¸ªç½‘å¡åªèƒ½ä½¿ç”¨ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå½“æœ‰å¤šä¸ªé…ç½®æ–‡ä»¶æ—¶ï¼Œåé¢è¯»å–çš„é…ç½®æ–‡ä»¶ä¿¡æ¯ä¼šè¦†ç›–å‰é¢çš„é…ç½®ä¿¡æ¯ã€‚&lt;/p>
&lt;h2 id="ä¸‰æŸ¥çœ‹æœ¬æœºç½‘å¡ä¿¡æ¯">ä¸‰ã€æŸ¥çœ‹æœ¬æœºç½‘å¡ä¿¡æ¯
&lt;/h2>&lt;p>ç”±äº Centos æœ€å°åŒ–å®‰è£…åæ˜¯æ²¡æœ‰ ifconfig å‘½ä»¤çš„ï¼Œå› æ­¤æ²¡æœ‰åŠæ³•é€šè¿‡ ifconfig æŸ¥çœ‹ç½‘å¡ç›¸å…³é…ç½®ä¿¡æ¯çš„ã€‚&lt;/p>
&lt;p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦é€šè¿‡ ip å‘½ä»¤æ¥æŸ¥çœ‹ç½‘å¡ä¿¡æ¯ã€‚&lt;/p>
&lt;pre tabindex="0">&lt;code>ip addr æˆ– ip addr show
&lt;/code>&lt;/pre>&lt;p>&lt;img src="https://pic.try-hard.cn/blog/image-20210831160307101.png"
loading="lazy"
alt="image-20210831160307101"
>&lt;/p>
&lt;p>åœ¨è¾“å‡ºå†…å®¹ä¸­æˆ‘ä»¬å¯ä»¥å‘ç°ä¸¤å—ç½‘å¡ï¼š&lt;strong>lo å’Œ ens33&lt;/strong>ã€‚&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>lo&lt;/code>è¡¨ç¤º&lt;code>local&lt;/code>ï¼Œ&lt;code>lo&lt;/code> ç½‘å¡æ˜¯ç”¨äºå›ç¯åœ°å€çš„ç½‘å¡ï¼Œå¹¶ä¸æ˜¯çœŸæ­£æœ‰è¿™æ ·çš„ç‰©ç†ç½‘å¡ï¼Œå®ƒçš„åœ°å€ä¸€èˆ¬æ˜¯&lt;code>127.0.0.1&lt;/code>ï¼Œå›ç¯åœ°å€ä¸€èˆ¬æ˜¯ç”¨äºç½‘ç»œç¨‹åºå¼€å‘ã€ç½‘ç»œç»„ä»¶æµ‹è¯•æ—¶ä¼šç”¨åˆ°ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;blockquote>
&lt;p>æ–°ç‰ˆçš„ CentOS 7 å¼€å§‹å¯¹äºç½‘å¡çš„ç¼–å·æœ‰å¦å¤–ä¸€å¥—è§„åˆ™ï¼Œç½‘å¡çš„ä»£å·ä¸ç½‘å¡çš„æ¥æºæœ‰å…³&lt;/p>
&lt;ul>
&lt;li>eno1ï¼šä»£è¡¨ç”±ä¸»æ¿ bios å†…ç½®çš„ç½‘å¡ï¼›&lt;/li>
&lt;li>ens1:ä»£è¡¨æœ‰ä¸»æ¿ bios å†…ç½®çš„ PCI-E ç½‘å¡ï¼›&lt;/li>
&lt;li>enp2s0: PCI-E ç‹¬ç«‹ç½‘å¡ï¼›&lt;/li>
&lt;li>eth0ï¼šå¦‚æœä»¥ä¸Šéƒ½ä¸ä½¿ç”¨ï¼Œåˆ™å›åˆ°é»˜è®¤çš„ç½‘å¡åã€‚&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>ens33 åˆ™å±äºç¬¬äºŒç§ç±»å‹ï¼Œæ˜¯ä¸€å— PCI-E ç½‘å¡ã€‚å½“å‰ç³»ç»Ÿçš„ ens33 ç½‘å¡å¹¶æ²¡æœ‰ ipv4 åŠ ipv6ï¼Œå› æ­¤å½“å‰ Linux ç³»ç»Ÿæ˜¯æ²¡æœ‰åŠæ³•ä¸Šç½‘çš„ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="å››é…ç½®åŒç½‘å¡">å››ã€é…ç½®åŒç½‘å¡
&lt;/h2>&lt;h3 id="1-æ·»åŠ ç½‘å¡">1. æ·»åŠ ç½‘å¡
&lt;/h3>&lt;p>åœ¨ä¸Šé¢æˆ‘ä»¬å‘ç°æˆ‘ä»¬çš„ Linux åªæœ‰ä¸€å¼ ç½‘å¡ï¼Œæƒ³è¦é…ç½®åŒç½‘å¡çš„è¯éœ€è¦åœ¨è™šæ‹Ÿæœºè®¾ç½®é‡Œå†æ·»åŠ ä¸€å¼ ç½‘å¡ï¼š&lt;/p>
&lt;p>&lt;img src="https://pic.try-hard.cn/blog/image-20210831161959391.png"
loading="lazy"
alt="image-20210831161959391"
>&lt;/p>
&lt;p>æ·»åŠ å¥½åé‡å¯è¿›å…¥ç³»ç»Ÿå°±å¯ä»¥å‘ç°æˆ‘ä»¬å·²ç»æœ‰äº†ä¸¤å¼ ç½‘å¡äº†ï¼ˆens33 å’Œ ens36ï¼‰ï¼š&lt;/p>
&lt;p>&lt;img src="https://pic.try-hard.cn/blog/image-20210831162131115.png"
loading="lazy"
alt="image-20210831162131115"
>&lt;/p>
&lt;h3 id="2-é…ç½®-dhcp">2. é…ç½® DHCP
&lt;/h3>&lt;p>æŸ¥çœ‹ ens33 çš„é…ç½®ä¿¡æ¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>root@localhost ~&lt;span class="o">]&lt;/span>&lt;span class="c1"># cat /etc/sysconfig/network-scripts/ifcfg-ens33 &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">TYPE&lt;/span>&lt;span class="o">=&lt;/span>Ethernet &lt;span class="c1"># ç½‘å¡ç±»å‹ï¼šä¸ºä»¥å¤ªç½‘&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">PROXY_METHOD&lt;/span>&lt;span class="o">=&lt;/span>none &lt;span class="c1"># ä»£ç†æ–¹å¼ï¼šå…³é—­çŠ¶æ€&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">BROWSER_ONLY&lt;/span>&lt;span class="o">=&lt;/span>no &lt;span class="c1"># åªæ˜¯æµè§ˆå™¨ï¼šå¦&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">BOOTPROTO&lt;/span>&lt;span class="o">=&lt;/span>dhcp &lt;span class="c1"># ç½‘å¡çš„å¼•å¯¼åè®®ï¼šDHCP[ä¸­æ–‡åç§°: åŠ¨æ€ä¸»æœºé…ç½®åè®®]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">DEFROUTE&lt;/span>&lt;span class="o">=&lt;/span>yes &lt;span class="c1"># é»˜è®¤è·¯ç”±ï¼šæ˜¯, ä¸æ˜ç™½çš„å¯ä»¥ç™¾åº¦å…³é”®è¯ `é»˜è®¤è·¯ç”±` &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">IPV4_FAILURE_FATAL&lt;/span>&lt;span class="o">=&lt;/span>no &lt;span class="c1"># æ˜¯ä¸å¼€å¯IPV4è‡´å‘½é”™è¯¯æ£€æµ‹ï¼šå¦&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">IPV6INIT&lt;/span>&lt;span class="o">=&lt;/span>yes &lt;span class="c1"># IPV6æ˜¯å¦è‡ªåŠ¨åˆå§‹åŒ–: æ˜¯[ä¸ä¼šæœ‰ä»»ä½•å½±å“, ç°åœ¨è¿˜æ²¡ç”¨åˆ°IPV6]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">IPV6_AUTOCONF&lt;/span>&lt;span class="o">=&lt;/span>yes &lt;span class="c1"># IPV6æ˜¯å¦è‡ªåŠ¨é…ç½®ï¼šæ˜¯[ä¸ä¼šæœ‰ä»»ä½•å½±å“, ç°åœ¨è¿˜æ²¡ç”¨åˆ°IPV6]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">IPV6_DEFROUTE&lt;/span>&lt;span class="o">=&lt;/span>yes &lt;span class="c1"># IPV6æ˜¯å¦å¯ä»¥ä¸ºé»˜è®¤è·¯ç”±ï¼šæ˜¯[ä¸ä¼šæœ‰ä»»ä½•å½±å“, ç°åœ¨è¿˜æ²¡ç”¨åˆ°IPV6]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">IPV6_FAILURE_FATAL&lt;/span>&lt;span class="o">=&lt;/span>no &lt;span class="c1"># æ˜¯ä¸å¼€å¯IPV6è‡´å‘½é”™è¯¯æ£€æµ‹ï¼šå¦&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">IPV6_ADDR_GEN_MODE&lt;/span>&lt;span class="o">=&lt;/span>stable-privacy &lt;span class="c1"># IPV6åœ°å€ç”Ÿæˆæ¨¡å‹ï¼šstable-privacy [è¿™åªä¸€ç§ç”ŸæˆIPV6çš„ç­–ç•¥]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">NAME&lt;/span>&lt;span class="o">=&lt;/span>en3 &lt;span class="c1"># ç½‘ç»œæ¥å£åç§°ï¼Œå³é…ç½®æ–‡ä»¶åååŠéƒ¨åˆ†ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">UUID&lt;/span>&lt;span class="o">=&lt;/span>f47bde51-fa78-4f79-b68f-d5dd90cfc698 &lt;span class="c1"># é€šç”¨å”¯ä¸€è¯†åˆ«ç ,æ¯ä¸€ä¸ªç½‘å¡éƒ½ä¼šæœ‰,ä¸èƒ½é‡å¤,å¦ä¸¤å°linuxåªæœ‰ä¸€å°ç½‘å¡å¯ç”¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">DEVICE&lt;/span>&lt;span class="o">=&lt;/span>ens33 &lt;span class="c1"># ç½‘å¡è®¾å¤‡åç§°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">ONBOOT&lt;/span>&lt;span class="o">=&lt;/span>no &lt;span class="c1"># æ˜¯å¦å¼€æœºå¯åŠ¨ï¼Œè¦æƒ³ç½‘å¡å¼€æœºå°±å¯åŠ¨æˆ–é€šè¿‡ `systemctl restart network`æ§åˆ¶ç½‘å¡,å¿…é¡»è®¾ç½®ä¸º `yes`&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘ä»¬å°† ens33 ç½‘å¡é…ç½®ä¸º&lt;strong>å¼€æœºå¯åŠ¨ã€åŠ¨æ€è·å– IP æ–¹å¼&lt;/strong>ï¼Œç¼–è¾‘ ifcfg-ens33 æ–‡ä»¶ï¼Œä¿®æ”¹ä»¥ä¸‹å‡ é¡¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">ONBOOT&lt;/span>&lt;span class="o">=&lt;/span>yes &lt;span class="c1">#è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">BOOTPROTO&lt;/span>&lt;span class="o">=&lt;/span>dhcp &lt;span class="c1"># ç½‘å¡çš„å¼•å¯¼åè®®ï¼šDHCP[åŠ¨æ€ä¸»æœºé…ç½®åè®®]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">DEVICE&lt;/span>&lt;span class="o">=&lt;/span>ens33 &lt;span class="c1"># è¦é…ç½®çš„ç½‘å¡å&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¿®æ”¹å®Œæˆåé‡å¯ç½‘ç»œæœåŠ¡ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">systemctl restart network
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æˆ– &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">service network restart
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ­¤æ—¶å†æŸ¥çœ‹ï¼Œå¯ä»¥å‘ç° ens33 å·²ç»è·å–åˆ° IP åœ°å€äº†ï¼š&lt;/p>
&lt;p>&lt;img src="https://pic.try-hard.cn/blog/image-20210831164201457.png"
loading="lazy"
alt="image-20210831164201457"
>&lt;/p>
&lt;h3 id="3-é…ç½®é™æ€åœ°å€">3. é…ç½®é™æ€åœ°å€
&lt;/h3>&lt;p>ç”±äºæˆ‘ä»¬æ˜¯åœ¨ç³»ç»Ÿå®‰è£…å®Œæˆä¹‹åå†æ·»åŠ çš„ç½‘å¡ï¼Œå› æ­¤åœ¨ &lt;code>/etc/sysconfig/network-scripts/&lt;/code>ç›®å½•ä¸‹ä¼šæ‰¾ä¸åˆ° &lt;code>ifcfg-ens36&lt;/code> é…ç½®æ–‡ä»¶ï¼Œå› æ­¤è¿™æ—¶æˆ‘ä»¬éœ€è¦å…ˆå°† &lt;code>ifcfg-ens33&lt;/code> çš„æ–‡ä»¶æ‹·è´ä¸€ä»½ï¼Œé‡å‘½åä¸º&lt;code>ifcfg-ens36&lt;/code>ï¼Œå†è¿›è¡Œç½‘å¡é…ç½®ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬å°† ens36 ç½‘å¡é…ç½®ä¸º&lt;strong>å¼€æœºå¯åŠ¨ã€è®¾ç½®é™æ€ IP æ–¹å¼&lt;/strong>ï¼Œç¼–è¾‘ ifcfg-ens36 æ–‡ä»¶ï¼Œä¿®æ”¹ä»¥ä¸‹å‡ é¡¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">DEVICE&lt;/span>&lt;span class="o">=&lt;/span>ens36 &lt;span class="c1"># è¦é…ç½®çš„ç½‘å¡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">ONBOOT&lt;/span>&lt;span class="o">=&lt;/span>yes &lt;span class="c1"># å¼€æœºè‡ªå¯åŠ¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">BOOTPROTO&lt;/span>&lt;span class="o">=&lt;/span>static &lt;span class="c1"># é™æ€ipæ–¹å¼&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">IPADDR&lt;/span>&lt;span class="o">=&lt;/span>192.168.153.134 &lt;span class="c1"># ipv4åœ°å€&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">GATEWAY0&lt;/span>&lt;span class="o">=&lt;/span>192.168.153.2 &lt;span class="c1"># è®¾ç½®ç½‘å…³&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">DNS1&lt;/span>&lt;span class="o">=&lt;/span>255.5.5.5 &lt;span class="c1"># è®¾ç½®DNS&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é…ç½®å®Œæˆåé‡å¯ç½‘ç»œæœåŠ¡å³å¯ã€‚&lt;/p></description></item><item><title>Linuxå¸¸ç”¨ç‰¹æ®Šå­—ç¬¦</title><link>https://wlynxg.github.io/blog/p/linux%E5%B8%B8%E7%94%A8%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/linux%E5%B8%B8%E7%94%A8%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6/</guid><description>&lt;p>åœ¨ Linux ä¸­æœ‰ä¸€äº›ç‰¹æ®Šå­—ç¬¦ï¼Œå®ƒä»¬åœ¨å‘½ä»¤ä¸­æœ‰ç€ç‰¹æ®Šçš„ç”¨æ³•ã€‚æŒæ¡äº†è¿™äº›å­—ç¬¦èƒ½è®©ä½ åœ¨ Linux å­¦ä¹ ä¸­æ›´åŠ å¦‚é±¼å¾—æ°´ã€‚&lt;/p>
&lt;h1 id="ä¸€-">ä¸€ã€ ~
&lt;/h1>&lt;p>æ³¢æµªå· &lt;strong>~&lt;/strong> æŒ‡çš„æ˜¯ä¸»ç›®å½•ï¼Œå³æ˜¯ç”¨æˆ·çš„ä¸ªäººç›®å½•ï¼Œæ— è®ºä½ èº«åœ¨ä½•æ–¹ï¼Œåªè¦è¾“å…¥ &lt;code>cd ~&lt;/code> å°±èƒ½ç«‹å³å›åˆ°ä¸»ç›®å½•&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>GNU@ec Pictures&lt;span class="o">]&lt;/span>$ &lt;span class="nb">cd&lt;/span> ~
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>GNU@ec ~&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="äºŒ">äºŒã€.
&lt;/h1>&lt;p>è‹±æ–‡å¥å· &lt;strong>.&lt;/strong> ä»£è¡¨å½“å‰ç›®å½•ï¼Œä½¿ç”¨ &lt;strong>.&lt;/strong> å¯ä»¥ç¼©çŸ­æˆ‘ä»¬çš„æ–‡ä»¶è·¯å¾„ã€‚
ä½¿ç”¨ &lt;strong>ls&lt;/strong> å‘½ä»¤æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼Œç¬¬ä¸€ä¸ªå°±æ˜¯ &lt;strong>.&lt;/strong> æ–‡ä»¶ï¼š
&lt;img src="https://pic.try-hard.cn/blog/20200303124840273.png"
loading="lazy"
alt="å½“å‰ç›®å½•"
>&lt;/p>
&lt;h1 id="ä¸‰">ä¸‰ã€.
&lt;/h1>&lt;p>ä¸¤ä¸ªè‹±æ–‡å¥å· &lt;strong>.&lt;/strong> ä»£è¡¨ä¸Šçº§ç›®å½•ï¼Œå³çˆ¶ç›®å½•ï¼Œä½¿ç”¨ &lt;strong>..&lt;/strong> å¯ä»¥ç¼©çŸ­æˆ‘ä»¬çš„æ–‡ä»¶è·¯å¾„ã€‚
ä½¿ç”¨ &lt;strong>ls&lt;/strong> å‘½ä»¤æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼Œç¬¬äºŒä¸ªå°±æ˜¯ &lt;strong>..&lt;/strong> æ–‡ä»¶ï¼š
&lt;img src="https://pic.try-hard.cn/blog/2020030312581972.png"
loading="lazy"
alt="ä¸Šçº§ç›®å½•"
>&lt;/p>
&lt;h1 id="å››">å››ã€/
&lt;/h1>&lt;p>æ–œæ  &lt;strong>/&lt;/strong> æ—¢æŒ‡çš„æ˜¯è·¯å¾„ç›®å½•åˆ†éš”ç¬¦ï¼Œä¹ŸæŒ‡çš„æ˜¯æ ¹ç›®å½•ã€‚
åœ¨è¾“å…¥æ–‡ä»¶è·¯å¾„æ—¶ä½¿ç”¨ &lt;strong>/&lt;/strong> åˆ†éš”ä¸åŒç›®å½•ï¼Œä½¿ç”¨ &lt;code>cd /&lt;/code> å‘½ä»¤æ—¶å¯ä»¥ç›´æ¥å›åˆ°æ ¹ç›®å½•ã€‚&lt;/p>
&lt;h1 id="äº”">äº”ã€#
&lt;/h1>&lt;p>ä»¥ &lt;strong>#&lt;/strong> å¼€å¤´çš„è¯æ˜¯æ³¨é‡Š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># GNU&amp;#39;s Not Unix!&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ³¨é‡Šè™½ç„¶ä¼šè¢«è§£é‡Šå™¨å¿½ç•¥ï¼Œä½†æ˜¯å®ƒè¿˜æ˜¯ä¼šæ·»åŠ åˆ°ç”¨æˆ·çš„å‘½ä»¤å†å²è®°å½•ä¸­ã€‚&lt;/p>
&lt;h1 id="å…­">å…­ã€?
&lt;/h1>&lt;p>é—®å· &lt;strong>?&lt;/strong>ï¼Œæ˜¯å•å­—ç¬¦é€šé…ç¬¦ï¼Œå®ƒåœ¨Bash Shellä¸­å¯ä»¥åŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼š
&lt;img src="https://pic.try-hard.cn/blog/20200303131823944.png"
loading="lazy"
alt="å•å­—ç¬¦é€šé…ç¬¦"
>
å¦‚æœæƒ³è¦åŒ¹é…å¤šä¸ªå­—ç¬¦ï¼Œå°±å¯ä»¥è¾“å…¥å¤šä¸ª &lt;strong>?&lt;/strong> ï¼š
&lt;img src="https://pic.try-hard.cn/blog/20200303131954906.png"
loading="lazy"
alt="åŒ¹é…å¤šä¸ªå­—ç¬¦"
>&lt;/p>
&lt;h1 id="ä¸ƒ">ä¸ƒã€*
&lt;/h1>&lt;p>æ˜Ÿå· &lt;strong>*&lt;/strong> ä»£è¡¨çš„æ˜¯ä»»æ„å­—ç¬¦åºåˆ—ï¼ŒåŒ¹é…ä»»æ„å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºå­—ç¬¦ï¼š
&lt;img src="https://pic.try-hard.cn/blog/20200303182941385.png"
loading="lazy"
alt="å­—ç¬¦åºåˆ—é€šé…"
>&lt;/p>
&lt;h1 id="å…«">å…«ã€[]
&lt;/h1>&lt;p>æ–¹æ‹¬å· &lt;strong>[]&lt;/strong> æŒ‡çš„æ˜¯å­—ç¬¦é›†é€šé…ç¬¦ï¼ŒåŒ¹é…è‡³å°‘æœ‰ä¸€ä¸ªå’Œå­—ç¬¦é›†å­—ç¬¦åŒ¹é…çš„å­—ç¬¦ï¼š
&lt;img src="https://pic.try-hard.cn/blog/20200303183248756.png"
loading="lazy"
alt="å­—ç¬¦é›†é€šé…"
>&lt;/p>
&lt;h1 id="ä¹">ä¹ã€;
&lt;/h1>&lt;p>åˆ†å· &lt;strong>;&lt;/strong> ä¸»è¦æ˜¯ç”¨æ¥åˆ†éš”å‘½ä»¤çš„ï¼Œä½¿ç”¨äº† &lt;strong>;&lt;/strong> ä¹‹åå°±å¯ä»¥åœ¨ä¸€è¡Œä¹¦å†™å¤šæ¡å‘½ä»¤ï¼š
&lt;img src="https://pic.try-hard.cn/blog/20200303183642620.png"
loading="lazy"
alt="å‘½ä»¤åˆ†éš”"
>&lt;/p>
&lt;h1 id="å">åã€&amp;lt;
&lt;/h1>&lt;p>åœ¨ Linux ä¸­çš„å¾ˆå¤šå‘½ä»¤å…è®¸æ¥å—ä¸€ä¸ªæ–‡ä»¶ä½œä¸ºå‚æ•°ï¼Œå¹¶ä»è¯¥æ–‡ä»¶ä¸­è·å–æ•°æ®ã€‚è¿™äº›å‘½ä»¤ä¸­çš„å¤§å¤šæ•°è¿˜å¯ä»¥ä»æµä¸­è·å–è¾“å…¥ã€‚è¦åˆ›å»ºä¸€ä¸ªæµï¼Œå¯ä»¥ä½¿ç”¨å·¦å°–æ‹¬å· &amp;ldquo;&amp;lt;&amp;rdquo; ï¼Œå¦‚ä¸‹å°†æ–‡ä»¶é‡å®šå‘åˆ°å‘½ä»¤ä¸­ï¼š
&lt;img src="https://pic.try-hard.cn/blog/20200303200101387.png"
loading="lazy"
alt="è¾“å…¥é‡å®šå‘"
>&lt;/p>
&lt;h1 id="åä¸€">åä¸€ã€&amp;gt;
&lt;/h1>&lt;p>è¾“å…¥å’Œè¾“å‡ºæ˜¯ç›¸åçš„ã€‚å³å°–æ‹¬å· &lt;strong>&amp;gt;&lt;/strong> å°†å‘½ä»¤çš„è¾“å‡ºè¿›è¡Œé‡å®šå‘ï¼Œä¸€èˆ¬æ˜¯å°†è¾“å‡ºç»“æœé‡å®šå‘åˆ°æ–‡ä»¶ä¸­ï¼š
&lt;img src="https://pic.try-hard.cn/blog/20200303200459447.png"
loading="lazy"
alt="è¾“å‡ºé‡å®šå‘"
>&lt;/p>
&lt;h1 id="åäºŒ">åäºŒã€!
&lt;/h1>&lt;p>æ„Ÿå¹å· &lt;strong>!&lt;/strong> åœ¨Linuxä¸­å¯ä»¥ä»£è¡¨ç€å¯ä»¥æ‰§è¡Œé€»è¾‘éè¿ç®—ï¼Œå³å°†å‘½ä»¤çš„è¿”å›å€¼è¿›è¡Œéè¿ç®—ã€‚
æ„Ÿå¹å· &lt;strong>!&lt;/strong> è¿˜å¯ä»¥ä»å†å²å‘½ä»¤ä¸­å–å‡ºä¸€æ¡å‘½ä»¤æ¥æ‰§è¡Œ&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>GNU@ec ~&lt;span class="o">]&lt;/span>&lt;span class="nv">$!&lt;/span>&lt;span class="m">1&lt;/span> &lt;span class="c1"># æ‰§è¡Œç¬¬ä¸€æ¡å‘½ä»¤&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>GNU@ec ~&lt;span class="o">]&lt;/span>&lt;span class="nv">$!&lt;/span>?soft &lt;span class="c1"># æ‰§è¡Œæœ€è¿‘ä¸€æ¬¡åŒ…å«softçš„å‘½ä»¤&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>GNU@ec ~&lt;span class="o">]&lt;/span>&lt;span class="nv">$!&lt;/span>! &lt;span class="c1"># æ‰§è¡Œä¸Šä¸€æ¡å‘½ä»¤&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="åä¸‰">åä¸‰ã€&amp;amp;
&lt;/h1>&lt;p>è¿æ¥ç¬¦ &lt;strong>&amp;amp;&lt;/strong> å¯ä»¥å°†ç¨‹åºæ”¾åˆ°åå°æ‰§è¡Œã€‚åœ¨æ‰§è¡Œå‘½ä»¤ååŠ ä¸Š &lt;strong>&amp;amp;&lt;/strong> å³å¯å°†ç¨‹åºæ”¾åˆ°åå°è¿›è¡Œæ‰§è¡Œã€‚è‹¥æƒ³è¦æ¢å¤è‡³å‰å°æ‰§è¡Œï¼Œä½¿ç”¨ &lt;code>fg [å·¥ä½œå·]&lt;/code> å‘½ä»¤å³å¯ï¼š
&lt;img src="https://pic.try-hard.cn/blog/2020030319035831.png"
loading="lazy"
alt="ç¨‹åºåå°æ‰§è¡Œ"
>
ä¸¤ä¸ªè¿æ¥ç¬¦ &lt;strong>&amp;amp;&amp;amp;&lt;/strong> ä»£è¡¨çš„æ˜¯åš &lt;strong>ä¸”&lt;/strong> è¿ç®—ï¼Œåªæœ‰å‰é¢çš„å‘½ä»¤æ‰§è¡ŒæˆåŠŸæ—¶æ‰èƒ½æ‰§è¡Œåé¢çš„å‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>GNU@ec ~&lt;span class="o">]&lt;/span>$ &lt;span class="o">[&lt;/span>! -d hello&lt;span class="o">]&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> mkdir hello &lt;span class="c1"># å¦‚æœå½“å‰ç›®å½•ä¸‹æ²¡æœ‰helloç›®å½•å°±åˆ›å»ºä¸€ä¸ªhelloç›®å½•&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="åå››è¿æ¥å‘½ä»¤">åå››ã€|ã€è¿æ¥å‘½ä»¤ã€‘
&lt;/h1>&lt;p>&lt;strong>|&lt;/strong> çš„å·¦å³çœ‹æˆå°†å‘½ä»¤é“¾æ¥åœ¨ä¸€èµ·çš„ç®¡é“ï¼Œå®ƒå°†å‰ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºä½œä¸ºåä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥è¿›è¡Œä¼ é€’ï¼š
&lt;img src="https://pic.try-hard.cn/blog/20200303190925366.png"
loading="lazy"
alt="è¿æ¥å‘½ä»¤"
>
&lt;strong>||&lt;/strong> ä»£è¡¨ç€åšæˆ–è¿ç®—ï¼Œå‰é¢çš„å‘½ä»¤æ‰§è¡Œå¤±è´¥æ—¶æ‰§è¡Œåé¢çš„å‘½ä»¤&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>GNU@ec ~&lt;span class="o">]&lt;/span>$ cat hello &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> touch hello &lt;span class="c1"># æŸ¥çœ‹helloæ–‡ä»¶ï¼Œæ²¡æœ‰çš„è¯åˆ›å»ºä¸€ä¸ª&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="åäº”">åäº”ã€$
&lt;/h1>&lt;p>åœ¨Linuxä¸­ä»¥ &lt;strong>$&lt;/strong> å¼€å¤´é€šå¸¸è¡¨ç¤ºå˜é‡ï¼Œä¾‹å¦‚ä¸€äº›ç³»ç»Ÿå˜é‡&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>GNU@ec ~&lt;span class="o">]&lt;/span>$ &lt;span class="nb">echo&lt;/span> &lt;span class="nv">$PATH&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/usr/lib64/qt-3.3/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/home/GNU/.local/bin:/home/GNU/bin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>GNU@ec ~&lt;span class="o">]&lt;/span>$ &lt;span class="nb">echo&lt;/span> &lt;span class="nv">$USER&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">GNU
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="åå…­">åå…­ã€`
&lt;/h1>&lt;p>åå¼•å· &lt;strong>`&lt;/strong> å¯ä»¥ç”¨æ¥æ›¿æ¢å‘½ä»¤ã€‚
å‘½ä»¤æ›¿æ¢æ˜¯æŒ‡Shellå¯ä»¥å…ˆæ‰§è¡Œä¸­çš„å‘½ä»¤ï¼Œå°†è¾“å‡ºç»“æœæš‚æ—¶ä¿å­˜ï¼Œåœ¨é€‚å½“çš„åœ°æ–¹è¾“å‡ºã€‚&lt;strong>è¯­æ³•ï¼š`command`&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>GNU@ecs ~&lt;span class="o">]&lt;/span>$ &lt;span class="nv">dAte&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="sb">`&lt;/span>date&lt;span class="sb">`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>GNU@ecs ~&lt;span class="o">]&lt;/span>$ &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;Date is &lt;/span>&lt;span class="nv">$dAte&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Date is Fri Mar &lt;span class="m">13&lt;/span> 20:31:58 CST &lt;span class="m">2020&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="åä¸ƒå¼•ç”¨ç‰¹æ®Šå­—ç¬¦">åä¸ƒã€å¼•ç”¨ç‰¹æ®Šå­—ç¬¦
&lt;/h1>&lt;p>ç”±äºåœ¨ Linux ä¸­è¿™ä¹ˆå¤šçš„ç‰¹æ®Šå­—ç¬¦éƒ½æœ‰ç€è‡ªå·±çš„ç‹¬ç‰¹çš„ä½œç”¨ï¼Œå½“æˆ‘ä»¬æƒ³å°†è¿™äº›ç‰¹æ®Šå­—ç¬¦å½“ä½œæ™®é€šå­—ç¬¦è¿›è¡Œä½¿ç”¨æ—¶å°±ä¼šæœ‰æŠ¥é”™çš„é£é™©ã€‚å› æ­¤æˆ‘ä»¬å°±éœ€è¦æƒ³åŠæ³•å¯¹è¿™äº›ç‰¹æ®Šå­—ç¬¦è¿›è¡Œè½¬ä¹‰æ“ä½œï¼š&lt;/p>
&lt;ul>
&lt;li>ä½¿ç”¨åŒå¼•å· &lt;strong>&amp;quot; &amp;ldquo;&lt;/strong> æ‹¬èµ·æ¥ï¼Œä¸è¿‡è¿™å¯¹ &lt;strong>$&lt;/strong> æ— æ•ˆ&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>GNU@ec ~&lt;span class="o">]&lt;/span>$ &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;This is a &amp;amp;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">This is a
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>GNU@ec ~&lt;span class="o">]&lt;/span>$ &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;Today is &lt;/span>&lt;span class="k">$(&lt;/span>date&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Today is Tue Mar &lt;span class="m">3&lt;/span> 21:14:06 CST &lt;span class="m">202&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>ç”¨å•å¼•å· &lt;strong>&amp;rsquo; &amp;lsquo;&lt;/strong> æ‹¬èµ·æ¥ï¼Œåœæ­¢æ‰€æœ‰ç‰¹æ®Šå­—ç¬¦çš„åŠŸ&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>GNU@ec ~&lt;span class="o">]&lt;/span>$ &lt;span class="nb">echo&lt;/span> &lt;span class="s1">&amp;#39;This is a |&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">This is a &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ul>
&lt;li>åæ–œæ  &lt;strong>\&lt;/strong> è½¬ä¹‰ï¼Œåœ¨å¤§å¤šæ•°åœºåˆé€šç”¨&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>GNU@ec ~&lt;span class="o">]&lt;/span>$ &lt;span class="nb">echo&lt;/span> This is a &lt;span class="se">\*&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">This is a *
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>Linuxé‡è½½é…ç½®æ–‡ä»¶</title><link>https://wlynxg.github.io/blog/p/linux%E9%87%8D%E8%BD%BD%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/linux%E9%87%8D%E8%BD%BD%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/</guid><description>&lt;p>åœ¨ linux é‡Œï¼Œå½“æˆ‘ä»¬ä¿®æ”¹äº†é…ç½®æ–‡ä»¶ï¼Œä¸æƒ³è®©linuxé‡å¯æ—¶å°±å¯ä»¥é€šè¿‡é‡è½½é…ç½®æ–‡ä»¶ä½¿é…ç½®æ–‡ä»¶ç”Ÿæ•ˆã€‚
ä¾‹å¦‚ï¼Œåˆšä¿®æ”¹ &lt;code>/etc/profile&lt;/code>æ–‡ä»¶ï¼Œæˆ‘æƒ³è®©åˆšåˆšä½œå‡ºçš„ä¿®æ”¹ç«‹åˆ»çœ‹åˆ°æ•ˆæœï¼Œä½†åˆä¸æ„¿æ„é‡å¯ï¼Œè¿™æ—¶ï¼Œå°±å¯ä»¥é€šè¿‡é‡è½½é…ç½®æ–‡ä»¶æ¥ä½¿é…ç½®æ–‡ä»¶ç«‹å³ç”Ÿæ•ˆï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ–¹å¼ä¸€ï¼š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">source&lt;/span> /etc/profile
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ–¹å¼äºŒï¼š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">. /etc/profile
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Psï¼šsourceå‘½ä»¤ä¹Ÿç§°ä¸ºâ€œç‚¹å‘½ä»¤â€ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªç‚¹ç¬¦å·ï¼ˆ.ï¼‰&lt;/p></description></item><item><title>Lxd å®‰è£… Windows è™šæ‹Ÿæœº</title><link>https://wlynxg.github.io/blog/p/lxd-%E5%AE%89%E8%A3%85-windows-%E8%99%9A%E6%8B%9F%E6%9C%BA/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/lxd-%E5%AE%89%E8%A3%85-windows-%E8%99%9A%E6%8B%9F%E6%9C%BA/</guid><description>&lt;h1 id="lxd-å®‰è£…-windows-è™šæ‹Ÿæœº">Lxd å®‰è£… Windows è™šæ‹Ÿæœº
&lt;/h1>&lt;h2 id="å‡†å¤‡å·¥ä½œ">å‡†å¤‡å·¥ä½œ
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">// 1. è¿è¡Œç¯å¢ƒå‡†å¤‡
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo snap install distrobuilder --classic
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo snap install lxd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt install libguestfs-tools wimtools virt-viewer
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">// 2. ä¸‹è½½ windows iso é•œåƒæ–‡ä»¶
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://software-download.microsoft.com/db/Win10_20H2_English_x64.iso?t&lt;span class="o">=&lt;/span>d94b7d1c-76a5-4fc9-9372-0c7e2b74c388&lt;span class="p">&amp;amp;&lt;/span>&lt;span class="nv">e&lt;/span>&lt;span class="o">=&lt;/span>1640042095&lt;span class="p">&amp;amp;&lt;/span>&lt;span class="nv">h&lt;/span>&lt;span class="o">=&lt;/span>efb6561a35f49728f432c77a95eed3fe
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">// 3. åˆ¶ä½œ lxc é•œåƒæ–‡ä»¶
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo distrobuilder repack-windows Win10_20H2_English_x64.iso win.iso
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO Mounting Windows ISO
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO Downloading drivers ISO
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO Mounting driver ISO
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO Modifying WIM file &lt;span class="o">{&lt;/span>&lt;span class="s2">&amp;#34;file&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;boot.wim&amp;#34;&lt;/span>, &lt;span class="s2">&amp;#34;index&amp;#34;&lt;/span>: 2&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO Modifying WIM file &lt;span class="o">{&lt;/span>&lt;span class="s2">&amp;#34;file&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;install.wim&amp;#34;&lt;/span>, &lt;span class="s2">&amp;#34;index&amp;#34;&lt;/span>: 1&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO Modifying WIM file &lt;span class="o">{&lt;/span>&lt;span class="s2">&amp;#34;file&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;install.wim&amp;#34;&lt;/span>, &lt;span class="s2">&amp;#34;index&amp;#34;&lt;/span>: 2&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO Modifying WIM file &lt;span class="o">{&lt;/span>&lt;span class="s2">&amp;#34;file&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;install.wim&amp;#34;&lt;/span>, &lt;span class="s2">&amp;#34;index&amp;#34;&lt;/span>: 3&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO Modifying WIM file &lt;span class="o">{&lt;/span>&lt;span class="s2">&amp;#34;file&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;install.wim&amp;#34;&lt;/span>, &lt;span class="s2">&amp;#34;index&amp;#34;&lt;/span>: 4&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO Modifying WIM file &lt;span class="o">{&lt;/span>&lt;span class="s2">&amp;#34;file&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;install.wim&amp;#34;&lt;/span>, &lt;span class="s2">&amp;#34;index&amp;#34;&lt;/span>: 5&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO Modifying WIM file &lt;span class="o">{&lt;/span>&lt;span class="s2">&amp;#34;file&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;install.wim&amp;#34;&lt;/span>, &lt;span class="s2">&amp;#34;index&amp;#34;&lt;/span>: 6&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO Modifying WIM file &lt;span class="o">{&lt;/span>&lt;span class="s2">&amp;#34;file&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;install.wim&amp;#34;&lt;/span>, &lt;span class="s2">&amp;#34;index&amp;#34;&lt;/span>: 7&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO Modifying WIM file &lt;span class="o">{&lt;/span>&lt;span class="s2">&amp;#34;file&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;install.wim&amp;#34;&lt;/span>, &lt;span class="s2">&amp;#34;index&amp;#34;&lt;/span>: 8&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO Modifying WIM file &lt;span class="o">{&lt;/span>&lt;span class="s2">&amp;#34;file&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;install.wim&amp;#34;&lt;/span>, &lt;span class="s2">&amp;#34;index&amp;#34;&lt;/span>: 9&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO Modifying WIM file &lt;span class="o">{&lt;/span>&lt;span class="s2">&amp;#34;file&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;install.wim&amp;#34;&lt;/span>, &lt;span class="s2">&amp;#34;index&amp;#34;&lt;/span>: 10&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO Modifying WIM file &lt;span class="o">{&lt;/span>&lt;span class="s2">&amp;#34;file&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;install.wim&amp;#34;&lt;/span>, &lt;span class="s2">&amp;#34;index&amp;#34;&lt;/span>: 11&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO Generating new ISO
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INFO Removing cache directory
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åˆ›å»ºä¸è¿è¡Œè™šæ‹Ÿæœº">åˆ›å»ºä¸è¿è¡Œè™šæ‹Ÿæœº
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">// 1. ä½¿ç”¨é»˜è®¤é¡¹åˆå§‹åŒ– lxc é…ç½®
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">// 2. åˆ›å»ºä¸€ä¸ªç©ºçš„è™šæ‹Ÿæœº
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lxc init win10 --empty --vm -c security.secureboot&lt;span class="o">=&lt;/span>&lt;span class="nb">false&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">// 3. ä¸ºè™šæ‹Ÿæœºåˆ†é…ç£ç›˜
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lxc config device override win10 root &lt;span class="nv">size&lt;/span>&lt;span class="o">=&lt;/span>50GiB
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">// 4. åŠ è½½æ‰“åŒ…å¥½çš„ iso é•œåƒ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lxc config device add win10 iso disk &lt;span class="nv">source&lt;/span>&lt;span class="o">=&lt;/span>win.iso boot.priority&lt;span class="o">=&lt;/span>&lt;span class="m">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">// 5. å¼€å§‹è¿è¡Œè™šæ‹Ÿæœº
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">lxc start win10 --console&lt;span class="o">=&lt;/span>vga
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¼€å§‹è¿è¡Œè™šæ‹Ÿæœºåå°±ä¼šè¿›å…¥åˆ°è¿™ä¸ªç•Œé¢ï¼š&lt;/p>
&lt;p>&lt;img src="https://pic.try-hard.cn/blog/1640310873445822500.png"
loading="lazy"
alt="img"
>&lt;/p>
&lt;p>ç„¶åå®Œæˆ windows çš„å®‰è£…æµç¨‹åå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨ windows è™šæ‹Ÿæœºäº†ã€‚&lt;/p>
&lt;p>åç»­å¯ä»¥ä½¿ç”¨ &lt;code>lxc console --type=vga&lt;/code>å¯åŠ¨è™šæ‹Ÿæœºã€‚&lt;/p>
&lt;blockquote>
&lt;p>referenceï¼š&lt;/p>
&lt;ol>
&lt;li>&lt;a class="link" href="https://github.com/lxc/distrobuilder" target="_blank" rel="noopener"
>lxc/distrobuilder: System container image builder for LXC and LXD (github.com)&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://linuxcontainers.org/lxd/docs/master/" target="_blank" rel="noopener"
>LXD documentation (linuxcontainers.org)&lt;/a>&lt;/li>
&lt;/ol>
&lt;/blockquote></description></item><item><title>proc ç›®å½•ä¸ºç©º</title><link>https://wlynxg.github.io/blog/p/proc-%E7%9B%AE%E5%BD%95%E4%B8%BA%E7%A9%BA/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/proc-%E7%9B%AE%E5%BD%95%E4%B8%BA%E7%A9%BA/</guid><description>&lt;p>å½“æˆ‘ä»¬ä½¿ç”¨&lt;strong>ls&lt;/strong>å‘½ä»¤æŸ¥çœ‹ &lt;strong>/proc&lt;/strong> ç›®å½•æ—¶ï¼Œä¼šå‘ç°è¯¥ç›®å½•çš„å¤§å°ä¸º0ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ
åŸæ¥ &lt;strong>/proc&lt;/strong> ç›®å½•æœ¬èº«æ˜¯ä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼ˆvirtual filesystemï¼‰ã€‚è¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰æ•°æ®éƒ½æ˜¯å­˜åœ¨ä¸å†…å­˜ä¹‹ä¸­ï¼Œä¾‹å¦‚ç³»ç»Ÿå†…æ ¸ã€è¿›ç¨‹ã€å¤–éƒ¨è®¾å¤‡çŠ¶æ€åŠç½‘ç»œçŠ¶æ€ç­‰ã€‚å› ä¸ºè¿™ä¸ªæ–‡ä»¶çš„ç›®å½•åœ¨å†…å­˜ä¸­ï¼Œå› æ­¤æœ¬èº«ä¸å ç”¨ä»»ä½•ç¡¬ç›˜ç©ºé—´ã€‚&lt;/p></description></item><item><title>rsylog ä¿å­˜åˆ° sqlite</title><link>https://wlynxg.github.io/blog/p/rsylog-%E4%BF%9D%E5%AD%98%E5%88%B0-sqlite/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/rsylog-%E4%BF%9D%E5%AD%98%E5%88%B0-sqlite/</guid><description>&lt;h1 id="rsylog-ä¿å­˜åˆ°-sqlite">rsylog ä¿å­˜åˆ° sqlite
&lt;/h1>&lt;h2 id="ä¸€ç¼–è¯‘-rsylog">ä¸€ã€ç¼–è¯‘ rsylog
&lt;/h2>&lt;p>ç”±äºç³»ç»Ÿè‡ªå¸¦çš„ rsylog é»˜è®¤æ˜¯æ²¡æœ‰å¯ç”¨ä¿å­˜åˆ°æ•°æ®åº“çš„æ¨¡å—çš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨ç¼–è¯‘å®‰è£… rsylogï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. ä¸‹è½½ rsylog æºç &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://www.rsyslog.com/download/files/download/rsyslog/rsyslog-8.2208.0.tar.gz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. è§£å‹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tar xvf rsyslog-8.2208.0.tar.gz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3. é…ç½®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> rsyslog-8.2208.0/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">./configure --enable-libdbi --enable-mysql
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 4. ç¼–è¯‘å®‰è£…&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">make &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> make install
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¼–è¯‘è¿‡ç¨‹ä¸­å¯èƒ½ä¼šé‡åˆ°ç¯å¢ƒç¼ºå¤±é”™è¯¯ï¼Œä¸‹é¢åˆ—ä¸¾ä¸€ä¸‹è‡ªå·±ç¼–è¯‘è¿‡ç¨‹ä¸­é‡åˆ°çš„é”™è¯¯ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">error:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">configure: error: The pkg-config script could not be found or is too old. Make sure it
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">is in your PATH or &lt;span class="nb">set&lt;/span> the PKG_CONFIG environment variable to the full
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">path to pkg-config.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">solution:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install pkg-config
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">error:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">configure: error: Package requirements &lt;span class="o">(&lt;/span>libestr &amp;gt;&lt;span class="o">=&lt;/span> 0.1.9&lt;span class="o">)&lt;/span> were not met:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">No package &lt;span class="s1">&amp;#39;libestr&amp;#39;&lt;/span> found
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">solution:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install libestr-dev
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">error:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">configure: error: Package requirements &lt;span class="o">(&lt;/span>libfastjson &amp;gt;&lt;span class="o">=&lt;/span> 0.99.8&lt;span class="o">)&lt;/span> were not met:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">No package &lt;span class="s1">&amp;#39;libfastjson&amp;#39;&lt;/span> found
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">solution:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install libfastjson-dev
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">error:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">configure: error: libdbi is missing
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">solution:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install libdbi-dev
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">error:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">configure: error: Package requirements &lt;span class="o">(&lt;/span>uuid&lt;span class="o">)&lt;/span> were not met:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">No package &lt;span class="s1">&amp;#39;uuid&amp;#39;&lt;/span> found
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">solution:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install uuid-dev
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">error:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">configure: error: libgcrypt-config not found in PATH
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">solution:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install libgcrypt20-dev
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">error:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">configure: error: Package requirements &lt;span class="o">(&lt;/span>libcurl&lt;span class="o">)&lt;/span> were not met:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">No package &lt;span class="s1">&amp;#39;libcurl&amp;#39;&lt;/span> found
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">solution:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install libcurl4-openssl-dev
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">error:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">configure: error: zlib library and headers not found
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">solution:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install zlib1g-dev
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">error:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">config.status: error: Something went wrong bootstrapping makefile fragments
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> automatic dependency tracking. Try re-running configure with the
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;--disable-dependency-tracking&amp;#39;&lt;/span> option to at least be able to build
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> the package &lt;span class="o">(&lt;/span>albeit without support &lt;span class="k">for&lt;/span> automatic dependency tracking&lt;span class="o">)&lt;/span>.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">solution:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install make
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>
&lt;pre tabindex="0">&lt;code>
apt-get install libmysqlclient-dev
&lt;/code>&lt;/pre>&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code>apt install libdbd-sqlite3
&lt;/code>&lt;/pre></description></item><item><title>snap å­¦ä¹ </title><link>https://wlynxg.github.io/blog/p/snap-%E5%AD%A6%E4%B9%A0/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/snap-%E5%AD%A6%E4%B9%A0/</guid><description>&lt;h1 id="snap-å­¦ä¹ ">Snap å­¦ä¹ 
&lt;/h1>&lt;h2 id="ä¸€ä»»åŠ¡è¦æ±‚">ä¸€ã€ä»»åŠ¡è¦æ±‚
&lt;/h2>&lt;blockquote>
&lt;p>1ã€æè¿°å·¥å…·çš„ä½¿ç”¨ï¼Œé€‚é…çš„æ¶æ„ï¼Œå·²çŸ¥å­˜åœ¨çš„ç¼ºé™·
2ã€åˆ†æå·¥å…·ä¸­åº”ç”¨çš„é…ç½®ç®¡ç†æ–¹å¼
3ã€è°ƒç ”å¦‚æœåœ¨snapä¸Šå‘å¸ƒé›†æˆåº”ç”¨ï¼Œæ¯”å¦‚ç¬¬ä¸‰æ–¹å¦‚ä½•åˆ¶ä½œåº”ç”¨æ·»åŠ ä¸Šå»
4ã€snapè‡ªèº«çš„å¯¹åº”ç”¨çš„è¿è¡Œè¿‡ç¨‹ç®¡ç†ï¼Œå®ç°çš„æ ¸å¿ƒåŸç†&lt;/p>
&lt;/blockquote>
&lt;h2 id="äºŒæ”¯æŒ">äºŒã€æ”¯æŒ
&lt;/h2>&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: center">ç³»ç»Ÿ\æ¶æ„&lt;/th>
&lt;th style="text-align: center">amd64&lt;/th>
&lt;th style="text-align: center">arm64&lt;/th>
&lt;th style="text-align: center">armel&lt;/th>
&lt;th style="text-align: center">armhf&lt;/th>
&lt;th style="text-align: center">i386&lt;/th>
&lt;th style="text-align: center">ppc64el&lt;/th>
&lt;th style="text-align: center">s390x&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: center">Debian&lt;/td>
&lt;td style="text-align: center">âˆš&lt;/td>
&lt;td style="text-align: center">âˆš&lt;/td>
&lt;td style="text-align: center">âˆš&lt;/td>
&lt;td style="text-align: center">âˆš&lt;/td>
&lt;td style="text-align: center">âˆš&lt;/td>
&lt;td style="text-align: center">âˆš&lt;/td>
&lt;td style="text-align: center">âˆš&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">Ubuntu&lt;/td>
&lt;td style="text-align: center">âˆš&lt;/td>
&lt;td style="text-align: center">âˆš&lt;/td>
&lt;td style="text-align: center">Ã—&lt;/td>
&lt;td style="text-align: center">âˆš&lt;/td>
&lt;td style="text-align: center">âˆš&lt;/td>
&lt;td style="text-align: center">âˆš&lt;/td>
&lt;td style="text-align: center">âˆš&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">Arch&lt;/td>
&lt;td style="text-align: center">âˆš&lt;/td>
&lt;td style="text-align: center">Ã—&lt;/td>
&lt;td style="text-align: center">Ã—&lt;/td>
&lt;td style="text-align: center">Ã—&lt;/td>
&lt;td style="text-align: center">Ã—&lt;/td>
&lt;td style="text-align: center">Ã—&lt;/td>
&lt;td style="text-align: center">Ã—&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">Fedora&lt;/td>
&lt;td style="text-align: center">âˆš&lt;/td>
&lt;td style="text-align: center">âˆš&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;td style="text-align: center">&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="é›¶ç¢çŸ¥è¯†">é›¶ç¢çŸ¥è¯†
&lt;/h2>&lt;h3 id="1-snap-åº”ç”¨æŒ‚è½½">1. snap åº”ç”¨æŒ‚è½½
&lt;/h3>&lt;p>&lt;code>.snap&lt;/code>åŒ…æ˜¯&lt;code>squashfs&lt;/code>æ–‡ä»¶ç³»ç»Ÿçš„ã€‚ &lt;code>/var/lib/snapd/snaps/app.snap&lt;/code>æ–‡ä»¶è¢«æŒ‚è½½åˆ°äº† &lt;code>/snap/app&lt;/code>ä¸‹ã€‚&lt;/p>
&lt;h3 id="2-snap-åº”ç”¨æ„å»ºç”Ÿå‘½å‘¨æœŸ">2. snap åº”ç”¨æ„å»ºç”Ÿå‘½å‘¨æœŸ
&lt;/h3>&lt;pre tabindex="0">&lt;code>These plugins implement a lifecycle over the following steps:
- pull: retrieve the source for the part from the specified location
- build: drive the build system determined by the choice of plugin
- stage: consolidate desirable files from all the parts in one tree
- prime: distill down to only the files which will go into the snap
- snap: compress the prime tree into the installable snap file
&lt;/code>&lt;/pre>&lt;h3 id="3-ubuntu-core-20">3. Ubuntu Core 20
&lt;/h3>&lt;p>Ubuntu Core 20æ˜¯ä¸€ä¸ªè½»é‡ï¼Œå®¹å™¨åŒ–ï¼ŒåŸºäºUbuntu 20.04 LTSä¸”ä¸ºç‰©è”ç½‘è®¾å¤‡å’ŒåµŒå…¥å¼ç³»ç»Ÿæ‰€æ‰“é€ çš„ç‰ˆæœ¬ï¼Œç°åœ¨å·²ç»æ™®éå¯ç”¨ã€‚æ–°ç‰ˆæœ¬å†…å»ºçš„å®‰å…¨æ›´æ–°ä¸¥æ ¼é™åˆ¶ç­–ç•¥ä½¿åˆ›æ–°è€…èƒ½å¤Ÿå¼€å‘é«˜å®‰å…¨çš„äº§å“å’Œæ–¹æ¡ˆï¼Œå¹¶å®Œå…¨ä¸“æ³¨äºè‡ªå·±ç‹¬ç‰¹çš„åŠŸèƒ½å’Œåº”ç”¨ç¨‹åºã€‚Ubuntu Core 20ç”±å®‰å…¨ã€å¹¿æ³›ä½¿ç”¨ã€æ˜“å¼€å‘ç»´æŠ¤çš„snapç»„æˆï¼Œä¸“ä¸ºä¼ä¸šçº§ç”Ÿäº§å’Œå¤§è§„æ¨¡éƒ¨ç½²å’Œè¿è¥è€Œè®¾è®¡ã€‚&lt;/p>
&lt;p>ä¸åŒäºä¼ ç»Ÿçš„Linuxï¼Œåœ¨Ubuntu Coreçš„æ¶æ„ä¸Šä½¿ç”¨snapæ¶æ„å³ä»Linuxå†…æ ¸åˆ°åº”ç”¨å±‚éƒ½æ˜¯ä»¥snapåŒ…çš„å½¢å¼å‡ºç°ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒLinuxå†…æ ¸å•ç‹¬æ˜¯ä¸€ä¸ªsnapï¼Œä¸Šé¢ä¸€å±‚æ˜¯Core snapï¼Œå†ä¸Šä¸€å±‚æ˜¯snapåº”ç”¨ç¨‹åºã€‚&lt;/p>
&lt;p>&lt;img src="https://pic.try-hard.cn/blog/2022/12/13/20221213-142244.jpg"
loading="lazy"
alt="img"
>&lt;/p>
&lt;h2 id="ä¸‰snap-ç¼ºç‚¹">ä¸‰ã€Snap ç¼ºç‚¹
&lt;/h2>&lt;p>ç¼ºç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>æ— æ³•é’ˆå¯¹å•ä¸ªè½¯ä»¶åŒ…å¯ç”¨ç¦æ­¢æ›´æ–°ï¼Œå¦‚æœè¯¥è½¯ä»¶åŒ…æ²¡æœ‰å‘ä¸‹å…¼å®¹ï¼Œé‚£ä¹ˆä¼šå¯¼è‡´ä¾èµ–è¯¥è½¯ä»¶çš„å…¶ä»–è½¯ä»¶å‡ºç°é—®é¢˜&lt;/li>
&lt;li>snapçš„å®‰å…¨æœºåˆ¶ä¾èµ–äº APPArmorï¼ŒLinuxç³»ç»Ÿåªèƒ½æœ‰ä¸€ä¸ªLSMè¿è¡Œï¼Œå¦‚æœLinuxè¿˜å¯ç”¨äº†å…¶ä»–LSMï¼Œsnapçš„å®‰å…¨æœºåˆ¶æ— æ³•å¾—åˆ°ä¿è¯&lt;/li>
&lt;/ul></description></item><item><title>snap åº”ç”¨æ„å»ºå…¥é—¨(Go è¯­è¨€)</title><link>https://wlynxg.github.io/blog/p/snap-%E5%BA%94%E7%94%A8%E6%9E%84%E5%BB%BA%E5%85%A5%E9%97%A8go-%E8%AF%AD%E8%A8%80/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/snap-%E5%BA%94%E7%94%A8%E6%9E%84%E5%BB%BA%E5%85%A5%E9%97%A8go-%E8%AF%AD%E8%A8%80/</guid><description>&lt;h1 id="snap-åº”ç”¨æ„å»ºå…¥é—¨go-è¯­è¨€">snap åº”ç”¨æ„å»ºå…¥é—¨(Go è¯­è¨€)
&lt;/h1>&lt;h2 id="ä¸€ä»‹ç»">ä¸€ã€ä»‹ç»
&lt;/h2>&lt;blockquote>
&lt;p>snapæ˜¯Canoncialå…¬å¸æå‡ºçš„æ–°ä¸€ä»£linuxåŒ…ç®¡ç†å·¥å…·ï¼Œè‡´åŠ›äºå°†æ‰€æœ‰linuxå‘è¡Œç‰ˆä¸Šçš„åŒ…æ ¼å¼ç»Ÿä¸€ï¼Œåšåˆ°â€œä¸€æ¬¡æ‰“åŒ…ï¼Œåˆ°å¤„ä½¿ç”¨â€ã€‚ç›®å‰snapå·²ç»å¯ä»¥åœ¨åŒ…æ‹¬Ubuntuã€Fedoraã€Mintç­‰å¤šä¸ªLinuxå‘è¡Œç‰ˆä¸Šä½¿ç”¨ã€‚&lt;/p>
&lt;p>snapcraft æ˜¯ä¸€ä¸ªæ­£åœ¨ä¸ºå…¶åœ¨ Linux ä¸­çš„åœ°ä½è€Œå¥‹æ–—çš„åŒ…ç®¡ç†ç³»ç»Ÿï¼Œå®ƒä¸ºä½ é‡æ–°è®¾æƒ³äº†åˆ†å‘è½¯ä»¶çš„æ–¹å¼ã€‚è¿™å¥—æ–°çš„è·¨å‘è¡Œç‰ˆçš„å·¥å…·å¯ä»¥ç”¨æ¥å¸®åŠ©ä½ æ„å»ºå’Œå‘å¸ƒ snap è½¯ä»¶åŒ…ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="äºŒå‡†å¤‡å·¥ä½œ">äºŒã€å‡†å¤‡å·¥ä½œ
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. å®‰è£… snap&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt install snapd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">snap version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">output:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">snap 2.53+21.10ubuntu1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">snapd 2.53+21.10ubuntu1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">series &lt;span class="m">16&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ubuntu 21.10
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">kernel 5.13.0-22-generic
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. å®‰è£… snapcraft&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo snap install --classic snapcraft
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">snapcraft version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">output:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">snapcraft, version 6.0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ä¸‰åˆå§‹åŒ–-snacraft-é¡¹ç›®">ä¸‰ã€åˆå§‹åŒ– snacraft é¡¹ç›®
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. åˆ›å»ºç›®å½•&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir gosnap
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> gosnap
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir hello
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> snap
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. åˆå§‹åŒ–é¡¹ç›®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">snapcraft init
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å½“å‰ç›®å½•å¦‚ä¸‹:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ snap
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ snapcraft.yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>snapcraft.yaml&lt;/code>æ–‡ä»¶å°±æ˜¯æˆ‘ä»¬æ„å»ºé¡¹ç›®æ—¶éœ€è¦ä½¿ç”¨çš„é…ç½®æ–‡ä»¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">my-snap-name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># you probably want to &amp;#39;snapcraft register &amp;lt;name&amp;gt;&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">base&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">core18&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># the base snap is the execution environment for this snap&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;0.1&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># just for humans, typically &amp;#39;1.2+git&amp;#39; or &amp;#39;1.3.2&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">summary&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Single-line elevator pitch for your amazing snap&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 79 char long summary&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">description&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> This is my-snap&amp;#39;s description. You have a paragraph or two to tell the
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> most important story about your snap. Keep it under 100 words though,
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> we live in tweetspace and your description wants to look good in the snap
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> store.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">grade&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">devel&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># must be &amp;#39;stable&amp;#39; to release into candidate/stable channels&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">confinement&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">devmode&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># use &amp;#39;strict&amp;#39; once you have the right plugs and slots&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…³äºè¿™ä¸ªé…ç½®æ–‡ä»¶çš„æ›´å¤šä¿¡æ¯å¯ä»¥æŸ¥çœ‹å®˜æ–¹æ‰‹å†Œï¼š&lt;a class="link" href="https://snapcraft.io/docs/snapcraft-yaml-reference" target="_blank" rel="noopener"
>Snapcraft.yaml reference | Snapcraft documentation&lt;/a>&lt;/p>
&lt;h2 id="å››åˆ›å»º-go-é¡¹ç›®">å››ã€åˆ›å»º Go é¡¹ç›®
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. åˆ›å»ºæ–‡ä»¶å¤¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir src
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> src
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. åˆ›å»º go é¡¹ç›®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">go mod init gohello
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim main.hello
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¾“å…¥ä»¥ä¸‹ä»£ç ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="s">&amp;#34;fmt&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;hello world&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å½“å‰é¡¹ç›®æ–‡ä»¶å¦‚ä¸‹ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>.
â””â”€â”€ hello
â””â”€â”€ snap
â”œâ”€â”€ snapcraft.yaml
â””â”€â”€ src
â”œâ”€â”€ go.mod
â””â”€â”€ main.go
&lt;/code>&lt;/pre>&lt;h2 id="äº”ä¿®æ”¹é…ç½®æ–‡ä»¶">äº”ã€ä¿®æ”¹é…ç½®æ–‡ä»¶
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">gohello&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">base&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">core20&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;0.1&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">summary&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Hello World!&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">description&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="sd"> This is my-snap&amp;#39;s description.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">grade&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">devel &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">confinement&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">devmode&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">parts&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">my-part&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">source&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">src/&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">plugin&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">go&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">apps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">gohello&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">command&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">bin/gohello&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="å…­æ„å»º-snap-åº”ç”¨">å…­ã€æ„å»º snap åº”ç”¨
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> snap
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ls
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">output:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">snapcraft.yaml src
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¼€å§‹æ„å»º&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">snapcraft
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç¬¬ä¸€æ¬¡æ„å»ºçš„æ—¶å€™ä¼šå‡ºç°é€‰æ‹©ä½¿ç”¨ &lt;code>multipass&lt;/code>ï¼Œè¾“å…¥ &lt;code>y&lt;/code>ã€‚&lt;/p>
&lt;p>ç´§æ¥ç€å°±ä¼šå¼€å§‹è¿›è¡Œæ„å»ºï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>Snapcraft is running in directory &amp;#39;snap&amp;#39;. If this is the snap assets directory, please run snapcraft from /root/gosnap/hello.
Launching a VM.
.......
&lt;/code>&lt;/pre>&lt;p>æ„å»ºè¿‡ç¨‹ååˆ†ç¼“æ…¢ï¼Œæ„å»ºå®Œæˆååˆ™ä¼šåœ¨å½“å‰æ–‡ä»¶å¤¹ä¸‹å‡ºç°ä¸€ä¸ª &lt;code>gohello_0.1_amd64.snap&lt;/code> æ–‡ä»¶ã€‚&lt;/p>
&lt;h2 id="ä¸ƒå®‰è£…-snap-åº”ç”¨">ä¸ƒã€å®‰è£… snap åº”ç”¨
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo snap install --devmode gohello_0.1_amd64.snap
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">output:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gohello 0.1 installed
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ‰§è¡Œåº”ç”¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">gohello
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">output:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hello world
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‡³æ­¤æˆ‘ä»¬çš„snapåº”ç”¨å°±å·²ç»æ„å»ºå®‰è£…å®Œæ¯•ã€‚&lt;/p>
&lt;h2 id="å…«é—®é¢˜æ€»ç»“">å…«ã€é—®é¢˜æ€»ç»“
&lt;/h2>&lt;h3 id="1-multipass-é—®é¢˜">1. multipass é—®é¢˜
&lt;/h3>&lt;p>å½“æ„å»ºè¿‡ç¨‹ä¸­é‡åˆ° multipass é—®é¢˜æ—¶ï¼Œå¦‚è¿™ç§ï¼š&lt;/p>
&lt;pre tabindex="0">&lt;code>An error occurred with the instance when trying to launch with &amp;#39;multipass&amp;#39;: returned exit code 2.
Ensure that &amp;#39;multipass&amp;#39; is setup correctly and try again.
&lt;/code>&lt;/pre>&lt;p>å¯ä»¥é€‰æ‹©é‡å¯ multipass æœåŠ¡ï¼Œå†é‡æ–°æ„å»ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo systemctl restart snapd.multipass.multipassd.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>ssh å…å¯†ç™»å½•</title><link>https://wlynxg.github.io/blog/p/ssh-%E5%85%8D%E5%AF%86%E7%99%BB%E5%BD%95/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/ssh-%E5%85%8D%E5%AF%86%E7%99%BB%E5%BD%95/</guid><description>&lt;h1 id="ssh-å…å¯†ç™»å½•">SSH å…å¯†ç™»å½•
&lt;/h1>&lt;h2 id="å‰è¨€">å‰è¨€
&lt;/h2>&lt;blockquote>
&lt;p>ç›®æ ‡ï¼šWin10 å…å¯†ç™»å½• Centos&lt;/p>
&lt;p>Psï¼šåœ¨é…ç½® ssh å…å¯†ç™»å½•å‰é¦–å…ˆè¦ä¿è¯å®¢æˆ·æœºå’ŒæœåŠ¡å™¨ä¹‹é—´èƒ½å¤Ÿäº’ç›¸ pingï¼Œå¹¶ä¸”å¼€æ”¾å®¢æˆ·æœºå’ŒæœåŠ¡å™¨çš„ 22 ç«¯å£ï¼ˆä¹Ÿå¯ä»¥è®¾ç½®ç«¯å£è½¬å‘ï¼‰ï¼Œå…ˆå°è¯•ä¸€ä¸‹ä½¿ç”¨ ssh æ˜¯å¦èƒ½å¤Ÿç™»å½•ï¼Œå†æ¥é…ç½® ssh å…å¯†ç™»å½•ã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="windows">Windows
&lt;/h2>&lt;p>æ‰“å¼€ cmdï¼Œè¾“å…¥ &lt;code>ssh-keygen&lt;/code>é…ç½®å¥½ä¿¡æ¯ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬ç”Ÿæˆå…¬é’¥å’Œç§é’¥ã€‚æ–‡ä»¶ä½äº &lt;code>C: \Users\(User)\.ssh&lt;/code>ç›®å½•ä¸‹ï¼Œåç»­æˆ‘ä»¬éœ€è¦å°†&lt;code>id_rsa.pub&lt;/code>æ–‡ä»¶ä¸Šä¼ è‡³ä¸Šä¼ è‡³æœåŠ¡å™¨ã€‚&lt;/p>
&lt;h2 id="linux">Linux
&lt;/h2>&lt;p>åŒæ ·æ˜¯è¿è¡Œ &lt;code>ssh-keygen&lt;/code>å‘½ä»¤ï¼Œå¹¶é…ç½®å¥½ä¿¡æ¯ï¼Œç³»ç»Ÿä¼šä¸ºæˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆå…¬é’¥å’Œç§é’¥ã€‚æ–‡ä»¶ä½äº &lt;code>/user/.ssh/&lt;/code> æ–‡ä»¶å¤¹ä¸‹ã€‚&lt;/p>
&lt;h2 id="é…ç½®æ–‡ä»¶">é…ç½®æ–‡ä»¶
&lt;/h2>&lt;p>æ‰“å¼€ Win10 çš„ cmdï¼Œåˆ©ç”¨ &lt;code>scp&lt;/code> å‘½ä»¤å°† &lt;code>id_rsa.pub&lt;/code> æ–‡ä»¶æ‹·è´è‡³ Linux ä¸‹ï¼Œä¸ºäº†é¿å…é‡åï¼Œæˆ‘ä»¬å°†æ–‡ä»¶é‡å‘½åä¸€ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">scp id_rsa.pub root@192.168.153.134:/root/.ssh/id_rsa.pub.win
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿›å…¥ Linux ç»ˆç«¯ï¼Œè¿›å…¥ &lt;code>/root/.ssh/&lt;/code>ç›®å½•ä¸‹ï¼Œå°†&lt;code>id_rsa.pub.win&lt;/code>æ–‡ä»¶å†™å…¥ &lt;code>authorized_keys&lt;/code>ï¼Œå¦‚æœæ–‡ä»¶å¤¹ä¸‹æ²¡æœ‰ &lt;code>authorized_keys&lt;/code>æ–‡ä»¶ï¼Œåˆ™è‡ªè¡Œåˆ›å»ºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">touch authorized_keys &lt;span class="c1"># è‹¥æ²¡æœ‰æ–‡ä»¶åˆ™åˆ›å»ºä¸€ä¸ª&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat id_rsa.pub.win &amp;gt;&amp;gt; authorized_keys &lt;span class="c1"># è¿½åŠ å†…å®¹åˆ° authorized_keys æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ­¤æ—¶å†æ¬¡æ‰“å¼€ cmdï¼Œå°è¯• ssh ç™»å½•ï¼Œå‘ç°æ­¤æ—¶å·²ç»ä¸éœ€è¦å¯†ç äº†ã€‚&lt;/p></description></item><item><title>Tailscale å®‰è£…</title><link>https://wlynxg.github.io/blog/p/tailscale-%E5%AE%89%E8%A3%85/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/tailscale-%E5%AE%89%E8%A3%85/</guid><description>&lt;h1 id="tailscale-å®‰è£…">Tailscale å®‰è£…
&lt;/h1>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 1. ä¸‹è½½å®‰è£…åŒ…&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://pkgs.tailscale.com/stable/tailscale_1.34.2_amd64.tgz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 2. è§£å‹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tar zxvf tailscale_1.34.2_amd64.tgz
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">output:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tailscale_1.34.2_amd64/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tailscale_1.34.2_amd64/tailscale
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tailscale_1.34.2_amd64/tailscaled
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tailscale_1.34.2_amd64/systemd/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tailscale_1.34.2_amd64/systemd/tailscaled.defaults
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tailscale_1.34.2_amd64/systemd/tailscaled.service
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 3. æ‹·è´ç¨‹åº&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cp tailscale_1.34.2_amd64/tailscale /usr/bin/tailscale
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cp tailscale_1.34.2_amd64/tailscaled /usr/sbin/tailscaled
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 4. æ‹·è´ service ç¨‹åº&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cp tailscale_1.34.2_amd64/systemd/tailscaled.service /lib/systemd/system/tailscaled.service
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 5. å°†ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶å¤åˆ¶åˆ°ç³»ç»Ÿè·¯å¾„ä¸‹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cp tailscale_1.34.2_amd64/systemd/tailscaled.defaults /etc/default/tailscaled
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 5. å¯åŠ¨ tailscaled.service å¹¶è®¾ç½®å¼€æœºè‡ªå¯&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> --now tailscaled
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># 6. æŸ¥çœ‹æœåŠ¡çŠ¶æ€&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl status tailscaled.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>æœåŠ¡çƒ­é‡è½½å®ç°æ€è·¯</title><link>https://wlynxg.github.io/blog/p/%E6%9C%8D%E5%8A%A1%E7%83%AD%E9%87%8D%E8%BD%BD%E5%AE%9E%E7%8E%B0%E6%80%9D%E8%B7%AF/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/%E6%9C%8D%E5%8A%A1%E7%83%AD%E9%87%8D%E8%BD%BD%E5%AE%9E%E7%8E%B0%E6%80%9D%E8%B7%AF/</guid><description>&lt;h1 id="æœåŠ¡çƒ­é‡è½½å®ç°æ€è·¯">æœåŠ¡çƒ­é‡è½½å®ç°æ€è·¯
&lt;/h1>&lt;blockquote>
&lt;p>&lt;strong>çƒ­é‡å¯&lt;/strong>ï¼ˆå¹³æ»‘é‡å¯ã€çƒ­ä¿®å¤ï¼‰æ˜¯æŒ‡åœ¨ä¸ä¸­æ–­å·²æœ‰è¯·æ±‚çš„çŠ¶æ€ä¸‹å¯¹æœåŠ¡è¿›è¡Œé‡å¯ã€‚ä¾‹å¦‚ nginx åœ¨ä¸æ–­å¼€è¿æ¥çš„æƒ…å†µä¸‹é‡æ–°åŠ è½½æ–°é…ç½®ï¼Œå¾®æœåŠ¡åœ¨ä¸æ–­ä¸šåŠ¡çš„æƒ…å†µä¸‹å®Œæˆçƒ­å‡çº§ï¼Œè¿™äº›éƒ½æ˜¯çƒ­é‡å¯çš„ä¸€äº›åº”ç”¨ã€‚&lt;/p>
&lt;/blockquote>
&lt;p>åœ¨ Linux æœåŠ¡å™¨ä¸Šå®ç°çƒ­é‡å¯ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š&lt;strong>è¦†ç›–æ¨¡å¼&lt;/strong>å’Œ&lt;strong>ç®¡ç†è€…æ¨¡å¼&lt;/strong>ã€‚&lt;/p>
&lt;h2 id="è¦†ç›–æ¨¡å¼">è¦†ç›–æ¨¡å¼
&lt;/h2>&lt;p>è¯¥æ¨¡å¼ä¸‹ï¼Œçˆ¶è¿›ç¨‹ä¼š fork å‡ºå­è¿›ç¨‹ï¼Œå°†è‡ªèº«å æœ‰çš„æ–‡ä»¶èµ„æºäº¤ç»™å­è¿›ç¨‹ï¼Œå­è¿›ç¨‹åˆ›å»ºå®Œæˆåé€šçŸ¥çˆ¶è¿›ç¨‹é€€å‡ºå¹¶å¼€å§‹æ¥æ”¶æ–°çš„è¿æ¥ï¼Œçˆ¶è¿›ç¨‹æ”¶åˆ°é€šçŸ¥åå°±ä¸å†æ¥æ”¶æ–°çš„è¿æ¥ï¼Œå°†å½“å‰è¿æ¥å¤„ç†å®Œæˆåçˆ¶è¿›ç¨‹å°±ä¼šé€€å‡ºï¼Œå­è¿›ç¨‹æ­¤æ—¶å°±ä»£æ›¿äº†çˆ¶è¿›ç¨‹æˆä¸ºæ–°çš„æœåŠ¡ç¨‹åºã€‚æµç¨‹å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p>
&lt;p>&lt;img src="https://pic.try-hard.cn/blog/image-20220301182856643.png"
loading="lazy"
alt="image-20220301182856643"
>&lt;/p>
&lt;h2 id="ç®¡ç†è€…æ¨¡å¼">ç®¡ç†è€…æ¨¡å¼
&lt;/h2>&lt;p>åœ¨ç®¡ç†è€…æ¨¡å¼ä¸‹ï¼ŒæœåŠ¡è¿›ç¨‹æ˜¯ç®¡ç†è¿›ç¨‹çš„å­è¿›ç¨‹ï¼Œå½“æ”¶åˆ°çƒ­é‡å¯ä¿¡å·æ—¶ï¼Œæ§åˆ¶è¿›ç¨‹ä¼šé€šçŸ¥å½“å‰æœåŠ¡è¿›ç¨‹é€€å‡ºï¼Œå½“å‰æœåŠ¡è¿›ç¨‹ä¼šå¤„ç†å½“å‰æœªå¤„ç†å®Œçš„è¿æ¥ï¼Œå¤„ç†å®Œæˆåè¿›ç¨‹é€€å‡ºã€‚æ§åˆ¶è¿›ç¨‹ä¼šæ–°å»ºä¸€ä¸ªå­è¿›ç¨‹ï¼Œå­è¿›ç¨‹ä¼šæ¥å¤„ç†æ–°çš„è¿æ¥ã€‚&lt;/p>
&lt;p>&lt;img src="https://pic.try-hard.cn/blog/image-20220301184843478.png"
loading="lazy"
alt="image-20220301184843478"
>&lt;/p>
&lt;h2 id="æ€»ç»“">æ€»ç»“
&lt;/h2>&lt;p>ä¸¤ç§æ¨¡å¼éƒ½èƒ½å¤Ÿå®ç°çƒ­é‡å¯ï¼Œä½†æ˜¯ä¸¤ç§æ¨¡å¼ä¼šæœ‰ä¸€å®šçš„å·®å¼‚ã€‚ç¬¬ä¸€ç§æ–¹å¼ä¸‹é‡è½½åè¿›ç¨‹ PID ä¼šå‘ç”Ÿæ”¹å˜ï¼Œç¬¬äºŒç§æœ‰æ— çˆ¶è¿›ç¨‹æœªé”€æ¯å› æ­¤ PID ä¸ä¼šå‘ç”Ÿä¿®æ”¹ã€‚&lt;/p>
&lt;p>ç›¸è¾ƒè€Œè¨€ï¼Œç¬¬ä¸€ç§æ–¹å¼æ›´é€‚åˆå•æœåŠ¡çš„æƒ…å†µï¼Œç¬¬äºŒç§æ›´é€‚åˆå¤šæœåŠ¡çš„æƒ…å†µã€‚&lt;/p></description></item><item><title>æ›´æ¢ yum æºä¸ºé˜¿é‡Œæº</title><link>https://wlynxg.github.io/blog/p/%E6%9B%B4%E6%8D%A2-yum-%E6%BA%90%E4%B8%BA%E9%98%BF%E9%87%8C%E6%BA%90/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/%E6%9B%B4%E6%8D%A2-yum-%E6%BA%90%E4%B8%BA%E9%98%BF%E9%87%8C%E6%BA%90/</guid><description>&lt;h1 id="æ›´æ¢-yum-æºä¸ºé˜¿é‡Œæº">æ›´æ¢ yum æºä¸ºé˜¿é‡Œæº
&lt;/h1>&lt;blockquote>
&lt;p>ç›®æ ‡ï¼šæ›´æ¢ yum æºä¸ºé˜¿é‡Œæº&lt;/p>
&lt;p>ç³»ç»Ÿï¼šCentos 7.9&lt;/p>
&lt;/blockquote>
&lt;h2 id="æ­¥éª¤">æ­¥éª¤
&lt;/h2>&lt;h3 id="1-å¤‡ä»½æ—§çš„é…ç½®æ–‡ä»¶">1. å¤‡ä»½æ—§çš„é…ç½®æ–‡ä»¶
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /etc/yum.repos.d/ &lt;span class="c1"># è¿›å…¥æ–‡ä»¶å¤¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mv CentOS-Base.repo CentOS-Base.repo_back &lt;span class="c1"># å¤‡ä»½åŸå§‹é…ç½®æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="2-ä¸‹è½½é˜¿é‡Œæºçš„æ–‡ä»¶">2. ä¸‹è½½é˜¿é‡Œæºçš„æ–‡ä»¶
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">wget -O CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è‹¥æ²¡æœ‰ wget å¯ä½¿ç”¨ curl&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl -o CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="3-å®‰è£…-epel-repo-æº">3. å®‰è£… epel repo æº
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">wget -O epel.repo http://mirrors.aliyun.com/repo/epel-7.repo
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è‹¥æ²¡æœ‰ wget å¯ä½¿ç”¨ curl&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl -o epel.repo http://mirrors.aliyun.com/repo/epel-7.repo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="4-æ¸…ç†ç¼“å­˜">4. æ¸…ç†ç¼“å­˜
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">yum clean all
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="5-é‡æ–°ç”Ÿæˆç¼“å­˜">5. é‡æ–°ç”Ÿæˆç¼“å­˜
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">yum makecache
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="6-æ›´æ–°">6. æ›´æ–°
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">yum -y update
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>ä½¿ç”¨lså‘½ä»¤æ—¶å‡ºç°çš„total</title><link>https://wlynxg.github.io/blog/p/%E4%BD%BF%E7%94%A8ls%E5%91%BD%E4%BB%A4%E6%97%B6%E5%87%BA%E7%8E%B0%E7%9A%84total/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/%E4%BD%BF%E7%94%A8ls%E5%91%BD%E4%BB%A4%E6%97%B6%E5%87%BA%E7%8E%B0%E7%9A%84total/</guid><description>&lt;p>å½“æˆ‘ä»¬åœ¨ä½¿ç”¨lså‘½ä»¤åˆ—å‡ºæ–‡ä»¶å¤¹ä¸‹å†…å®¹æ—¶ï¼Œæˆ‘ä»¬ä¼šå‘ç°æœ‰ä¸€ä¸ªtotalè¡Œï¼Œåœ¨totalåé¢è¿˜æœ‰ä¸€ä¸ªæ•°å­—ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>GNU@ecs-x ~&lt;span class="o">]&lt;/span>$ ls -li
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">total &lt;span class="m">44&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">926532&lt;/span> drwxr-xr-x &lt;span class="m">2&lt;/span> GNU GNU &lt;span class="m">4096&lt;/span> Feb &lt;span class="m">25&lt;/span> 09:56 Desktop
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">926536&lt;/span> drwxr-xr-x &lt;span class="m">2&lt;/span> GNU GNU &lt;span class="m">4096&lt;/span> Feb &lt;span class="m">23&lt;/span> 19:10 Documents
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">926533&lt;/span> drwxr-xr-x &lt;span class="m">2&lt;/span> GNU GNU &lt;span class="m">4096&lt;/span> Feb &lt;span class="m">23&lt;/span> 19:10 Downloads
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">926537&lt;/span> drwxr-xr-x &lt;span class="m">2&lt;/span> GNU GNU &lt;span class="m">4096&lt;/span> Feb &lt;span class="m">23&lt;/span> 19:10 Music
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">926538&lt;/span> drwxr-xr-x &lt;span class="m">2&lt;/span> GNU GNU &lt;span class="m">4096&lt;/span> Feb &lt;span class="m">23&lt;/span> 19:10 Pictures
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">926535&lt;/span> drwxr-xr-x &lt;span class="m">2&lt;/span> GNU GNU &lt;span class="m">4096&lt;/span> Feb &lt;span class="m">23&lt;/span> 19:10 Public
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">926534&lt;/span> drwxr-xr-x &lt;span class="m">2&lt;/span> GNU GNU &lt;span class="m">4096&lt;/span> Feb &lt;span class="m">23&lt;/span> 19:10 Templates
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">925774&lt;/span> -rw-rw-r-- &lt;span class="m">1&lt;/span> GNU GNU &lt;span class="m">127&lt;/span> Feb &lt;span class="m">26&lt;/span> 18:09 test.py
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">925571&lt;/span> -rw-rw-r-- &lt;span class="m">1&lt;/span> GNU GNU &lt;span class="m">7&lt;/span> Feb &lt;span class="m">25&lt;/span> 17:41 test.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">926479&lt;/span> drwxr-xr-t &lt;span class="m">2&lt;/span> GNU GNU &lt;span class="m">4096&lt;/span> Feb &lt;span class="m">23&lt;/span> 19:10 thinclient_drives
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">926539&lt;/span> drwxr-xr-x &lt;span class="m">2&lt;/span> GNU GNU &lt;span class="m">4096&lt;/span> Feb &lt;span class="m">23&lt;/span> 19:10 Videos
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é‚£ä¹ˆè¿™ä¸ªtotalä»£è¡¨çš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ
äº‹å®ä¸Šè¿™ä¸ªtotalåçš„æ•°å­—æ˜¯ä»£è¡¨ç€è¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰é¡¹ç›®å æ®çš„æ€»å†…å­˜ç©ºé—´ã€‚åœ¨lså‘½ä»¤åé¢åŠ ä¸Š &lt;strong>-h&lt;/strong> å¯ä»¥æ›´æ¸…æ¥šçš„çœ‹åˆ°è¿™ä¸ªæ•ˆæœã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>GNU@ecs-x ~&lt;span class="o">]&lt;/span>$ ls -lih
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">total 44K
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">926532&lt;/span> drwxr-xr-x &lt;span class="m">2&lt;/span> GNU GNU 4.0K Feb &lt;span class="m">25&lt;/span> 09:56 Desktop
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">926536&lt;/span> drwxr-xr-x &lt;span class="m">2&lt;/span> GNU GNU 4.0K Feb &lt;span class="m">23&lt;/span> 19:10 Documents
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">926533&lt;/span> drwxr-xr-x &lt;span class="m">2&lt;/span> GNU GNU 4.0K Feb &lt;span class="m">23&lt;/span> 19:10 Downloads
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">926537&lt;/span> drwxr-xr-x &lt;span class="m">2&lt;/span> GNU GNU 4.0K Feb &lt;span class="m">23&lt;/span> 19:10 Music
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">926538&lt;/span> drwxr-xr-x &lt;span class="m">2&lt;/span> GNU GNU 4.0K Feb &lt;span class="m">23&lt;/span> 19:10 Pictures
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">926535&lt;/span> drwxr-xr-x &lt;span class="m">2&lt;/span> GNU GNU 4.0K Feb &lt;span class="m">23&lt;/span> 19:10 Public
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">926534&lt;/span> drwxr-xr-x &lt;span class="m">2&lt;/span> GNU GNU 4.0K Feb &lt;span class="m">23&lt;/span> 19:10 Templates
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">925774&lt;/span> -rw-rw-r-- &lt;span class="m">1&lt;/span> GNU GNU &lt;span class="m">127&lt;/span> Feb &lt;span class="m">26&lt;/span> 18:09 test.py
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">925571&lt;/span> -rw-rw-r-- &lt;span class="m">1&lt;/span> GNU GNU &lt;span class="m">7&lt;/span> Feb &lt;span class="m">25&lt;/span> 17:41 test.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">926479&lt;/span> drwxr-xr-t &lt;span class="m">2&lt;/span> GNU GNU 4.0K Feb &lt;span class="m">23&lt;/span> 19:10 thinclient_drives
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">926539&lt;/span> drwxr-xr-x &lt;span class="m">2&lt;/span> GNU GNU 4.0K Feb &lt;span class="m">23&lt;/span> 19:10 Videos
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>ç§æœ‰ç›¸å†Œ PhotoPrism è°ƒç ”</title><link>https://wlynxg.github.io/blog/p/%E7%A7%81%E6%9C%89%E7%9B%B8%E5%86%8C-photoprism-%E8%B0%83%E7%A0%94/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/%E7%A7%81%E6%9C%89%E7%9B%B8%E5%86%8C-photoprism-%E8%B0%83%E7%A0%94/</guid><description>&lt;h1 id="ç§æœ‰ç›¸å†Œ-photoprism-è°ƒç ”">ç§æœ‰ç›¸å†Œ PhotoPrism è°ƒç ”
&lt;/h1>&lt;h2 id="å®‰è£…">å®‰è£…
&lt;/h2>&lt;p>å½“å‰ä»‹ç»æ–¹å¼ä¸º docker-compose å®‰è£…:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">mkdir PhotoPrism &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">cd&lt;/span> PhotoPrism
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä¸‹è½½docker-composeé…ç½®æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">wget https://dl.photoprism.org/docker/docker-compose.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ é™¤ä¸éœ€è¦çš„é…ç½®é¡¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim docker-compose.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">security_opt:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - seccomp:unconfined
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - apparmor:unconfined
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>ç½‘ç»œèµ„æºæµ‹è¯•</title><link>https://wlynxg.github.io/blog/p/%E7%BD%91%E7%BB%9C%E8%B5%84%E6%BA%90%E6%B5%8B%E8%AF%95/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/%E7%BD%91%E7%BB%9C%E8%B5%84%E6%BA%90%E6%B5%8B%E8%AF%95/</guid><description>&lt;h1 id="ç½‘ç»œèµ„æºæœåŠ¡æµ‹è¯•">ç½‘ç»œèµ„æºæœåŠ¡æµ‹è¯•
&lt;/h1>&lt;p>&lt;img src="https://pic.try-hard.cn/blog/image-20220719093856405.png"
loading="lazy"
alt="image-20220719093856405"
>&lt;/p>
&lt;h2 id="ä¸€ç›´è¿èµ„æºæœåŠ¡å™¨">ä¸€ã€ç›´è¿èµ„æºæœåŠ¡å™¨
&lt;/h2>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¯åŠ¨èµ„æºæœåŠ¡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">python3 -m http.server &lt;span class="m">8081&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è®¿é—®èµ„æºæœåŠ¡ -&amp;gt; æˆåŠŸ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl http://10.0.66.174:8081
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="äºŒè®¿é—®-server-a">äºŒã€è®¿é—® Server A
&lt;/h2>&lt;h3 id="1-è®¿é—®-192-ç½‘æ®µ">1. è®¿é—® 192 ç½‘æ®µ
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é…ç½® iptables è®¾ç½®è¿œç¨‹ç«¯å£è½¬å‘ 10.0.66.96:8002 -&amp;gt; 10.0.66.174:8081&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># DNATï¼šå°†ç›®çš„åœ°å€æ›¿æ¢ä¸º10.0.66.174:8081&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -A PREROUTING -d 10.0.66.96 -p tcp --dport &lt;span class="m">8002&lt;/span> -j DNAT --to-destination 10.0.66.174:8081
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># SNATï¼šå°†æºåœ°å€æ›¿æ¢ä¸º10.0.66.96&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -A POSTROUTING -d 10.0.66.174 -p tcp --dport &lt;span class="m">8081&lt;/span> -j SNAT --to 10.0.66.96
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è®¿é—®æœåŠ¡å™¨ A -&amp;gt; æˆåŠŸ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl http://10.0.66.96:8002
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="2-è®¿é—®-100-ç½‘æ®µ">2. è®¿é—® 100 ç½‘æ®µ
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é…ç½® iptables è®¾ç½®è¿œç¨‹ç«¯å£è½¬å‘ 100.93.105.24:8002 -&amp;gt; 10.0.66.174:8081&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -A PREROUTING -d 100.93.105.24 -p tcp --dport &lt;span class="m">8002&lt;/span> -j DNAT --to-destination 10.0.66.174:8081
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -A POSTROUTING -d 10.0.66.174 -p tcp --dport &lt;span class="m">8081&lt;/span> -j SNAT --to 100.93.105.24
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è®¿é—®æœåŠ¡å™¨ A -&amp;gt; æˆåŠŸ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl http://100.93.105.24:8002
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ä¸‰è®¿é—®-server-b">ä¸‰ã€è®¿é—® Server B
&lt;/h2>&lt;h3 id="1-server-a-å’Œ-b-é€šè¿‡ç‰©ç†ç½‘å¡è¿æ¥è®¿é—®192ç½‘æ®µ">1. Server A å’Œ B é€šè¿‡ç‰©ç†ç½‘å¡è¿æ¥ï¼Œè®¿é—®192ç½‘æ®µ
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Server Aï¼š10.0.66.96:8002 -&amp;gt; 10.0.66.174:8081&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -A PREROUTING -d 10.0.66.96 -p tcp --dport &lt;span class="m">8002&lt;/span> -j DNAT --to-destination 10.0.66.174:8081
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -A POSTROUTING -d 10.0.66.174 -p tcp --dport &lt;span class="m">8081&lt;/span> -j SNAT --to 10.0.66.96
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Server Bï¼š10.0.66.247:8001 -&amp;gt; 10.0.66.96:8002&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -A PREROUTING -d 10.0.66.247 -p tcp --dport &lt;span class="m">8001&lt;/span> -j DNAT --to-destination 10.0.66.96:8002
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -A POSTROUTING -d 10.0.66.96 -p tcp --dport &lt;span class="m">8002&lt;/span> -j SNAT --to 10.0.66.247
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è®¿é—®æœåŠ¡å™¨ B -&amp;gt; æˆåŠŸ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl http://10.0.66.247:8001
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="2-server-a-å’Œ-b-é€šè¿‡-vpn-è¿æ¥è®¿é—®100ç½‘æ®µ">2. Server A å’Œ B é€šè¿‡ VPN è¿æ¥ï¼Œè®¿é—®100ç½‘æ®µ
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Server Aï¼š100.93.105.24:8002 -&amp;gt; 10.0.66.174:8081&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -A PREROUTING -d 100.93.105.24 -p tcp --dport &lt;span class="m">8002&lt;/span> -j DNAT --to-destination 10.0.66.174:8081
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -A POSTROUTING -d 10.0.66.174 -p tcp --dport &lt;span class="m">8081&lt;/span> -j SNAT --to 100.93.105.24
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Server Bï¼š100.88.225.73:8001 -&amp;gt; 100.93.105.24:8002&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -A PREROUTING -d 100.88.225.73 -p tcp --dport &lt;span class="m">8001&lt;/span> -j DNAT --to-destination 100.93.105.24:8002
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -A POSTROUTING -d 100.93.105.24 -p tcp --dport &lt;span class="m">8002&lt;/span> -j SNAT --to 100.88.225.73
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è®¿é—®æœåŠ¡å™¨ B -&amp;gt; æˆåŠŸ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl http://100.88.225.73:8001
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="3-server-a-å’Œ-b-é€šè¿‡-vpn-è¿æ¥è®¿é—®-192-ç½‘æ®µ">3. Server A å’Œ B é€šè¿‡ VPN è¿æ¥ï¼Œè®¿é—® 192 ç½‘æ®µ
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Server Aï¼š100.93.105.24:8002 -&amp;gt; 10.0.66.174:8081&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -A PREROUTING -d 100.93.105.24 -p tcp --dport &lt;span class="m">8002&lt;/span> -j DNAT --to-destination 10.0.66.174:8081
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -A POSTROUTING -d 10.0.66.174 -p tcp --dport &lt;span class="m">8081&lt;/span> -j SNAT --to 100.93.105.24
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Server Bï¼š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -A PREROUTING -d 10.0.66.247 -p tcp --dport &lt;span class="m">8001&lt;/span> -j DNAT --to-destination 100.93.105.24:8002
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è‡ªåŠ¨è½¬æ¢æºåœ°å€&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">iptables -t nat -A POSTROUTING -o tailscale0 -j MASQUERADE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è®¿é—®æœåŠ¡å™¨ B -&amp;gt; æˆåŠŸ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl http://10.0.66.247:8001
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>å¾®ä¿¡å°ç¨‹åº API</title><link>https://wlynxg.github.io/blog/p/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F-api/</link><pubDate>Thu, 02 Mar 2023 09:55:21 +0800</pubDate><guid>https://wlynxg.github.io/blog/p/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F-api/</guid><description>&lt;h1 id="å¾®ä¿¡å°ç¨‹åºapi">å¾®ä¿¡å°ç¨‹åºAPI
&lt;/h1>&lt;h2 id="æ¦‚è¦">æ¦‚è¦
&lt;/h2>&lt;ul>
&lt;li>&lt;strong>è¯·æ±‚æ–¹å¼éƒ½ä¸º POSTï¼&lt;/strong>&lt;/li>
&lt;li>&lt;strong>HTTP è¯·æ±‚ç ä¸º 400 æ—¶ä»£è¡¨è¾“å…¥æœ‰è¯¯ï¼&lt;/strong>&lt;/li>
&lt;li>&lt;strong>HTTP è¯·æ±‚ç ä¸ºä¸º 200 æ—¶ä»£è¡¨è¯·æ±‚æˆåŠŸï¼&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h2 id="1-è¡¨è¾¾å¼è½¬latex">1. è¡¨è¾¾å¼è½¬LaTex
&lt;/h2>&lt;p>&lt;strong>url&lt;/strong>: &lt;a class="link" href="https://try-hard.cn/generate_latex" target="_blank" rel="noopener"
>https://try-hard.cn/generate_latex&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;exp&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;x^2&amp;#34;&lt;/span> &lt;span class="c1">// è¡¨è¾¾å¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>è¿”å›ç»“æœ&lt;/strong>ï¼š&lt;/p>
&lt;p>&lt;img src="https://latex.codecogs.com/png.latex?%5Cinline%20%5Cdpi%7B300%7D%20%5Cbg_white%20%5Chuge%20x%5E%7B2%7D"
loading="lazy"
alt="x^2"
>&lt;/p>
&lt;h2 id="2-è¡¨è¾¾å¼è®¡ç®—">2. è¡¨è¾¾å¼è®¡ç®—
&lt;/h2>&lt;p>&lt;strong>url&lt;/strong>: &lt;a class="link" href="https://try-hard.cn/simple" target="_blank" rel="noopener"
>https://try-hard.cn/simple&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;exp&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;1+10&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// è¡¨è¾¾å¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;args&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æš‚ä¸ä½¿ç”¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;retain&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;2&amp;#34;&lt;/span> &lt;span class="c1">// ç»“æœä¿ç•™ä½æ•°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>è¿”å›ç»“æœ&lt;/strong>ï¼š&lt;/p>
&lt;p>&lt;img src="https://latex.codecogs.com/png.latex?%5Cinline%20%5Cdpi%7B300%7D%20%5Cbg_white%20%5Chuge%20%5Cmathtt%7B%5Ctext%7B11.00%7D%7D"
loading="lazy"
alt="1&amp;#43;10"
>&lt;/p>
&lt;h2 id="3-å‡½æ•°æ±‚å¯¼">3. å‡½æ•°æ±‚å¯¼
&lt;/h2>&lt;p>&lt;strong>url&lt;/strong>: &lt;a class="link" href="https://try-hard.cn/derivative" target="_blank" rel="noopener"
>https://try-hard.cn/derivative&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;exp&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;x^2&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æ±‚å¯¼è¡¨è¾¾å¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;var&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;x&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// è¢«æ±‚å¯¼å˜é‡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;order&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;1&amp;#34;&lt;/span> &lt;span class="c1">// é˜¶æ•°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>è¿”å›ç»“æœ&lt;/strong>ï¼š&lt;/p>
&lt;p>&lt;img src="https://latex.codecogs.com/png.latex?%5Cinline%20%5Cdpi%7B300%7D%20%5Cbg_white%20%5Chuge%202%20x"
loading="lazy"
alt="x^2"
>&lt;/p>
&lt;h2 id="4-ç§¯åˆ†æ±‚è§£">4. ç§¯åˆ†æ±‚è§£
&lt;/h2>&lt;p>&lt;strong>url&lt;/strong>: &lt;a class="link" href="https://try-hard.cn/integral" target="_blank" rel="noopener"
>https://try-hard.cn/integral&lt;/a>&lt;/p>
&lt;p>&lt;strong>å®šç§¯åˆ†&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;exp&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;x^2*(1-x^2)^(1/2)&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// è¢«ç§¯è¡¨è¾¾å¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;vars&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;x&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// ç§¯åˆ†å˜é‡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;upper&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// ç§¯åˆ†ä¸Šé™
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;lower&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;-1&amp;#34;&lt;/span> &lt;span class="c1">// ç§¯åˆ†ä¸‹é™
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>è¿”å›ç»“æœ&lt;/strong>ï¼š&lt;/p>
&lt;p>&lt;img src="https://latex.codecogs.com/png.latex?%5Cinline%20%5Cdpi%7B300%7D%20%5Cbg_white%20%5Chuge%20%5Cfrac%7B%5Cpi%7D%7B8%7D"
loading="lazy"
alt="x^2*(1-x^2)^(1/2)"
>&lt;/p>
&lt;p>&lt;strong>ä¸å®šç§¯åˆ†&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">&amp;#39;exp&amp;#39;:&lt;/span> &lt;span class="err">&amp;#39;x^k&amp;#39;,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="err">&amp;#39;vars&amp;#39;:&lt;/span> &lt;span class="err">&amp;#39;x&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>è¿”å›ç»“æœï¼š&lt;/strong>&lt;/p>
&lt;p>&lt;img src="https://latex.codecogs.com/png.latex?%5Cinline%20%5Cdpi%7B300%7D%20%5Cbg_white%20%5Chuge%20%5Cbegin%7Bcases%7D%20%5Cfrac%7Bx%5E%7Bk%20%2B%201%7D%7D%7Bk%20%2B%201%7D%20%26%20%5Ctext%7Bfor%7D%5C%3A%20k%20%5Cneq%20-1%20%5C%5C%5Clog%7B%5Cleft%28x%20%5Cright%29%7D%20%26%20%5Ctext%7Botherwise%7D%20%5Cend%7Bcases%7D"
loading="lazy"
alt="x^k"
>&lt;/p>
&lt;h2 id="5-æé™æ±‚å–">5. æé™æ±‚å–
&lt;/h2>&lt;p>&lt;strong>url&lt;/strong>: &lt;a class="link" href="https://try-hard.cn/limit" target="_blank" rel="noopener"
>https://try-hard.cn/limit&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;exp&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;(asin(x)-atan(x))/(sin(x)-tan(x))&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æ±‚æé™çš„å¼å­
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;var&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;x&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å˜é‡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;value&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// æé™ç‚¹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;symbol&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span> &lt;span class="c1">// å·¦ä¾§é€¼è¿‘åˆ™ä¸º -ï¼›å³ä¾§é€¼è¿‘åˆ™ä¸º +ï¼›ä¸¤ä¾§é€¼è¿‘åˆ™ä¸º ç©º
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>è¿”å›ç»“æœ&lt;/strong>ï¼š&lt;/p>
&lt;p>&lt;img src="https://latex.codecogs.com/png.latex?%5Cinline%20%5Cdpi%7B300%7D%20%5Cbg_white%20%5Chuge%20-1"
loading="lazy"
>&lt;/p>
&lt;h2 id="6-è§£æ–¹ç¨‹">6. è§£æ–¹ç¨‹
&lt;/h2>&lt;p>&lt;strong>url&lt;/strong>: &lt;a class="link" href="https://try-hard.cn/solve" target="_blank" rel="noopener"
>https://try-hard.cn/solve&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;exps&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;x+1=y&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;x+2=5&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="c1">// æ–¹ç¨‹ç»„
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;vars&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;x&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;y&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="c1">// æœªçŸ¥æ•°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>è¿”å›ç»“æœ&lt;/strong>ï¼š&lt;/p>
&lt;p>&lt;img src="https://latex.codecogs.com/png.latex?%5Cinline%20%5Cdpi%7B300%7D%20%5Cbg_white%20%5Chuge%20%5Cleft%5C%7B%5Cbegin%7Bmatrix%7Dx%20%3D%203%5C%5Cy%20%3D%204%5Cend%7Bmatrix%7D%5Cright."
loading="lazy"
>&lt;/p>
&lt;h2 id="7-åå‡½æ•°æ±‚å–">7. åå‡½æ•°æ±‚å–
&lt;/h2>&lt;p>&lt;strong>url&lt;/strong>: &lt;a class="link" href="https://try-hard.cn/inverse" target="_blank" rel="noopener"
>https://try-hard.cn/inverse&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;exp&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;y=sin(x)&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å‡½æ•°è¡¨è¾¾å¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;var&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;x&amp;#34;&lt;/span> &lt;span class="c1">// å˜é‡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>è¿”å›ç»“æœ&lt;/strong>ï¼š&lt;/p>
&lt;p>&lt;img src="https://latex.codecogs.com/png.latex?%5Cinline%20%5Cdpi%7B300%7D%20%5Cbg_white%20%5Chuge%20%5Cleft%5C%7B%5Cbegin%7Bmatrix%7Dx%20%3D%20%5Cpi%20-%20%5Coperatorname%7Basin%7D%7B%5Cleft%28y%20%5Cright%29%7D%5C%5Cx%20%3D%20%5Coperatorname%7Basin%7D%7B%5Cleft%28y%20%5Cright%29%7D%5Cend%7Bmatrix%7D%5Cright."
loading="lazy"
>&lt;/p>
&lt;h2 id="8-æ³°å‹’çº§æ•°å±•å¼€">8. æ³°å‹’çº§æ•°å±•å¼€
&lt;/h2>&lt;p>&lt;strong>url&lt;/strong>: &lt;a class="link" href="https://try-hard.cn/series" target="_blank" rel="noopener"
>https://try-hard.cn/series&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;exp&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;atan(x)&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å‡½æ•°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;var&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;x&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// è‡ªå˜é‡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;point&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// å±•å¼€ç‚¹
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;power&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">7&lt;/span> &lt;span class="c1">// å¹‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>è¿”å›ç»“æœ&lt;/strong>ï¼š&lt;/p>
&lt;p>&lt;img src="https://latex.codecogs.com/png.latex?%5Cinline%20%5Cdpi%7B300%7D%20%5Cbg_white%20%5Chuge%20x%20-%20%5Cfrac%7Bx%5E%7B3%7D%7D%7B3%7D%20%2B%20%5Cfrac%7Bx%5E%7B5%7D%7D%7B5%7D%20-%20%5Cfrac%7Bx%5E%7B7%7D%7D%7B7%7D%20%2B%20O%5Cleft%28x%5E%7B8%7D%5Cright%29"
loading="lazy"
>&lt;/p>
&lt;h2 id="9-å› å¼åˆ†è§£">9. å› å¼åˆ†è§£
&lt;/h2>&lt;p>&lt;strong>url&lt;/strong>: &lt;a class="link" href="https://try-hard.cn/factor" target="_blank" rel="noopener"
>https://try-hard.cn/factor&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;exp&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;x**3 - x**2 + x - 1&amp;#34;&lt;/span> &lt;span class="c1">// è¢«åˆ†è§£çš„å¼å­
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>è¿”å›ç»“æœ&lt;/strong>ï¼š&lt;/p>
&lt;p>&lt;img src="https://latex.codecogs.com/png.latex?%5Cinline%20%5Cdpi%7B300%7D%20%5Cbg_white%20%5Chuge%20%5Cleft%28x%20-%201%5Cright%29%20%5Cleft%28x%5E%7B2%7D%20%2B%201%5Cright%29"
loading="lazy"
>&lt;/p>
&lt;h2 id="10-å¤šé¡¹å¼å±•å¼€">10. å¤šé¡¹å¼å±•å¼€
&lt;/h2>&lt;p>&lt;strong>url&lt;/strong>: &lt;a class="link" href="https://try-hard.cn/expand" target="_blank" rel="noopener"
>https://try-hard.cn/expand&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;exp&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;(x + 1)**2&amp;#34;&lt;/span> &lt;span class="c1">// è¢«å±•å¼€çš„å¼å­
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>è¿”å›ç»“æœ&lt;/strong>ï¼š&lt;/p>
&lt;p>&lt;img src="https://latex.codecogs.com/png.latex?%5Cinline%20%5Cdpi%7B300%7D%20%5Cbg_white%20%5Chuge%20x%5E%7B2%7D%20%2B%202%20x%20%2B%201"
loading="lazy"
>&lt;/p>
&lt;h2 id="11-åˆå¹¶åŒç±»é¡¹">11. åˆå¹¶åŒç±»é¡¹
&lt;/h2>&lt;p>&lt;strong>url&lt;/strong>: &lt;a class="link" href="https://try-hard.cn/collect" target="_blank" rel="noopener"
>https://try-hard.cn/collect&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;exp&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;x*y + x - 3 + 2*x**2 - z*x**2 + x**3&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// è¡¨è¾¾å¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;var&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;x&amp;#34;&lt;/span> &lt;span class="c1">// è¦åˆå¹¶çš„è‡ªå˜é‡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>è¿”å›ç»“æœ&lt;/strong>ï¼š&lt;/p>
&lt;p>&lt;img src="https://latex.codecogs.com/png.latex?%5Cinline%20%5Cdpi%7B300%7D%20%5Cbg_white%20%5Chuge%20x%5E%7B3%7D%20%2B%20x%5E%7B2%7D%20%5Cleft%282%20-%20z%5Cright%29%20%2B%20x%20%5Cleft%28y%20%2B%201%5Cright%29%20-%203"
loading="lazy"
>&lt;/p>
&lt;h2 id="12-æœ‰ç†åˆ†å¼åŒ–ç®€">12. æœ‰ç†åˆ†å¼åŒ–ç®€
&lt;/h2>&lt;p>&lt;strong>url&lt;/strong>: &lt;a class="link" href="https://try-hard.cn/cancel" target="_blank" rel="noopener"
>https://try-hard.cn/cancel&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;exp&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;(x**2 + 2*x + 1)/(x**2 + x)&amp;#34;&lt;/span> &lt;span class="c1">// è¡¨è¾¾å¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>è¿”å›ç»“æœ&lt;/strong>ï¼š&lt;/p>
&lt;p>&lt;img src="https://latex.codecogs.com/png.latex?%5Cinline%20%5Cdpi%7B300%7D%20%5Cbg_white%20%5Chuge%20%5Cfrac%7Bx%20%2B%201%7D%7Bx%7D"
loading="lazy"
>&lt;/p>
&lt;h2 id="13-éƒ¨åˆ†åˆ†å¼å±•å¼€">13. éƒ¨åˆ†åˆ†å¼å±•å¼€
&lt;/h2>&lt;p>&lt;strong>url&lt;/strong>: &lt;a class="link" href="https://try-hard.cn/apart" target="_blank" rel="noopener"
>https://try-hard.cn/apart&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;exp&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;(4*x**3 + 21*x**2 + 10*x + 12)/(x**4 + 5*x**3 + 5*x**2 + 4*x)&amp;#34;&lt;/span> &lt;span class="c1">// è¡¨è¾¾å¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>è¿”å›ç»“æœ&lt;/strong>ï¼š&lt;/p>
&lt;p>&lt;img src="https://latex.codecogs.com/png.latex?%5Cinline%20%5Cdpi%7B300%7D%20%5Cbg_white%20%5Chuge%20%5Cfrac%7B2%20x%20-%201%7D%7Bx%5E%7B2%7D%20%2B%20x%20%2B%201%7D%20-%20%5Cfrac%7B1%7D%7Bx%20%2B%204%7D%20%2B%20%5Cfrac%7B3%7D%7Bx%7D"
loading="lazy"
>&lt;/p>
&lt;h2 id="14-é˜¶ä¹˜è®¡ç®—">14. é˜¶ä¹˜è®¡ç®—
&lt;/h2>&lt;p>&lt;strong>url&lt;/strong>: &lt;a class="link" href="https://try-hard.cn/factorial" target="_blank" rel="noopener"
>https://try-hard.cn/factorial&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;num&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">4&lt;/span> &lt;span class="c1">// é˜¶æ•°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>è¿”å›ç»“æœ&lt;/strong>ï¼š&lt;/p>
&lt;p>&lt;img src="https://latex.codecogs.com/png.latex?%5Cinline%20%5Cdpi%7B300%7D%20%5Cbg_white%20%5Chuge%2024"
loading="lazy"
>&lt;/p>
&lt;h2 id="15-æ±‚å’Œå¼è®¡ç®—">15. æ±‚å’Œå¼è®¡ç®—
&lt;/h2>&lt;p>**urlï¼š**&lt;a class="link" href="https://try-hard.cn/summation" target="_blank" rel="noopener"
>https://try-hard.cn/summation&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;exp&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;1/2^i&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// è¡¨è¾¾å¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;var&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;i&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// è‡ªå˜é‡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;start&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;0&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1">// èµ·å§‹å€¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nt">&amp;#34;end&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;oo&amp;#34;&lt;/span> &lt;span class="c1">// ç»“æŸå€¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;strong>è¿”å›ç»“æœï¼š&lt;/strong>&lt;/p>
&lt;p>&lt;img src="https://latex.codecogs.com/png.latex?%5Cinline%20%5Cdpi%7B300%7D%20%5Cbg_white%20%5Chuge%202"
loading="lazy"
>&lt;/p></description></item></channel></rss>